(self.webpackChunksample_application=self.webpackChunksample_application||[]).push([[849],{9849:($,a,S)=>{"use strict";S.r(a),S.d(a,{DataModule:()=>j});var i=S(529),O=S(6183),R=S(9299),H=S(433),x=S(1135),T=S(727),y=S(8372),I=S(1884),W=S(3900),q=S(262),B=S(9646),G=S(4004),_=(()=>{return(U=_||(_={})).Videos="videos",U.Doc="documents",_;var U})(),l=S(4650);let m=(()=>{class U{constructor(L){this.http=L}getUploadUrl(L,z,Z=_.Videos){return this.http.get(`/upload?fileName=${L}&fileType=${z}&directory=${Z}`).pipe((0,G.U)(oe=>oe))}getUrlVideo(L){return this.http.get(`/stream/${L}`).pipe((0,G.U)(z=>z))}getUrlDoc(L){return this.http.get(`/document/read/${L}`).pipe((0,G.U)(z=>z))}}return U.\u0275fac=function(L){return new(L||U)(l.LFG(i.eN))},U.\u0275prov=l.Yz7({token:U,factory:U.\u0275fac}),U})();var A=S(5439),w=S(6895),v=S(7044),t=S(1102),n=S(3055);const u=["videoPlayer"];function P(U,le){1&U&&l._UZ(0,"span",11)}function d(U,le){1&U&&(l.TgZ(0,"div",12),l._UZ(1,"span",13),l.qZA())}function b(U,le){1&U&&l._UZ(0,"span",14)}let p=(()=>{class U{constructor(){this.videoId="",this.title="",this.streamUrl="",this.currentTime$$=new x.X("--"),this.duration$$=new x.X("--"),this.progress$$=new x.X(0),this.isPlay$$=new x.X(!0),this.isLoad$$=new x.X(!0)}ngAfterViewInit(){const L=this.videoPlayer?.nativeElement;L.ontimeupdate=()=>{this.currentTime$$.next(`${this.formatTime(Math.floor(L.currentTime))}`),"--"===this.duration$$.value&&this.duration$$.next(`${this.formatTime(Math.floor(L.duration))}`),this.progress$$.next(L.currentTime/L.duration*100)}}formatTime(L){const z=A.duration(L,"seconds"),Z=z.hours(),oe=z.minutes(),me=z.seconds();return`${0!==Z?Z+":":""}${oe<10?"0":""}${oe}:${me<10?"0":""}${me}`}onReadyPlay(){this.isLoad$$.next(!1)}onClickVideo(){this.isPlay$$.value?this.videoPlayer?.nativeElement.pause():this.videoPlayer?.nativeElement.play(),this.isPlay$$.next(!this.isPlay$$.value)}}return U.\u0275fac=function(L){return new(L||U)},U.\u0275cmp=l.Xpm({type:U,selectors:[["bmh-video-stream"]],viewQuery:function(L,z){if(1&L&&l.Gf(u,5),2&L){let Z;l.iGM(Z=l.CRH())&&(z.videoPlayer=Z.first)}},inputs:{videoId:"videoId",title:"title",streamUrl:"streamUrl"},decls:20,vars:18,consts:[[1,"video-container"],[1,"block-video"],[1,"overlay"],[1,"video-play-pause",3,"click"],["nz-icon","","nzType","pause","nzTheme","outline",4,"ngIf","ngIfElse"],["nzStatus","active",3,"nzPercent","nzShowInfo"],["width","100%","autoplay","","oncontextmenu","return false;",1,"video",3,"canplay","click"],["videoPlayer",""],["type","video/mp4",3,"src"],["class","loader-video",4,"ngIf"],["playIcon",""],["nz-icon","","nzType","pause","nzTheme","outline"],[1,"loader-video"],["nz-icon","","nzType","loading","nzTheme","outline"],["nz-icon","","nzType","caret-right","nzTheme","outline"]],template:function(L,z){if(1&L&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),l.NdJ("click",function(){return z.onClickVideo()}),l.YNc(4,P,1,0,"span",4),l.ALo(5,"async"),l.qZA(),l.TgZ(6,"p"),l._uU(7),l.ALo(8,"async"),l.ALo(9,"async"),l.qZA(),l._UZ(10,"nz-progress",5),l.ALo(11,"async"),l.qZA(),l.TgZ(12,"video",6,7),l.NdJ("canplay",function(){return z.onReadyPlay()})("click",function(){return z.onClickVideo()}),l._UZ(14,"source",8),l._uU(15," Your browser does not support the video tag. "),l.qZA()()(),l.YNc(16,d,2,0,"div",9),l.ALo(17,"async"),l.YNc(18,b,1,0,"ng-template",null,10,l.W1O)),2&L){const Z=l.MAs(19);l.xp6(4),l.Q6J("ngIf",l.lcZ(5,8,z.isPlay$$))("ngIfElse",Z),l.xp6(3),l.AsE("",l.lcZ(8,10,z.currentTime$$)," / ",l.lcZ(9,12,z.duration$$),""),l.xp6(3),l.Q6J("nzPercent",l.lcZ(11,14,z.progress$$))("nzShowInfo",!1),l.xp6(4),l.Q6J("src",z.streamUrl,l.LSH),l.xp6(2),l.Q6J("ngIf",l.lcZ(17,16,z.isLoad$$))}},dependencies:[w.O5,v.w,t.Ls,n.M,w.Ov],styles:[".overlay[_ngcontent-%COMP%]{background-color:#0000001a;width:100%;display:flex;position:absolute;color:#181717;z-index:10000;left:0;align-items:center;flex-wrap:nowrap;flex-direction:row}.overlay[_ngcontent-%COMP%]   .video-play-pause[_ngcontent-%COMP%]{margin:0 10px;cursor:pointer;max-width:28px;flex:1}.overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:0;min-width:100px;flex:1;align-items:center}.overlay[_ngcontent-%COMP%]   nz-progress[_ngcontent-%COMP%]{height:100%;margin-right:5px;flex:5}.block-video[_ngcontent-%COMP%]{display:flex;height:40vh}.block-video[_ngcontent-%COMP%]   .video[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:90px;left:0}.loader-video[_ngcontent-%COMP%]{top:50%;left:50%;position:absolute;color:#4a4ec6;font-size:50px}"],changeDetection:0}),U})();var h=S(4968),M=S(7579),E=S(2076),N=S(2722),J=S(9300),te=S(6036),ne=S.t(te,2),se=S(2813),fe=S.t(se,2);const ue=["pdfViewerContainer"];function e(U,le,L){U[le]=L}function r(){return typeof window>"u"}r()||e(ne,"verbosity",te.VerbosityLevel.INFOS);var o=(()=>{return(U=o||(o={}))[U.DISABLED=0]="DISABLED",U[U.ENABLED=1]="ENABLED",U[U.ENHANCED=2]="ENHANCED",o;var U})();let g=(()=>{class U{constructor(L,z){if(this.element=L,this.ngZone=z,this.isVisible=!1,this._cMapsUrl=typeof ne<"u"?`https://unpkg.com/pdfjs-dist@${te.version}/cmaps/`:null,this._imageResourcesPath=typeof ne<"u"?`https://unpkg.com/pdfjs-dist@${te.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=o.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new M.x,this.afterLoadComplete=new l.vpe,this.pageRendered=new l.vpe,this.pageInitialized=new l.vpe,this.textLayerRendered=new l.vpe,this.onError=new l.vpe,this.onProgress=new l.vpe,this.pageChange=new l.vpe(!0),r())return;let Z;const oe=te.version;Z=window[`pdfWorkerSrc${oe}`]||(window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${oe}/legacy/build/pdf.worker.min.js`),e(te.GlobalWorkerOptions,"workerSrc",Z)}set cMapsUrl(L){this._cMapsUrl=L}set page(L){const z=L=parseInt(L,10)||1;this._pdf&&(L=this.getValidPageNumber(L)),this._page=L,z!==L&&this.pageChange.emit(L)}set renderText(L){this._renderText=L}set renderTextMode(L){this._renderTextMode=L}set originalSize(L){this._originalSize=L}set showAll(L){this._showAll=L}set stickToPage(L){this._stickToPage=L}set zoom(L){L<=0||(this._zoom=L)}get zoom(){return this._zoom}set zoomScale(L){this._zoomScale=L}get zoomScale(){return this._zoomScale}set rotation(L){"number"==typeof L&&L%90==0?this._rotation=L:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(L){this._externalLinkTarget=L}set autoresize(L){this._canAutoResize=Boolean(L)}set fitToPage(L){this._fitToPage=Boolean(L)}set showBorders(L){this._showBorders=Boolean(L)}static getLinkTarget(L){switch(L){case"blank":return se.LinkTarget.BLANK;case"none":return se.LinkTarget.NONE;case"self":return se.LinkTarget.SELF;case"parent":return se.LinkTarget.PARENT;case"top":return se.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const L=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=L?!1===this.isVisible&&null!=L&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(L){if(!r()&&this.isVisible)if("src"in L)this.loadPDF();else if(this._pdf){if("renderText"in L?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:o.DISABLED,this.resetPdfDocument()):"showAll"in L&&(this.setupViewer(),this.resetPdfDocument()),"page"in L){const{page:z}=L;if(z.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,E.D)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe((0,N.R)(this.destroy$)).subscribe({next:L=>{const z=this._rotation+L.rotate,Z=L.getViewport({scale:this._zoom,rotation:z}).width*U.CSS_UNITS;let oe=this._zoom,me=!0;if(!this._originalSize||this._fitToPage&&Z>this.pdfViewerContainer.nativeElement.clientWidth){const be=L.getViewport({scale:1,rotation:z});oe=this.getScale(be.width,be.height),me=!this._stickToPage}this.pdfViewer._setScale(oe,me)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfFindController.setDocument(null))}getPDFLinkServiceConfig(){const L=U.getLinkTarget(this._externalLinkTarget);return L?{externalLinkTarget:L}:{}}initEventBus(){this.eventBus=function F(U,le){const L=new U.EventBus;return function s(U,le){(0,h.R)(U,"documentload").pipe((0,N.R)(le)).subscribe(()=>{const L=document.createEvent("CustomEvent");L.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(L)}),(0,h.R)(U,"pagerendered").pipe((0,N.R)(le)).subscribe(({pageNumber:L,cssTransform:z,source:Z})=>{const oe=document.createEvent("CustomEvent");oe.initCustomEvent("pagerendered",!0,!0,{pageNumber:L,cssTransform:z}),Z.div.dispatchEvent(oe)}),(0,h.R)(U,"textlayerrendered").pipe((0,N.R)(le)).subscribe(({pageNumber:L,source:z})=>{const Z=document.createEvent("CustomEvent");Z.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:L}),z.textLayerDiv.dispatchEvent(Z)}),(0,h.R)(U,"pagechanging").pipe((0,N.R)(le)).subscribe(({pageNumber:L,source:z})=>{const Z=document.createEvent("UIEvents");Z.initEvent("pagechanging",!0,!0),Z.pageNumber=L,z.container.dispatchEvent(Z)}),(0,h.R)(U,"pagesinit").pipe((0,N.R)(le)).subscribe(({source:L})=>{const z=document.createEvent("CustomEvent");z.initCustomEvent("pagesinit",!0,!0,null),L.container.dispatchEvent(z)}),(0,h.R)(U,"pagesloaded").pipe((0,N.R)(le)).subscribe(({pagesCount:L,source:z})=>{const Z=document.createEvent("CustomEvent");Z.initCustomEvent("pagesloaded",!0,!0,{pagesCount:L}),z.container.dispatchEvent(Z)}),(0,h.R)(U,"scalechange").pipe((0,N.R)(le)).subscribe(({scale:L,presetValue:z,source:Z})=>{const oe=document.createEvent("UIEvents");oe.initEvent("scalechange",!0,!0),oe.scale=L,oe.presetValue=z,Z.container.dispatchEvent(oe)}),(0,h.R)(U,"updateviewarea").pipe((0,N.R)(le)).subscribe(({location:L,source:z})=>{const Z=document.createEvent("UIEvents");Z.initEvent("updateviewarea",!0,!0),Z.location=L,z.container.dispatchEvent(Z)}),(0,h.R)(U,"find").pipe((0,N.R)(le)).subscribe(({source:L,type:z,query:Z,phraseSearch:oe,caseSensitive:me,highlightAll:be,findPrevious:xe})=>{if(L===window)return;const we=document.createEvent("CustomEvent");we.initCustomEvent("find"+z,!0,!0,{query:Z,phraseSearch:oe,caseSensitive:me,highlightAll:be,findPrevious:xe}),window.dispatchEvent(we)}),(0,h.R)(U,"attachmentsloaded").pipe((0,N.R)(le)).subscribe(({attachmentsCount:L,source:z})=>{const Z=document.createEvent("CustomEvent");Z.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:L}),z.container.dispatchEvent(Z)}),(0,h.R)(U,"sidebarviewchanged").pipe((0,N.R)(le)).subscribe(({view:L,source:z})=>{const Z=document.createEvent("CustomEvent");Z.initCustomEvent("sidebarviewchanged",!0,!0,{view:L}),z.outerContainer.dispatchEvent(Z)}),(0,h.R)(U,"pagemode").pipe((0,N.R)(le)).subscribe(({mode:L,source:z})=>{const Z=document.createEvent("CustomEvent");Z.initCustomEvent("pagemode",!0,!0,{mode:L}),z.pdfViewer.container.dispatchEvent(Z)}),(0,h.R)(U,"namedaction").pipe((0,N.R)(le)).subscribe(({action:L,source:z})=>{const Z=document.createEvent("CustomEvent");Z.initCustomEvent("namedaction",!0,!0,{action:L}),z.pdfViewer.container.dispatchEvent(Z)}),(0,h.R)(U,"presentationmodechanged").pipe((0,N.R)(le)).subscribe(({active:L,switchInProgress:z})=>{const Z=document.createEvent("CustomEvent");Z.initCustomEvent("presentationmodechanged",!0,!0,{active:L,switchInProgress:z}),window.dispatchEvent(Z)}),(0,h.R)(U,"outlineloaded").pipe((0,N.R)(le)).subscribe(({outlineCount:L,source:z})=>{const Z=document.createEvent("CustomEvent");Z.initCustomEvent("outlineloaded",!0,!0,{outlineCount:L}),z.container.dispatchEvent(Z)})}(L,le),L}(fe,this.destroy$),(0,h.R)(this.eventBus,"pagerendered").pipe((0,N.R)(this.destroy$)).subscribe(L=>{this.pageRendered.emit(L)}),(0,h.R)(this.eventBus,"pagesinit").pipe((0,N.R)(this.destroy$)).subscribe(L=>{this.pageInitialized.emit(L)}),(0,h.R)(this.eventBus,"pagechanging").pipe((0,N.R)(this.destroy$)).subscribe(({pageNumber:L})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=L,this.pageChange.emit(L)},100)}),(0,h.R)(this.eventBus,"textlayerrendered").pipe((0,N.R)(this.destroy$)).subscribe(L=>{this.textLayerRendered.emit(L)})}initPDFServices(){this.pdfLinkService=new se.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new se.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:o.DISABLED,findController:this.pdfFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath}}setupViewer(){e(ne,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new se.PDFViewer(this.getPDFOptions()):new se.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(L){return L<1?1:L>this._pdf.numPages?this._pdf.numPages:L}getDocumentParams(){const L=typeof this.src;if(!this._cMapsUrl)return this.src;const z={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===L?z.url=this.src:"object"===L&&(void 0!==this.src.byteLength?z.data=this.src:Object.assign(z,this.src)),z}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=te.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=z=>{this.onProgress.emit(z)};const L=this.src;(0,E.D)(this.loadingTask.promise).pipe((0,N.R)(this.destroy$)).subscribe({next:z=>{this._pdf=z,this.lastLoaded=L,this.afterLoadComplete.emit(z),this.resetPdfDocument(),this.update()},error:z=>{this.lastLoaded=null,this.onError.emit(z)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(L,z){const Z=this._showBorders?2*U.BORDER_WIDTH:0,oe=this.pdfViewerContainer.nativeElement.clientWidth-Z,me=this.pdfViewerContainer.nativeElement.clientHeight-Z;if(0===me||0===z||0===oe||0===L)return 1;let be=1;switch(this._zoomScale){case"page-fit":be=Math.min(me/z,oe/L);break;case"page-height":be=me/z;break;default:be=oe/L}return this._zoom*be/U.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){r()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){r()||this.ngZone.runOutsideAngular(()=>{(0,h.R)(window,"resize").pipe((0,y.b)(100),(0,J.h)(()=>this._canAutoResize&&!!this._pdf),(0,N.R)(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return U.CSS_UNITS=96/72,U.BORDER_WIDTH=9,U.\u0275fac=function(L){return new(L||U)(l.Y36(l.SBq),l.Y36(l.R0b))},U.\u0275cmp=l.Xpm({type:U,selectors:[["pdf-viewer"]],viewQuery:function(L,z){if(1&L&&l.Gf(ue,5),2&L){let Z;l.iGM(Z=l.CRH())&&(z.pdfViewerContainer=Z.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[l.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(L,z){1&L&&(l.TgZ(0,"div",0,1),l._UZ(2,"div",2),l.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),U})(),f=(()=>{class U{}return U.\u0275fac=function(L){return new(L||U)},U.\u0275mod=l.oAB({type:U}),U.\u0275inj=l.cJS({}),U})();function c(U,le){1&U&&(l.TgZ(0,"div",2),l._UZ(1,"span",3),l.qZA())}const k=function(U){return{url:U,withCredentials:!1}};let Q=(()=>{class U{constructor(){this.title="",this.pdfSrc="",this.isLoad$$=new x.X(!0)}pageRendered(){this.isLoad$$.next(!1)}}return U.\u0275fac=function(L){return new(L||U)},U.\u0275cmp=l.Xpm({type:U,selectors:[["bmh-pdf-reader"]],inputs:{title:"title",pdfSrc:"pdfSrc"},decls:3,vars:9,consts:[[2,"width","100%","height","80vh",3,"src","render-text","show-all","original-size","contextmenu","page-rendered"],["class","loader-video",4,"ngIf"],[1,"loader-video"],["nz-icon","","nzType","loading","nzTheme","outline"]],template:function(L,z){1&L&&(l.TgZ(0,"pdf-viewer",0),l.NdJ("contextmenu",function(oe){return oe.preventDefault()})("page-rendered",function(){return z.pageRendered()}),l.qZA(),l.YNc(1,c,2,0,"div",1),l.ALo(2,"async")),2&L&&(l.Q6J("src",l.VKq(7,k,z.pdfSrc))("render-text",!1)("show-all",!0)("original-size",!1),l.xp6(1),l.Q6J("ngIf",l.lcZ(2,5,z.isLoad$$)))},dependencies:[w.O5,v.w,t.Ls,g,w.Ov],styles:[".overlay[_ngcontent-%COMP%]{background-color:#0000001a;width:100%;display:flex;position:absolute;color:#181717;z-index:10000;left:0;align-items:center;flex-wrap:nowrap;flex-direction:row}.overlay[_ngcontent-%COMP%]   .video-play-pause[_ngcontent-%COMP%]{margin:0 10px;cursor:pointer;max-width:28px;flex:1}.overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:0;min-width:100px;flex:1;align-items:center}.overlay[_ngcontent-%COMP%]   nz-progress[_ngcontent-%COMP%]{height:100%;margin-right:5px;flex:5}.block-video[_ngcontent-%COMP%]{display:flex;height:40vh}.block-video[_ngcontent-%COMP%]   .video[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:90px;left:0}.loader-video[_ngcontent-%COMP%]{top:50%;left:50%;position:absolute;color:#4a4ec6;font-size:50px}"],changeDetection:0}),U})();var V=S(5156);let K=(()=>{class U{constructor(L){this.nzModalService=L}openVideoModal({template:L,data:Z}){const oe=new M.x;if(null==L)return oe.next(null),oe.complete(),oe.asObservable();const me=this.nzModalService.create({nzTitle:`${Z.title}`,nzContent:L,nzComponentParams:Z,nzMaskClosable:!1,nzWrapClassName:"fullscreen-modal",nzFooter:null,nzOnOk:void 0,nzOnCancel:()=>{me.close(),me.destroy()}});return me.afterClose.subscribe(()=>{console.log("Modal has been closed")}),oe.asObservable()}showConfirmModal(L,z=""){const Z=this.nzModalService.confirm({nzTitle:L,nzContent:z,nzOnOk:()=>!0,nzOnCancel:()=>{Z.destroy()}}),oe=new M.x;return Z.afterClose.subscribe(me=>{oe.next(me),oe.complete()}),oe.asObservable()}}return U.\u0275fac=function(L){return new(L||U)(l.LFG(V.Sf))},U.\u0275prov=l.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})();var Y=S(4320),ie=S(8505),re=(()=>{return(U=re||(re={})).Video="video",U.Doc="documents",re;var U})(),_e=S(1645);let ve=(()=>{class U{constructor(L,z){this.http=L,this.notificationService=z,this.videos$$=new x.X([]),this.loadVideos()}loadVideos(){return this.http.get("/video").pipe((0,ie.b)(L=>{const z=L.map(Z=>({...Z,type:re.Video}));this.videos$$.next(z)})).subscribe()}getVideos(){return this.videos$$.asObservable()}}return U.\u0275fac=function(L){return new(L||U)(l.LFG(i.eN),l.LFG(_e.g))},U.\u0275prov=l.Yz7({token:U,factory:U.\u0275fac}),U})(),Pe=(()=>{class U{constructor(L,z){this.http=L,this.notificationService=z,this.documents$$=new x.X([]),this.loadDocuments()}loadDocuments(){return this.http.get("/document").pipe((0,ie.b)(L=>{const z=L.map(Z=>({...Z,type:re.Doc}));this.documents$$.next(z)})).subscribe()}getDocuments(){return this.documents$$.asObservable()}}return U.\u0275fac=function(L){return new(L||U)(l.LFG(i.eN),l.LFG(_e.g))},U.\u0275prov=l.Yz7({token:U,factory:U.\u0275fac}),U})();var Se=S(4963),de=S(5635),Ee=S(8284),Ce=S(4502);function Ae(U,le){if(1&U&&(l.TgZ(0,"th",4),l._uU(1),l.qZA()),2&U){const L=le.$implicit;l.Q6J("nzShowSort",L.showSort)("nzSortFn",L.sortFn)("nzSortPriority",L.priority),l.xp6(1),l.hij(" ",L.title," ")}}function ce(U,le){if(1&U){const L=l.EpF();l.TgZ(0,"td",9),l.NdJ("click",function(){l.CHM(L);const Z=l.oxw().$implicit,oe=l.oxw();return l.KtG(oe.onOpenVideo({videoId:Z.id,title:Z.title}))}),l._UZ(1,"span",10),l.qZA()}}function pe(U,le){if(1&U){const L=l.EpF();l.TgZ(0,"td",11),l.NdJ("click",function(){l.CHM(L);const Z=l.oxw().$implicit,oe=l.oxw();return l.KtG(oe.onOpenPdf({documentId:Z.id,title:Z.title}))}),l._UZ(1,"span",12),l.qZA()}}function he(U,le){if(1&U){const L=l.EpF();l.TgZ(0,"tr",5)(1,"td",6),l.NdJ("mouseleave",function(){const oe=l.CHM(L).$implicit;return l.KtG(oe.hover=!1)}),l._uU(2),l.qZA(),l.YNc(3,ce,2,0,"td",7),l.YNc(4,pe,2,0,"ng-template",null,8,l.W1O),l.TgZ(6,"td"),l._uU(7),l.qZA()()}if(2&U){const L=le.$implicit,z=l.MAs(5),Z=l.oxw();l.xp6(2),l.Oqu(L.title),l.xp6(1),l.Q6J("ngIf",L.type===Z.dataType.Video)("ngIfElse",z),l.xp6(4),l.Oqu(L.type)}}let C=(()=>{class U{constructor(L){this.changeDetectionRef=L,this.dataArray=[],this.searchQuery="",this.openVideo=new l.vpe,this.openPdf=new l.vpe,this.loading=!1,this.indeterminate=!1,this.listOfCurrentPageData=[],this.listOfDisplayVideos=[],this.dataType=re,this.columns=[{title:"Title",sortFn:(z,Z)=>z.title.localeCompare(Z.title),priority:2,showSort:!0},{title:"Watch",sortFn:!1,priority:!1,showSort:!1},{title:"Type",sortFn:!1,priority:!1,showSort:!1}]}ngOnInit(){this.listOfDisplayVideos=[...this.dataArray]}ngOnChanges(){this.search()}onCurrentPageDataChange(L){this.listOfCurrentPageData=L}onOpenVideo(L){this.openVideo.emit(L)}onOpenPdf(L){this.openPdf.emit(L)}search(){if(this.searchQuery){const L=this.searchQuery.toLocaleLowerCase().split(" ");this.searchQuery.includes("pdf")&&L.push("doc"),this.listOfDisplayVideos=this.dataArray.filter(z=>L.some(Z=>z?.title.toLocaleLowerCase().includes(Z)||z?.type.toLocaleLowerCase().includes(Z)))}else this.listOfDisplayVideos=[...this.dataArray];this.changeDetectionRef.markForCheck()}}return U.\u0275fac=function(L){return new(L||U)(l.Y36(l.sBO))},U.\u0275cmp=l.Xpm({type:U,selectors:[["bmh-data-table"]],inputs:{dataArray:"dataArray",searchQuery:"searchQuery"},outputs:{openVideo:"openVideo",openPdf:"openPdf"},features:[l.TTD],decls:7,vars:3,consts:[["nzShowSizeChanger","","nzSize","middle",3,"nzData","nzCurrentPageDataChange"],["rowSelectionTable",""],[3,"nzShowSort","nzSortFn","nzSortPriority",4,"ngFor","ngForOf"],["nz-row-hover","",4,"ngFor","ngForOf"],[3,"nzShowSort","nzSortFn","nzSortPriority"],["nz-row-hover",""],[3,"mouseleave"],["title","Click to watch the video","class","click-video",3,"click",4,"ngIf","ngIfElse"],["pdfReader",""],["title","Click to watch the video",1,"click-video",3,"click"],["nz-icon","","nzType","play-circle","nzTheme","outline"],["title","Click to watch PDF",1,"click-pdf",3,"click"],["nz-icon","","nzType","read","nzTheme","outline"]],template:function(L,z){if(1&L&&(l.TgZ(0,"nz-table",0,1),l.NdJ("nzCurrentPageDataChange",function(oe){return z.onCurrentPageDataChange(oe)}),l.TgZ(2,"thead")(3,"tr"),l.YNc(4,Ae,2,4,"th",2),l.qZA()(),l.TgZ(5,"tbody"),l.YNc(6,he,8,4,"tr",3),l.qZA()()),2&L){const Z=l.MAs(1);l.Q6J("nzData",z.listOfDisplayVideos),l.xp6(4),l.Q6J("ngForOf",z.columns),l.xp6(2),l.Q6J("ngForOf",Z.data)}},dependencies:[w.sg,w.O5,v.w,t.Ls,Ce.N8,Ce.qD,Ce.Uo,Ce._C,Ce.Om,Ce.p0,Ce.$Z],styles:[".is-error[_ngcontent-%COMP%]   .ant-form-item-control-input[_ngcontent-%COMP%]{border-color:red}.is-error[_ngcontent-%COMP%]   .ant-form-item-explain[_ngcontent-%COMP%]{color:red}.ant-row[_ngcontent-%COMP%]{justify-content:space-between}nz-form-control[_ngcontent-%COMP%]{max-width:380px}  .ant-table-pagination.ant-pagination{margin:16px}.click-video[_ngcontent-%COMP%], .click-pdf[_ngcontent-%COMP%]{cursor:pointer;color:#1890ff;font-size:18px}.click-video[_ngcontent-%COMP%]:hover, .click-pdf[_ngcontent-%COMP%]:hover{color:#2138a8}.wrapper-actions[_ngcontent-%COMP%]{overflow:hidden}.wrapper-actions[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{position:absolute;display:flex;right:-100vw;width:100%;height:100%;top:0;background-color:#8080802b;transition:right .3s;align-items:center;justify-content:flex-start}.wrapper-actions[_ngcontent-%COMP%]   .actions.hover[_ngcontent-%COMP%]{right:0;padding-left:15px}.wrapper-actions[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .edit-manager[_ngcontent-%COMP%]{padding:7px;transition:color .3s,margin-bottom .3s;font-size:16px;cursor:pointer}.wrapper-actions[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .edit-manager[_ngcontent-%COMP%]:hover{margin-bottom:2px;color:#1890ff}.wrapper-actions[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .delete-manager[_ngcontent-%COMP%]{padding:7px;font-size:16px;cursor:pointer;color:#c25757;transition:color .3s,margin-bottom .3s}.wrapper-actions[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .delete-manager[_ngcontent-%COMP%]:hover{margin-bottom:2px;color:red}"],changeDetection:0}),U})();function ee(U,le){if(1&U){const L=l.EpF();l.TgZ(0,"span",10),l.NdJ("click",function(){l.CHM(L);const Z=l.oxw(2);return l.KtG(Z.searchQuery$.next(""))}),l.qZA()}}function ae(U,le){if(1&U&&(l.YNc(0,ee,1,0,"span",9),l.ALo(1,"async")),2&U){const L=l.oxw();l.Q6J("ngIf",l.lcZ(1,1,L.searchQuery$))}}function ye(U,le){1&U&&l._UZ(0,"span",11)}const X=[{path:"",component:(()=>{class U{constructor(L,z,Z,oe,me){this.modalFormService=L,this.videoService=z,this.pdfService=Z,this.s3Service=oe,this.userInfoService=me,this.sourceData=[],this.videos=[],this.pdfs=[],this.searchQuery$=new x.X(""),this.searchValueControl=new H.NI,this.subscription=new T.w0}ngOnDestroy(){this.subscription.unsubscribe()}ngOnInit(){this.subscription.add(this.searchValueControl.valueChanges.pipe((0,y.b)(400),(0,I.x)()).subscribe(L=>{this.searchQuery$.next(L)})),this.subscription.add(this.videoService.getVideos().subscribe(L=>{this.videos=L,this.sourceData=[...L,...this.pdfs]})),this.subscription.add(this.pdfService.getDocuments().subscribe(L=>{this.pdfs=L,this.sourceData=[...L,...this.videos]}))}onOpenVideo({videoId:L,title:z}){this.subscription.add(this.s3Service.getUrlVideo(L).pipe((0,W.w)(Z=>this.modalFormService.openVideoModal({template:p,title:"Watch Video",data:{videoId:L,title:z,streamUrl:Z}}).pipe((0,q.K)(oe=>(console.log("error",oe),(0,B.of)(null)))))).subscribe())}onOpenPdf({documentId:L,title:z}){this.subscription.add(this.s3Service.getUrlDoc(L).pipe((0,W.w)(Z=>this.modalFormService.openVideoModal({template:Q,title:"Read PDF",data:{title:z,pdfSrc:Z}}).pipe((0,q.K)(oe=>(console.log("error",oe),(0,B.of)(null)))))).subscribe())}}return U.\u0275fac=function(L){return new(L||U)(l.Y36(K),l.Y36(ve),l.Y36(Pe),l.Y36(m),l.Y36(Y.$))},U.\u0275cmp=l.Xpm({type:U,selectors:[["bmh-data"]],features:[l._Bn([m])],decls:20,vars:8,consts:[[1,"header-videos-page"],[1,"video"],[1,"search-query"],[3,"nzSuffix"],["type","text","nz-input","","placeholder","Search smth...",3,"formControl"],[1,"inner-content"],[3,"dataArray","searchQuery","openVideo","openPdf"],["inputClearTpl",""],["suffixIconSearch",""],["nz-icon","","class","ant-input-clear-icon","nzTheme","fill","nzType","close-circle",3,"click",4,"ngIf"],["nz-icon","","nzTheme","fill","nzType","close-circle",1,"ant-input-clear-icon",3,"click"],["nz-icon","","nzType","search"]],template:function(L,z){if(1&L&&(l.TgZ(0,"nz-layout")(1,"nz-content")(2,"nz-breadcrumb")(3,"nz-breadcrumb-item")(4,"div",0)(5,"div",1),l._uU(6,"Informations"),l.qZA(),l.TgZ(7,"div",2)(8,"nz-input-group",3),l.ALo(9,"async"),l._UZ(10,"input",4),l.qZA()()()()(),l.TgZ(11,"div",5)(12,"bmh-data-table",6),l.NdJ("openVideo",function(oe){return z.onOpenVideo(oe)})("openPdf",function(oe){return z.onOpenPdf(oe)}),l.ALo(13,"async"),l.qZA()()(),l.TgZ(14,"nz-footer"),l._uU(15,"Ant Design \xa92024 BMH Corp LLC"),l.qZA()(),l.YNc(16,ae,2,3,"ng-template",null,7,l.W1O),l.YNc(18,ye,1,0,"ng-template",null,8,l.W1O)),2&L){const Z=l.MAs(17),oe=l.MAs(19);l.xp6(8),l.Q6J("nzSuffix",l.lcZ(9,4,z.searchQuery$)?Z:oe),l.xp6(2),l.Q6J("formControl",z.searchValueControl),l.xp6(2),l.Q6J("dataArray",z.sourceData)("searchQuery",l.lcZ(13,6,z.searchQuery$))}},dependencies:[H.Fj,H.JJ,H.oH,w.O5,v.w,Se.Dg,Se.MO,t.Ls,de.Zp,de.gB,de.ke,Ee.hw,Ee.OK,Ee.nX,C,w.Ov],styles:["nz-content[_ngcontent-%COMP%]{margin:0 16px}nz-breadcrumb[_ngcontent-%COMP%]{margin:16px 0}.inner-content[_ngcontent-%COMP%]{background:#fff;min-height:calc(100vh - 215px)}nz-footer[_ngcontent-%COMP%]{text-align:center}.video[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:18px;color:#999;line-height:1.2;display:flex;justify-content:space-between;align-items:center;width:115px;height:30px}.video[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-right:5px;margin-bottom:0}.video[_ngcontent-%COMP%]   .video-add[_ngcontent-%COMP%]{font-size:20px;padding:5px;cursor:pointer;font-weight:300;transition:color .3s,font-weight .3s}.video[_ngcontent-%COMP%]   .video-add[_ngcontent-%COMP%]:hover{font-weight:500;color:#1890ff}.video[_ngcontent-%COMP%]   .pdf-add[_ngcontent-%COMP%]{font-size:20px;padding:5px;cursor:pointer;font-weight:300;transition:color .3s,font-weight .3s}.video[_ngcontent-%COMP%]   .pdf-add[_ngcontent-%COMP%]:hover{font-weight:500;color:#1890ff}.header-videos-page[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),U})()}];let D=(()=>{class U{}return U.\u0275fac=function(L){return new(L||U)},U.\u0275mod=l.oAB({type:U}),U.\u0275inj=l.cJS({imports:[R.Bz.forChild(X),R.Bz]}),U})(),j=(()=>{class U{}return U.\u0275fac=function(L){return new(L||U)},U.\u0275mod=l.oAB({type:U}),U.\u0275inj=l.cJS({providers:[ve,Pe],imports:[O.I,D,i.JF,f]}),U})()},6036:function(module,__unused_webpack_exports,__webpack_require__){var _classStaticPrivateMethodGet=__webpack_require__(5764).default,_defineProperty=__webpack_require__(8416).default,_classPrivateMethodInitSpec=__webpack_require__(1860).default,_classPrivateMethodGet=__webpack_require__(4467).default,_classPrivateFieldInitSpec=__webpack_require__(9159).default,_classPrivateFieldSet=__webpack_require__(5661).default,_classPrivateFieldGet=__webpack_require__(468).default,_classStaticPrivateFieldSpecSet=__webpack_require__(2306).default,_classStaticPrivateFieldSpecGet=__webpack_require__(1280).default,_asyncToGenerator=__webpack_require__(7156).default,S;S=()=>(()=>{"use strict";var __webpack_modules__=[,($,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.VerbosityLevel=a.Util=a.UnknownErrorException=a.UnexpectedResponseException=a.UNSUPPORTED_FEATURES=a.TextRenderingMode=a.StreamType=a.RenderingIntentFlag=a.PermissionFlag=a.PasswordResponses=a.PasswordException=a.PageActionEventType=a.OPS=a.MissingPDFException=a.InvalidPDFException=a.ImageKind=a.IDENTITY_MATRIX=a.FormatError=a.FontType=a.FeatureTest=a.FONT_IDENTITY_MATRIX=a.DocumentActionEventType=a.CMapCompressionType=a.BaseException=a.AnnotationType=a.AnnotationStateModelType=a.AnnotationReviewState=a.AnnotationReplyType=a.AnnotationMode=a.AnnotationMarkedState=a.AnnotationFlag=a.AnnotationFieldFlag=a.AnnotationBorderStyleType=a.AnnotationActionEventType=a.AbortException=void 0,a.arrayByteLength=V,a.arraysToBytes=function K(X){const D=X.length;if(1===D&&X[0]instanceof Uint8Array)return X[0];let j=0;for(let L=0;L<D;L++)j+=V(X[L]);let U=0;const le=new Uint8Array(j);for(let L=0;L<D;L++){let z=X[L];z instanceof Uint8Array||(z="string"==typeof z?Q(z):new Uint8Array(z));const Z=z.byteLength;le.set(z,U),U+=Z}return le},a.assert=function ne(X,D){X||te(D)},a.bytesToString=function k(X){("object"!=typeof X||null===X||void 0===X.length)&&te("Invalid argument for bytesToString");const D=X.length,j=8192;if(D<j)return String.fromCharCode.apply(null,X);const U=[];for(let le=0;le<D;le+=j){const L=Math.min(le+j,D),z=X.subarray(le,L);U.push(String.fromCharCode.apply(null,z))}return U.join("")},a.createPromiseCapability=function ge(){const X=Object.create(null);let D=!1;return Object.defineProperty(X,"settled",{get:()=>D}),X.promise=new Promise(function(j,U){X.resolve=function(le){D=!0,j(le)},X.reject=function(le){D=!0,U(le)}}),X},a.createValidAbsoluteUrl=function fe(X,D=null,j=null){if(!X)return null;try{if(j&&"string"==typeof X){if(j.addDefaultProtocol&&X.startsWith("www.")){const le=X.match(/\./g);le&&le.length>=2&&(X=`http://${X}`)}if(j.tryConvertEncoding)try{X=he(X)}catch{}}const U=D?new URL(X,D):new URL(X);if(function se(X){if(!X)return!1;switch(X.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(U))return U}catch{}return null},a.escapeString=function Ae(X){return X.replace(/([()\\\n\r])/g,D=>"\n"===D?"\\n":"\r"===D?"\\r":`\\${D}`)},a.getModificationDate=function ye(X=new Date){return[X.getUTCFullYear().toString(),(X.getUTCMonth()+1).toString().padStart(2,"0"),X.getUTCDate().toString().padStart(2,"0"),X.getUTCHours().toString().padStart(2,"0"),X.getUTCMinutes().toString().padStart(2,"0"),X.getUTCSeconds().toString().padStart(2,"0")].join("")},a.getVerbosityLevel=function E(){return h},a.info=function N(X){h>=u.INFOS&&console.log(`Info: ${X}`)},a.isArrayBuffer=function ee(X){return"object"==typeof X&&null!==X&&void 0!==X.byteLength},a.isArrayEqual=function ae(X,D){if(X.length!==D.length)return!1;for(let j=0,U=X.length;j<U;j++)if(X[j]!==D[j])return!1;return!0},a.isAscii=function ce(X){return/^[\x00-\x7F]*$/.test(X)},a.objectFromMap=function re(X){const D=Object.create(null);for(const[j,U]of X)D[j]=U;return D},a.objectSize=function ie(X){return Object.keys(X).length},a.setVerbosityLevel=function M(X){Number.isInteger(X)&&(h=X)},a.shadow=ue,a.string32=function Y(X){return String.fromCharCode(X>>24&255,X>>16&255,X>>8&255,255&X)},a.stringToBytes=Q,a.stringToPDFString=function Ce(X){if(X[0]>="\xef"){let j;if("\xfe"===X[0]&&"\xff"===X[1]?j="utf-16be":"\xff"===X[0]&&"\xfe"===X[1]?j="utf-16le":"\xef"===X[0]&&"\xbb"===X[1]&&"\xbf"===X[2]&&(j="utf-8"),j)try{const U=new TextDecoder(j,{fatal:!0}),le=Q(X);return U.decode(le)}catch(U){J(`stringToPDFString: "${U}".`)}}const D=[];for(let j=0,U=X.length;j<U;j++){const le=Ee[X.charCodeAt(j)];D.push(le?String.fromCharCode(le):X.charAt(j))}return D.join("")},a.stringToUTF16BEString=function pe(X){const D=["\xfe\xff"];for(let j=0,U=X.length;j<U;j++){const le=X.charCodeAt(j);D.push(String.fromCharCode(le>>8&255),String.fromCharCode(255&le))}return D.join("")},a.stringToUTF8String=he,a.unreachable=te,a.utf8StringToString=function C(X){return unescape(encodeURIComponent(X))},a.warn=J,S(2),a.IDENTITY_MATRIX=[1,0,0,1,0,0],a.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],a.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},a.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},a.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},a.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},a.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},a.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},a.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},a.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},a.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},a.AnnotationReplyType={GROUP:"Group",REPLY:"R"},a.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},a.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},a.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},a.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},a.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},a.PageActionEventType={O:"PageOpen",C:"PageClose"},a.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},a.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const u={ERRORS:0,WARNINGS:1,INFOS:5};a.VerbosityLevel=u,a.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},a.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},a.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},a.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let h=u.WARNINGS;function J(X){h>=u.WARNINGS&&console.log(`Warning: ${X}`)}function te(X){throw new Error(X)}function ue(X,D,j){return Object.defineProperty(X,D,{value:j,enumerable:!0,configurable:!0,writable:!1}),j}const F=function(){function D(j,U){this.constructor===D&&te("Cannot initialize BaseException."),this.message=j,this.name=U}return D.prototype=new Error,D.constructor=D,D}();function Q(X){"string"!=typeof X&&te("Invalid argument for stringToBytes");const D=X.length,j=new Uint8Array(D);for(let U=0;U<D;++U)j[U]=255&X.charCodeAt(U);return j}function V(X){return void 0!==X.length?X.length:void 0!==X.byteLength?X.byteLength:void te("Invalid argument for arrayByteLength")}a.BaseException=F,a.PasswordException=class s extends F{constructor(D,j){super(D,"PasswordException"),this.code=j}},a.UnknownErrorException=class e extends F{constructor(D,j){super(D,"UnknownErrorException"),this.details=j}},a.InvalidPDFException=class r extends F{constructor(D){super(D,"InvalidPDFException")}},a.MissingPDFException=class o extends F{constructor(D){super(D,"MissingPDFException")}},a.UnexpectedResponseException=class g extends F{constructor(D,j){super(D,"UnexpectedResponseException"),this.status=j}},a.FormatError=class f extends F{constructor(D){super(D,"FormatError")}},a.AbortException=class c extends F{constructor(D){super(D,"AbortException")}},a.FeatureTest=class Pe{static get isLittleEndian(){return ue(this,"isLittleEndian",function _e(){const X=new Uint8Array(4);return X[0]=1,1===new Uint32Array(X.buffer,0,1)[0]}())}static get isEvalSupported(){return ue(this,"isEvalSupported",function ve(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return ue(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const Se=[...Array(256).keys()].map(X=>X.toString(16).padStart(2,"0"));class de{static makeHexColor(D,j,U){return`#${Se[D]}${Se[j]}${Se[U]}`}static scaleMinMax(D,j){let U;D[0]?(D[0]<0&&(U=j[0],j[0]=j[1],j[1]=U),j[0]*=D[0],j[1]*=D[0],D[3]<0&&(U=j[2],j[2]=j[3],j[3]=U),j[2]*=D[3],j[3]*=D[3]):(U=j[0],j[0]=j[2],j[2]=U,U=j[1],j[1]=j[3],j[3]=U,D[1]<0&&(U=j[2],j[2]=j[3],j[3]=U),j[2]*=D[1],j[3]*=D[1],D[2]<0&&(U=j[0],j[0]=j[1],j[1]=U),j[0]*=D[2],j[1]*=D[2]),j[0]+=D[4],j[1]+=D[4],j[2]+=D[5],j[3]+=D[5]}static transform(D,j){return[D[0]*j[0]+D[2]*j[1],D[1]*j[0]+D[3]*j[1],D[0]*j[2]+D[2]*j[3],D[1]*j[2]+D[3]*j[3],D[0]*j[4]+D[2]*j[5]+D[4],D[1]*j[4]+D[3]*j[5]+D[5]]}static applyTransform(D,j){return[D[0]*j[0]+D[1]*j[2]+j[4],D[0]*j[1]+D[1]*j[3]+j[5]]}static applyInverseTransform(D,j){const U=j[0]*j[3]-j[1]*j[2];return[(D[0]*j[3]-D[1]*j[2]+j[2]*j[5]-j[4]*j[3])/U,(-D[0]*j[1]+D[1]*j[0]+j[4]*j[1]-j[5]*j[0])/U]}static getAxialAlignedBoundingBox(D,j){const U=de.applyTransform(D,j),le=de.applyTransform(D.slice(2,4),j),L=de.applyTransform([D[0],D[3]],j),z=de.applyTransform([D[2],D[1]],j);return[Math.min(U[0],le[0],L[0],z[0]),Math.min(U[1],le[1],L[1],z[1]),Math.max(U[0],le[0],L[0],z[0]),Math.max(U[1],le[1],L[1],z[1])]}static inverseTransform(D){const j=D[0]*D[3]-D[1]*D[2];return[D[3]/j,-D[1]/j,-D[2]/j,D[0]/j,(D[2]*D[5]-D[4]*D[3])/j,(D[4]*D[1]-D[5]*D[0])/j]}static apply3dTransform(D,j){return[D[0]*j[0]+D[1]*j[1]+D[2]*j[2],D[3]*j[0]+D[4]*j[1]+D[5]*j[2],D[6]*j[0]+D[7]*j[1]+D[8]*j[2]]}static singularValueDecompose2dScale(D){const j=[D[0],D[2],D[1],D[3]],U=D[0]*j[0]+D[1]*j[2],z=D[2]*j[1]+D[3]*j[3],Z=(U+z)/2,oe=Math.sqrt((U+z)**2-4*(U*z-(D[2]*j[0]+D[3]*j[2])*(D[0]*j[1]+D[1]*j[3])))/2,be=Z-oe||1;return[Math.sqrt(Z+oe||1),Math.sqrt(be)]}static normalizeRect(D){const j=D.slice(0);return D[0]>D[2]&&(j[0]=D[2],j[2]=D[0]),D[1]>D[3]&&(j[1]=D[3],j[3]=D[1]),j}static intersect(D,j){const U=Math.max(Math.min(D[0],D[2]),Math.min(j[0],j[2])),le=Math.min(Math.max(D[0],D[2]),Math.max(j[0],j[2]));if(U>le)return null;const L=Math.max(Math.min(D[1],D[3]),Math.min(j[1],j[3])),z=Math.min(Math.max(D[1],D[3]),Math.max(j[1],j[3]));return L>z?null:[U,L,le,z]}static bezierBoundingBox(D,j,U,le,L,z,Z,oe){const me=[],be=[[],[]];let xe,we,Me,Te,ke,Le,Ne,Re;for(let Ie=0;Ie<2;++Ie)if(0===Ie?(we=6*D-12*U+6*L,xe=-3*D+9*U-9*L+3*Z,Me=3*U-3*D):(we=6*j-12*le+6*z,xe=-3*j+9*le-9*z+3*oe,Me=3*le-3*j),Math.abs(xe)<1e-12){if(Math.abs(we)<1e-12)continue;Te=-Me/we,0<Te&&Te<1&&me.push(Te)}else Ne=we*we-4*Me*xe,Re=Math.sqrt(Ne),!(Ne<0)&&(ke=(-we+Re)/(2*xe),0<ke&&ke<1&&me.push(ke),Le=(-we-Re)/(2*xe),0<Le&&Le<1&&me.push(Le));let Fe,De=me.length;const Oe=De;for(;De--;)Te=me[De],Fe=1-Te,be[0][De]=Fe*Fe*Fe*D+3*Fe*Fe*Te*U+3*Fe*Te*Te*L+Te*Te*Te*Z,be[1][De]=Fe*Fe*Fe*j+3*Fe*Fe*Te*le+3*Fe*Te*Te*z+Te*Te*Te*oe;return be[0][Oe]=D,be[1][Oe]=j,be[0][Oe+1]=Z,be[1][Oe+1]=oe,be[0].length=be[1].length=Oe+2,[Math.min(...be[0]),Math.min(...be[1]),Math.max(...be[0]),Math.max(...be[1])]}}a.Util=de;const Ee=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function he(X){return decodeURIComponent(escape(X))}},($,a,S)=>{S(3)},($,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isNodeJS=void 0;const S=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);a.isNodeJS=S},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:$,NodeCMapReaderFactory:a,NodeStandardFontDataFactory:S}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=$,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=a,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=S}function setPDFNetworkStreamFactory($){createPDFNetworkStream=$}function getDocument($){const a=new PDFDocumentLoadingTask;let S;if("string"==typeof $||$ instanceof URL)S={url:$};else if((0,_util.isArrayBuffer)($))S={data:$};else if($ instanceof PDFDataRangeTransport)S={range:$};else{if("object"!=typeof $)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!$.url&&!$.data&&!$.range)throw new Error("Invalid parameter object: need either .data, .range or .url");S=$}const i=Object.create(null);let O=null,R=null;for(const x in S){const T=S[x];switch(x){case"url":if(typeof window<"u")try{i[x]=new URL(T,window.location).href;continue}catch(y){(0,_util.warn)(`Cannot create valid URL: "${y}".`)}else if("string"==typeof T||T instanceof URL){i[x]=T.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":O=T;continue;case"worker":R=T;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&T instanceof Buffer)i[x]=new Uint8Array(T);else{if(T instanceof Uint8Array)break;if("string"==typeof T)i[x]=(0,_util.stringToBytes)(T);else if("object"!=typeof T||null===T||isNaN(T.length)){if(!(0,_util.isArrayBuffer)(T))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");i[x]=new Uint8Array(T)}else i[x]=new Uint8Array(T)}continue}i[x]=T}if(i.CMapReaderFactory=i.CMapReaderFactory||DefaultCMapReaderFactory,i.StandardFontDataFactory=i.StandardFontDataFactory||DefaultStandardFontDataFactory,i.ignoreErrors=!0!==i.stopAtErrors,i.fontExtraProperties=!0===i.fontExtraProperties,i.pdfBug=!0===i.pdfBug,i.enableXfa=!0===i.enableXfa,(!Number.isInteger(i.rangeChunkSize)||i.rangeChunkSize<1)&&(i.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof i.docBaseUrl||(0,_display_utils.isDataScheme)(i.docBaseUrl))&&(i.docBaseUrl=null),(!Number.isInteger(i.maxImageSize)||i.maxImageSize<-1)&&(i.maxImageSize=-1),"string"!=typeof i.cMapUrl&&(i.cMapUrl=null),"string"!=typeof i.standardFontDataUrl&&(i.standardFontDataUrl=null),"boolean"!=typeof i.useWorkerFetch&&(i.useWorkerFetch=i.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&i.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof i.isEvalSupported&&(i.isEvalSupported=!0),"boolean"!=typeof i.disableFontFace&&(i.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof i.useSystemFonts&&(i.useSystemFonts=!_is_node.isNodeJS&&!i.disableFontFace),("object"!=typeof i.ownerDocument||null===i.ownerDocument)&&(i.ownerDocument=globalThis.document),"boolean"!=typeof i.disableRange&&(i.disableRange=!1),"boolean"!=typeof i.disableStream&&(i.disableStream=!1),"boolean"!=typeof i.disableAutoFetch&&(i.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(i.verbosity),!R){const x={verbosity:i.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};R=x.port?_PDFWorker.fromPort(x):new _PDFWorker(x),a._worker=R}const H=a.docId;return R.promise.then(function(){if(a.destroyed)throw new Error("Loading aborted");const x=_fetchDocument(R,i,O,H),T=new Promise(function(y){let I;O?I=new _transport_stream.PDFDataTransportStream({length:i.length,initialData:i.initialData,progressiveDone:i.progressiveDone,contentDispositionFilename:i.contentDispositionFilename,disableRange:i.disableRange,disableStream:i.disableStream},O):i.data||(I=createPDFNetworkStream({url:i.url,length:i.length,httpHeaders:i.httpHeaders,withCredentials:i.withCredentials,rangeChunkSize:i.rangeChunkSize,disableRange:i.disableRange,disableStream:i.disableStream})),y(I)});return Promise.all([x,T]).then(function([y,I]){if(a.destroyed)throw new Error("Loading aborted");const W=new _message_handler.MessageHandler(H,y,R.port),q=new WorkerTransport(W,a,I,i);a._transport=q,W.send("Ready",null)})}).catch(a._capability.reject),a}function _fetchDocument($,a,S,i){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*($,a,S,i){if($.destroyed)throw new Error("Worker was destroyed");S&&(a.length=S.length,a.initialData=S.initialData,a.progressiveDone=S.progressiveDone,a.contentDispositionFilename=S.contentDispositionFilename);const O=yield $.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.14.305",source:{data:a.data,url:a.url,password:a.password,disableAutoFetch:a.disableAutoFetch,rangeChunkSize:a.rangeChunkSize,length:a.length},maxImageSize:a.maxImageSize,disableFontFace:a.disableFontFace,docBaseUrl:a.docBaseUrl,ignoreErrors:a.ignoreErrors,isEvalSupported:a.isEvalSupported,fontExtraProperties:a.fontExtraProperties,enableXfa:a.enableXfa,useSystemFonts:a.useSystemFonts,cMapUrl:a.useWorkerFetch?a.cMapUrl:null,standardFontDataUrl:a.useWorkerFetch?a.standardFontDataUrl:null});if($.destroyed)throw new Error("Worker was destroyed");return O})).apply(this,arguments)}class PDFDocumentLoadingTask{constructor(){var a,S;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(a=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),S=a++,a)),S}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var a=this;return _asyncToGenerator(function*(){a.destroyed=!0,yield a._transport?.destroy(),a._transport=null,a._worker&&(a._worker.destroy(),a._worker=null)})()}}var _docId={writable:!0,value:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(a,S,i=!1,O=null){this.length=a,this.initialData=S,this.progressiveDone=i,this.contentDispositionFilename=O,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(a){this._rangeListeners.push(a)}addProgressListener(a){this._progressListeners.push(a)}addProgressiveReadListener(a){this._progressiveReadListeners.push(a)}addProgressiveDoneListener(a){this._progressiveDoneListeners.push(a)}onDataRange(a,S){for(const i of this._rangeListeners)i(a,S)}onDataProgress(a,S){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(a,S)})}onDataProgressiveRead(a){this._readyCapability.promise.then(()=>{for(const S of this._progressiveReadListeners)S(a)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const a of this._progressiveDoneListeners)a()})}transportReady(){this._readyCapability.resolve()}requestDataRange(a,S){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(a,S){var O,i=this;this._pdfInfo=a,this._transport=S,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(O=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),i.stats||{streamTypes:{},fontTypes:{}}}),function(){return O.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(a){return this._transport.getPage(a)}getPageIndex(a){return this._transport.getPageIndex(a)}getDestinations(){return this._transport.getDestinations()}getDestination(a){return this._transport.getDestination(a)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(a=!1){return this._transport.startCleanup(a||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(a,S,i,O,R=!1){this._pageIndex=a,this._pageInfo=S,this._ownerDocument=O,this._transport=i,this._stats=R?new _display_utils.StatTimer:null,this._pdfBug=R,this.commonObjs=i.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:a,rotation:S=this.rotate,offsetX:i=0,offsetY:O=0,dontFlip:R=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:a,rotation:S,offsetX:i,offsetY:O,dontFlip:R})}getAnnotations({intent:a="display"}={}){const S=this._transport.getRenderingIntent(a);let i=this._annotationPromises.get(S.cacheKey);return i||(i=this._transport.getAnnotations(this._pageIndex,S.renderingIntent),this._annotationPromises.set(S.cacheKey,i),i=i.then(O=>{for(const R of O)void 0!==R.titleObj&&Object.defineProperty(R,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),R.titleObj.str)}),void 0!==R.contentsObj&&Object.defineProperty(R,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),R.contentsObj.str)});return O})),i}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}getXfa(){var a=this;return _asyncToGenerator(function*(){return a._transport._htmlForXfa?.children[a._pageIndex]||null})()}render({canvasContext:a,viewport:S,intent:i="display",annotationMode:O=_util.AnnotationMode.ENABLE,transform:R=null,imageLayer:H=null,canvasFactory:x=null,background:T=null,optionalContentConfigPromise:y=null,annotationCanvasMap:I=null,pageColors:W=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&O===_util.AnnotationMode.ENABLE&&(O=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&O===_util.AnnotationMode.ENABLE&&(O=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const q=this._transport.getRenderingIntent(i,O);this.pendingCleanup=!1,y||(y=this._transport.getOptionalContentConfig());let B=this._intentStates.get(q.cacheKey);B||(B=Object.create(null),this._intentStates.set(q.cacheKey,B)),B.streamReaderCancelTimeout&&(clearTimeout(B.streamReaderCancelTimeout),B.streamReaderCancelTimeout=null);const G=x||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),_=!!(q.renderingIntent&_util.RenderingIntentFlag.PRINT);B.displayReadyCapability||(B.displayReadyCapability=(0,_util.createPromiseCapability)(),B.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(q));const l=w=>{B.renderTasks.delete(m),(this.cleanupAfterRender||_)&&(this.pendingCleanup=!0),this._tryCleanup(),w?(m.capability.reject(w),this._abortOperatorList({intentState:B,reason:w instanceof Error?w:new Error(w)})):m.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},m=new InternalRenderTask({callback:l,params:{canvasContext:a,viewport:S,transform:R,imageLayer:H,background:T},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:I,operatorList:B.operatorList,pageIndex:this._pageIndex,canvasFactory:G,useRequestAnimationFrame:!_,pdfBug:this._pdfBug,pageColors:W});(B.renderTasks||=new Set).add(m);const A=m.task;return Promise.all([B.displayReadyCapability.promise,y]).then(([w,v])=>{this.pendingCleanup?l():(this._stats&&this._stats.time("Rendering"),m.initializeGraphics({transparency:w,optionalContentConfig:v}),m.operatorListChanged())}).catch(l),A}getOperatorList({intent:a="display",annotationMode:S=_util.AnnotationMode.ENABLE}={}){const O=this._transport.getRenderingIntent(a,S,!0);let H,R=this._intentStates.get(O.cacheKey);return R||(R=Object.create(null),this._intentStates.set(O.cacheKey,R)),R.opListReadCapability||(H=Object.create(null),H.operatorListChanged=function i(){R.operatorList.lastChunk&&(R.opListReadCapability.resolve(R.operatorList),R.renderTasks.delete(H))},R.opListReadCapability=(0,_util.createPromiseCapability)(),(R.renderTasks||=new Set).add(H),R.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(O)),R.opListReadCapability.promise}streamTextContent({disableCombineTextItems:a=!1,includeMarkedContent:S=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==a,includeMarkedContent:!0===S},{highWaterMark:100,size:O=>O.items.length})}getTextContent(a={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>_xfa_text.XfaText.textContent(i));const S=this.streamTextContent(a);return new Promise(function(i,O){const H=S.getReader(),x={items:[],styles:Object.create(null)};!function R(){H.read().then(function({value:T,done:y}){y?i(x):(Object.assign(x.styles,T.styles),x.items.push(...T.items),R())},O)}()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const a=[];for(const S of this._intentStates.values())if(this._abortOperatorList({intentState:S,reason:new Error("Page was destroyed."),force:!0}),!S.opListReadCapability)for(const i of S.renderTasks)a.push(i.completed),i.cancel();this.objs.clear();for(const S of this._bitmaps)S.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(a)}cleanup(a=!1){return this.pendingCleanup=!0,this._tryCleanup(a)}_tryCleanup(a=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:S,operatorList:i}of this._intentStates.values())if(S.size>0||!i.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,a&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const S of this._bitmaps)S.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(a,S){const i=this._intentStates.get(S);i&&(this._stats&&this._stats.timeEnd("Page Request"),i.displayReadyCapability&&i.displayReadyCapability.resolve(a))}_renderPageChunk(a,S){for(let i=0,O=a.length;i<O;i++)S.operatorList.fnArray.push(a.fnArray[i]),S.operatorList.argsArray.push(a.argsArray[i]);S.operatorList.lastChunk=a.lastChunk;for(const i of S.renderTasks)i.operatorListChanged();a.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:a,cacheKey:S}){const O=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:S,annotationStorage:a&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),R=this._intentStates.get(S);R.streamReader=O;const H=()=>{O.read().then(({value:x,done:T})=>{T?R.streamReader=null:this._transport.destroyed||(this._renderPageChunk(x,R),H())},x=>{if(R.streamReader=null,!this._transport.destroyed){if(R.operatorList){R.operatorList.lastChunk=!0;for(const T of R.renderTasks)T.operatorListChanged();this._tryCleanup()}if(R.displayReadyCapability)R.displayReadyCapability.reject(x);else{if(!R.opListReadCapability)throw x;R.opListReadCapability.reject(x)}}})};H()}_abortOperatorList({intentState:a,reason:S,force:i=!1}){if(a.streamReader){if(!i){if(a.renderTasks.size>0)return;if(S instanceof _display_utils.RenderingCancelledException)return void(a.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:a,reason:S,force:!0}),a.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(a.streamReader.cancel(new _util.AbortException(S.message)).catch(()=>{}),a.streamReader=null,!this._transport.destroyed){for(const[O,R]of this._intentStates)if(R===a){this._intentStates.delete(O);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(a,S){const i={data:structuredClone(a,S)};this._deferred.then(()=>{for(const O of this._listeners)O.call(this,i)})}addEventListener(a,S){this._listeners.push(S)}removeEventListener(a,S){const i=this._listeners.indexOf(S);this._listeners.splice(i,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const $=document?.currentScript?.src;$&&(PDFWorkerUtil.fallbackWorkerSrc=$.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function($,a){let S;try{if(S=new URL($),!S.origin||"null"===S.origin)return!1}catch{return!1}const i=new URL(a,S);return S.origin===i.origin},PDFWorkerUtil.createCDNWrapper=function($){return URL.createObjectURL(new Blob([`importScripts("${$}");`]))};class _PDFWorker{constructor({name:$=null,port:a=null,verbosity:S=(0,_util.getVerbosityLevel)()}={}){if(a&&_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).has(a))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=$,this.destroyed=!1,this.verbosity=S,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a)return _classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).set(a,this),void this._initializeFromPort(a);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort($){this._port=$,this._messageHandler=new _message_handler.MessageHandler("main","worker",$),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let $=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,$)||($=PDFWorkerUtil.createCDNWrapper(new URL($,window.location).href));const a=new Worker($),S=new _message_handler.MessageHandler("main","worker",a),i=()=>{a.removeEventListener("error",O),S.destroy(),a.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},O=()=>{this._webWorker||i()};a.addEventListener("error",O),S.on("test",H=>{a.removeEventListener("error",O),this.destroyed?i():H?(this._messageHandler=S,this._port=a,this._webWorker=a,this._readyCapability.resolve(),S.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),S.destroy(),a.terminate())}),S.on("ready",H=>{if(a.removeEventListener("error",O),this.destroyed)i();else try{R()}catch{this._setupFakeWorker()}});const R=()=>{const H=new Uint8Array;S.send("test",H,[H.buffer])};return void R()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then($=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const a=new LoopbackPort;this._port=a;const S="fake"+PDFWorkerUtil.fakeWorkerId++,i=new _message_handler.MessageHandler(S+"_worker",S,a);$.setup(i,a);const O=new _message_handler.MessageHandler(S,S+"_worker",a);this._messageHandler=O,this._readyCapability.resolve(),O.send("configure",{verbosity:this.verbosity})}).catch($=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${$.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort($){if(!$?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).has($.port)?_classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).get($.port):new _PDFWorker($)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function $(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}var _workerPorts={writable:!0,value:new WeakMap};exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(a,S,i,O){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=a,this.loadingTask=S,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:S.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:O.ownerDocument,styleElement:O.styleElement}),this._params=O,O.useWorkerFetch||(this.CMapReaderFactory=new O.CMapReaderFactory({baseUrl:O.cMapUrl,isCompressed:O.cMapPacked}),this.StandardFontDataFactory=new O.StandardFontDataFactory({baseUrl:O.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(a,S=_util.AnnotationMode.ENABLE,i=!1){let O=_util.RenderingIntentFlag.DISPLAY,R="";switch(a){case"any":O=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":O=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${a}`)}switch(S){case _util.AnnotationMode.DISABLE:O+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:O+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:O+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,R=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${S}`)}return i&&(O+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:O,cacheKey:`${O}_${R}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const a=[];for(const i of _classPrivateFieldGet(this,_pageCache).values())a.push(i._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const S=this.messageHandler.sendWithPromise("Terminate",null);return a.push(S),Promise.all(a).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:a,loadingTask:S}=this;a.on("GetReader",(i,O)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=R=>{this._lastProgress={loaded:R.loaded,total:R.total}},O.onPull=()=>{this._fullReader.read().then(function({value:R,done:H}){H?O.close():((0,_util.assert)((0,_util.isArrayBuffer)(R),"GetReader - expected an ArrayBuffer."),O.enqueue(new Uint8Array(R),1,[R]))}).catch(R=>{O.error(R)})},O.onCancel=R=>{this._fullReader.cancel(R),O.ready.catch(H=>{if(!this.destroyed)throw H})}}),a.on("ReaderHeadersReady",i=>{const O=(0,_util.createPromiseCapability)(),R=this._fullReader;return R.headersReady.then(()=>{(!R.isStreamingSupported||!R.isRangeSupported)&&(this._lastProgress&&S.onProgress?.(this._lastProgress),R.onProgress=H=>{S.onProgress?.({loaded:H.loaded,total:H.total})}),O.resolve({isStreamingSupported:R.isStreamingSupported,isRangeSupported:R.isRangeSupported,contentLength:R.contentLength})},O.reject),O.promise}),a.on("GetRangeReader",(i,O)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const R=this._networkStream.getRangeReader(i.begin,i.end);R?(O.onPull=()=>{R.read().then(function({value:H,done:x}){x?O.close():((0,_util.assert)((0,_util.isArrayBuffer)(H),"GetRangeReader - expected an ArrayBuffer."),O.enqueue(new Uint8Array(H),1,[H]))}).catch(H=>{O.error(H)})},O.onCancel=H=>{R.cancel(H),O.ready.catch(x=>{if(!this.destroyed)throw x})}):O.close()}),a.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,S._capability.resolve(new PDFDocumentProxy(i,this))}),a.on("DocException",function(i){let O;switch(i.name){case"PasswordException":O=new _util.PasswordException(i.message,i.code);break;case"InvalidPDFException":O=new _util.InvalidPDFException(i.message);break;case"MissingPDFException":O=new _util.MissingPDFException(i.message);break;case"UnexpectedResponseException":O=new _util.UnexpectedResponseException(i.message,i.status);break;case"UnknownErrorException":O=new _util.UnknownErrorException(i.message,i.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}S._capability.reject(O)}),a.on("PasswordRequest",i=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),S.onPassword){const O=R=>{R instanceof Error?this._passwordCapability.reject(R):this._passwordCapability.resolve({password:R})};try{S.onPassword(O,i.code)}catch(R){this._passwordCapability.reject(R)}}else this._passwordCapability.reject(new _util.PasswordException(i.message,i.code));return this._passwordCapability.promise}),a.on("DataLoaded",i=>{S.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),a.on("StartRenderPage",i=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),a.on("commonobj",([i,O,R])=>{if(!this.destroyed&&!this.commonObjs.has(i))switch(O){case"Font":const H=this._params;if("error"in R){const y=R.error;(0,_util.warn)(`Error during font loading: ${y}`),this.commonObjs.resolve(i,y);break}let x=null;H.pdfBug&&globalThis.FontInspector?.enabled&&(x={registerFont(y,I){globalThis.FontInspector.fontAdded(y,I)}});const T=new _font_loader.FontFaceObject(R,{isEvalSupported:H.isEvalSupported,disableFontFace:H.disableFontFace,ignoreErrors:H.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:x});this.fontLoader.bind(T).catch(y=>a.sendWithPromise("FontFallback",{id:i})).finally(()=>{!H.fontExtraProperties&&T.data&&(T.data=null),this.commonObjs.resolve(i,T)});break;case"FontPath":case"Image":this.commonObjs.resolve(i,R);break;default:throw new Error(`Got unknown common object type ${O}`)}}),a.on("obj",([i,O,R,H])=>{if(this.destroyed)return;const x=_classPrivateFieldGet(this,_pageCache).get(O);if(!x.objs.has(i))switch(R){case"Image":x.objs.resolve(i,H);const T=8e6;if(H){let y;if(H.bitmap){const{bitmap:I,width:W,height:q}=H;y=W*q*4,x._bitmaps.add(I)}else y=H.data?.length||0;y>T&&(x.cleanupAfterRender=!0)}break;case"Pattern":x.objs.resolve(i,H);break;default:throw new Error(`Got unknown object type ${R}`)}}),a.on("DocProgress",i=>{this.destroyed||S.onProgress?.({loaded:i.loaded,total:i.total})}),a.on("DocStats",i=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(i.streamTypes),fontTypes:Object.freeze(i.fontTypes)}))}),a.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),a.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),a.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:a}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(a)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(a){if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(new Error("Invalid page request."));const S=a-1,i=_classPrivateFieldGet(this,_pagePromises).get(S);if(i)return i;const O=this.messageHandler.sendWithPromise("GetPage",{pageIndex:S}).then(R=>{if(this.destroyed)throw new Error("Transport destroyed");const H=new PDFPageProxy(S,R,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(S,H),H});return _classPrivateFieldGet(this,_pagePromises).set(S,O),O}getPageIndex(a){return"object"!=typeof a||null===a||!Number.isInteger(a.num)||a.num<0||!Number.isInteger(a.gen)||a.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:a.num,gen:a.gen})}getAnnotations(a,S){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:S})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(a){return"string"!=typeof a?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(a){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:a})}getStructTree(a){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:a})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(a=>new _optional_content_config.OptionalContentConfig(a))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(a=>({info:a[0],metadata:a[1]?new _metadata.Metadata(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(a=!1){var S=this;return _asyncToGenerator(function*(){if(yield S.messageHandler.sendWithPromise("Cleanup",null),!S.destroyed){for(const i of _classPrivateFieldGet(S,_pageCache).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);S.commonObjs.clear(),a||S.fontLoader.clear(),_classPrivateFieldSet(S,_metadataPromise,null),S._getFieldObjectsPromise=null,S._hasJSActionsPromise=null}})()}get loadingParams(){const a=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:a.disableAutoFetch,enableXfa:a.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(a,S=null){if(S){const O=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,a);return O.capability.promise.then(()=>S(O.data)),null}const i=_classPrivateFieldGet(this,_objs)[a];if(!i?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${a}.`);return i.data}has(a){return _classPrivateFieldGet(this,_objs)[a]?.capability.settled||!1}resolve(a,S=null){const i=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,a);i.data=S,i.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2($){return _classPrivateFieldGet(this,_objs)[$]||(_classPrivateFieldGet(this,_objs)[$]={capability:(0,_util.createPromiseCapability)(),data:null})}class RenderTask{constructor(a){this._internalRenderTask=a,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor({callback:a,params:S,objs:i,commonObjs:O,annotationCanvasMap:R,operatorList:H,pageIndex:x,canvasFactory:T,useRequestAnimationFrame:y=!1,pdfBug:I=!1,pageColors:W=null}){this.callback=a,this.params=S,this.objs=i,this.commonObjs=O,this.annotationCanvasMap=R,this.operatorListIdx=null,this.operatorList=H,this._pageIndex=x,this.canvasFactory=T,this._pdfBug=I,this.pageColors=W,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===y&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=S.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:a=!1,optionalContentConfig:S}){if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:O,transform:R,imageLayer:H,background:x}=this.params;this.gfx=new _canvas.CanvasGraphics(i,this.commonObjs,this.objs,this.canvasFactory,H,S,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:R,viewport:O,transparency:a,background:x}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(a=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(a||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var a=this;return _asyncToGenerator(function*(){a.cancelled||(a.operatorListIdx=a.gfx.executeOperatorList(a.operatorList,a.operatorListIdx,a._continueBound,a.stepper),a.operatorListIdx===a.operatorList.argsArray.length&&(a.running=!1,a.operatorList.lastChunk&&(a.gfx.endDrawing(),a._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(a._canvas),a.callback())))})()}}var _canvasInUse={writable:!0,value:new WeakSet};const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},($,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.StatTimer=a.RenderingCancelledException=a.PixelsPerInch=a.PageViewport=a.PDFDateString=a.DOMStandardFontDataFactory=a.DOMSVGFactory=a.DOMCanvasFactory=a.DOMCMapReaderFactory=void 0,a.deprecated=function n(b){console.log("Deprecated API usage: "+b)},a.getFilenameFromUrl=function m(b){const p=b.indexOf("#"),h=b.indexOf("?"),M=Math.min(p>0?p:b.length,h>0?h:b.length);return b.substring(b.lastIndexOf("/",M)+1,M)},a.getPdfFilenameFromUrl=function A(b,p="document.pdf"){if("string"!=typeof b)return p;if(_(b))return(0,O.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),p;const M=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,E=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(b);let N=M.exec(E[1])||M.exec(E[2])||M.exec(E[3]);if(N&&(N=N[0],N.includes("%")))try{N=M.exec(decodeURIComponent(N))[0]}catch{}return N||p},a.getXfaPageViewport=function d(b,{scale:p=1,rotation:h=0}){const{width:M,height:E}=b.attributes.style,N=[0,0,parseInt(M),parseInt(E)];return new B({viewBox:N,scale:p,rotation:h})},a.isDataScheme=_,a.isPdfFile=function l(b){return"string"==typeof b&&/\.pdf$/i.test(b)},a.isValidFetchUrl=v,a.loadScript=function t(b,p=!1){return new Promise((h,M)=>{const E=document.createElement("script");E.src=b,E.onload=function(N){p&&E.remove(),h(N)},E.onerror=function(){M(new Error(`Cannot load script at: ${E.src}`))},(document.head||document.documentElement).appendChild(E)})};var i=S(6),O=S(1);class H{}function T(b){return y.apply(this,arguments)}function y(){return(y=_asyncToGenerator(function*(b,p=!1){if(v(b,document.baseURI)){const h=yield fetch(b);if(!h.ok)throw new Error(h.statusText);return p?new Uint8Array(yield h.arrayBuffer()):(0,O.stringToBytes)(yield h.text())}return new Promise((h,M)=>{const E=new XMLHttpRequest;E.open("GET",b,!0),p&&(E.responseType="arraybuffer"),E.onreadystatechange=()=>{if(E.readyState===XMLHttpRequest.DONE){if(200===E.status||0===E.status){let N;if(p&&E.response?N=new Uint8Array(E.response):!p&&E.responseText&&(N=(0,O.stringToBytes)(E.responseText)),N)return void h(N)}M(new Error(E.statusText))}},E.send(null)})})).apply(this,arguments)}_defineProperty(H,"CSS",96),_defineProperty(H,"PDF",72),_defineProperty(H,"PDF_TO_CSS_UNITS",H.CSS/H.PDF),a.PixelsPerInch=H,a.DOMCanvasFactory=class x extends i.BaseCanvasFactory{constructor({ownerDocument:p=globalThis.document}={}){super(),this._document=p}_createCanvas(p,h){const M=this._document.createElement("canvas");return M.width=p,M.height=h,M}},a.DOMCMapReaderFactory=class I extends i.BaseCMapReaderFactory{_fetchData(p,h){return T(p,this.isCompressed).then(M=>({cMapData:M,compressionType:h}))}},a.DOMStandardFontDataFactory=class W extends i.BaseStandardFontDataFactory{_fetchData(p){return T(p,!0)}},a.DOMSVGFactory=class q extends i.BaseSVGFactory{_createSVG(p){return document.createElementNS("http://www.w3.org/2000/svg",p)}};class B{constructor({viewBox:p,scale:h,rotation:M,offsetX:E=0,offsetY:N=0,dontFlip:J=!1}){this.viewBox=p,this.scale=h,this.rotation=M,this.offsetX=E,this.offsetY=N;const te=(p[2]+p[0])/2,ne=(p[3]+p[1])/2;let se,fe,ue,F,s,e,r,o;switch((M%=360)<0&&(M+=360),M){case 180:se=-1,fe=0,ue=0,F=1;break;case 90:se=0,fe=1,ue=1,F=0;break;case 270:se=0,fe=-1,ue=-1,F=0;break;case 0:se=1,fe=0,ue=0,F=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}J&&(ue=-ue,F=-F),0===se?(s=Math.abs(ne-p[1])*h+E,e=Math.abs(te-p[0])*h+N,r=Math.abs(p[3]-p[1])*h,o=Math.abs(p[2]-p[0])*h):(s=Math.abs(te-p[0])*h+E,e=Math.abs(ne-p[1])*h+N,r=Math.abs(p[2]-p[0])*h,o=Math.abs(p[3]-p[1])*h),this.transform=[se*h,fe*h,ue*h,F*h,s-se*h*te-ue*h*ne,e-fe*h*te-F*h*ne],this.width=r,this.height=o}clone({scale:p=this.scale,rotation:h=this.rotation,offsetX:M=this.offsetX,offsetY:E=this.offsetY,dontFlip:N=!1}={}){return new B({viewBox:this.viewBox.slice(),scale:p,rotation:h,offsetX:M,offsetY:E,dontFlip:N})}convertToViewportPoint(p,h){return O.Util.applyTransform([p,h],this.transform)}convertToViewportRectangle(p){const h=O.Util.applyTransform([p[0],p[1]],this.transform),M=O.Util.applyTransform([p[2],p[3]],this.transform);return[h[0],h[1],M[0],M[1]]}convertToPdfPoint(p,h){return O.Util.applyInverseTransform([p,h],this.transform)}}function _(b){const p=b.length;let h=0;for(;h<p&&""===b[h].trim();)h++;return"data:"===b.substring(h,h+5).toLowerCase()}function v(b,p){try{const{protocol:h}=p?new URL(b,p):new URL(b);return"http:"===h||"https:"===h}catch{return!1}}let u;a.PageViewport=B,a.RenderingCancelledException=class G extends O.BaseException{constructor(p,h){super(p,"RenderingCancelledException"),this.type=h}},a.StatTimer=class w{constructor(){this.started=Object.create(null),this.times=[]}time(p){p in this.started&&(0,O.warn)(`Timer is already running for ${p}`),this.started[p]=Date.now()}timeEnd(p){p in this.started||(0,O.warn)(`Timer has not been started for ${p}`),this.times.push({name:p,start:this.started[p],end:Date.now()}),delete this.started[p]}toString(){const p=[];let h=0;for(const M of this.times){const E=M.name;E.length>h&&(h=E.length)}for(const M of this.times){const E=M.end-M.start;p.push(`${M.name.padEnd(h)} ${E}ms\n`)}return p.join("")}},a.PDFDateString=class P{static toDateObject(p){if(!p||"string"!=typeof p)return null;u||(u=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const h=u.exec(p);if(!h)return null;const M=parseInt(h[1],10);let E=parseInt(h[2],10);E=E>=1&&E<=12?E-1:0;let N=parseInt(h[3],10);N=N>=1&&N<=31?N:1;let J=parseInt(h[4],10);J=J>=0&&J<=23?J:0;let te=parseInt(h[5],10);te=te>=0&&te<=59?te:0;let ne=parseInt(h[6],10);ne=ne>=0&&ne<=59?ne:0;const se=h[7]||"Z";let fe=parseInt(h[8],10);fe=fe>=0&&fe<=23?fe:0;let ue=parseInt(h[9],10)||0;return ue=ue>=0&&ue<=59?ue:0,"-"===se?(J+=fe,te+=ue):"+"===se&&(J-=fe,te-=ue),new Date(Date.UTC(M,E,N,J,te,ne))}}},($,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BaseStandardFontDataFactory=a.BaseSVGFactory=a.BaseCanvasFactory=a.BaseCMapReaderFactory=void 0;var i=S(1);class O{constructor(){this.constructor===O&&(0,i.unreachable)("Cannot initialize BaseCanvasFactory.")}create(y,I){if(y<=0||I<=0)throw new Error("Invalid canvas size");const W=this._createCanvas(y,I);return{canvas:W,context:W.getContext("2d")}}reset(y,I,W){if(!y.canvas)throw new Error("Canvas is not specified");if(I<=0||W<=0)throw new Error("Invalid canvas size");y.canvas.width=I,y.canvas.height=W}destroy(y){if(!y.canvas)throw new Error("Canvas is not specified");y.canvas.width=0,y.canvas.height=0,y.canvas=null,y.context=null}_createCanvas(y,I){(0,i.unreachable)("Abstract method `_createCanvas` called.")}}a.BaseCanvasFactory=O;class R{constructor({baseUrl:y=null,isCompressed:I=!1}){this.constructor===R&&(0,i.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=y,this.isCompressed=I}fetch({name:y}){var I=this;return _asyncToGenerator(function*(){if(!I.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!y)throw new Error("CMap name must be specified.");const W=I.baseUrl+y+(I.isCompressed?".bcmap":"");return I._fetchData(W,I.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE).catch(B=>{throw new Error(`Unable to load ${I.isCompressed?"binary ":""}CMap at: ${W}`)})})()}_fetchData(y,I){(0,i.unreachable)("Abstract method `_fetchData` called.")}}a.BaseCMapReaderFactory=R;class H{constructor({baseUrl:y=null}){this.constructor===H&&(0,i.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=y}fetch({filename:y}){var I=this;return _asyncToGenerator(function*(){if(!I.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!y)throw new Error("Font filename must be specified.");const W=`${I.baseUrl}${y}`;return I._fetchData(W).catch(q=>{throw new Error(`Unable to load font data at: ${W}`)})})()}_fetchData(y){(0,i.unreachable)("Abstract method `_fetchData` called.")}}a.BaseStandardFontDataFactory=H;class x{constructor(){this.constructor===x&&(0,i.unreachable)("Cannot initialize BaseSVGFactory.")}create(y,I){if(y<=0||I<=0)throw new Error("Invalid SVG dimensions");const W=this._createSVG("svg:svg");return W.setAttribute("version","1.1"),W.setAttribute("width",`${y}px`),W.setAttribute("height",`${I}px`),W.setAttribute("preserveAspectRatio","none"),W.setAttribute("viewBox",`0 0 ${y} ${I}`),W}createElement(y){if("string"!=typeof y)throw new Error("Invalid SVG element type");return this._createSVG(y)}_createSVG(y){(0,i.unreachable)("Abstract method `_createSVG` called.")}}a.BaseSVGFactory=x},($,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.FontLoader=a.FontFaceObject=void 0;var i=S(1);class O{constructor({docId:T,onUnsupportedFeature:y,ownerDocument:I=globalThis.document,styleElement:W=null}){this.constructor===O&&(0,i.unreachable)("Cannot initialize BaseFontLoader."),this.docId=T,this._onUnsupportedFeature=y,this._document=I,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(T){this.nativeFontFaces.push(T),this._document.fonts.add(T)}insertRule(T){let y=this.styleElement;y||(y=this.styleElement=this._document.createElement("style"),y.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(y));const I=y.sheet;I.insertRule(T,I.cssRules.length)}clear(){for(const T of this.nativeFontFaces)this._document.fonts.delete(T);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(T){var y=this;return _asyncToGenerator(function*(){if(T.attached||T.missingFile)return;if(T.attached=!0,y.isFontLoadingAPISupported){const W=T.createNativeFontFace();if(W){y.addNativeFontFace(W);try{yield W.loaded}catch(q){throw y._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,i.warn)(`Failed to load font '${W.family}': '${q}'.`),T.disableFontFace=!0,q}}return}const I=T.createFontFaceRule();if(I){if(y.insertRule(I),y.isSyncFontLoadingSupported)return;yield new Promise(W=>{const q=y._queueLoadingCallback(W);y._prepareFontLoadEvent([I],[T],q)})}})()}_queueLoadingCallback(T){(0,i.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,i.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,i.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,i.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(T,y,I){(0,i.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let R;a.FontLoader=R,a.FontLoader=R=class extends O{constructor(T){super(T),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let T=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(T=!0),(0,i.shadow)(this,"isSyncFontLoadingSupported",T)}_queueLoadingCallback(T){const I=this.loadingContext,W={id:"pdfjs-font-loading-"+I.nextRequestId++,done:!1,complete:function y(){for((0,i.assert)(!W.done,"completeRequest() cannot be called twice."),W.done=!0;I.requests.length>0&&I.requests[0].done;){const q=I.requests.shift();setTimeout(q.callback,0)}},callback:T};return I.requests.push(W),W}get _loadTestFont(){return(0,i.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(T,y,I){function W(M,E){return M.charCodeAt(E)<<24|M.charCodeAt(E+1)<<16|M.charCodeAt(E+2)<<8|255&M.charCodeAt(E+3)}function q(M,E,N,J){return M.substring(0,E)+J+M.substring(E+N)}let B,G;const _=this._document.createElement("canvas");_.width=1,_.height=1;const l=_.getContext("2d");let m=0;const w=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=q(v,976,w.length,w);const u=1482184792;let P=W(v,16);for(B=0,G=w.length-3;B<G;B+=4)P=P-u+W(w,B)|0;B<w.length&&(P=P-u+W(w+"XXX",B)|0),v=q(v,16,4,(0,i.string32)(P));const d=`url(data:font/opentype;base64,${btoa(v)});`;this.insertRule(`@font-face {font-family:"${w}";src:${d}}`);const p=[];for(const M of y)p.push(M.loadedName);p.push(w);const h=this._document.createElement("div");h.style.visibility="hidden",h.style.width=h.style.height="10px",h.style.position="absolute",h.style.top=h.style.left="0px";for(const M of p){const E=this._document.createElement("span");E.textContent="Hi",E.style.fontFamily=M,h.appendChild(E)}this._document.body.appendChild(h),function A(M,E){if(m++,m>30)return(0,i.warn)("Load test font never loaded."),void E();l.font="30px "+M,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0?E():setTimeout(A.bind(null,M,E))}(w,()=>{h.remove(),I.complete()})}},a.FontFaceObject=class H{constructor(T,{isEvalSupported:y=!0,disableFontFace:I=!1,ignoreErrors:W=!1,onUnsupportedFeature:q,fontRegistry:B=null}){this.compiledGlyphs=Object.create(null);for(const G in T)this[G]=T[G];this.isEvalSupported=!1!==y,this.disableFontFace=!0===I,this.ignoreErrors=!0===W,this._onUnsupportedFeature=q,this.fontRegistry=B}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let T;if(this.cssFontInfo){const y={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(y.style=`oblique ${this.cssFontInfo.italicAngle}deg`),T=new FontFace(this.cssFontInfo.fontFamily,this.data,y)}else T=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),T}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const T=(0,i.bytesToString)(this.data),y=`url(data:${this.mimetype};base64,${btoa(T)});`;let I;if(this.cssFontInfo){let W=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(W+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),I=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${W}src:${y}}`}else I=`@font-face {font-family:"${this.loadedName}";src:${y}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,y),I}getPathGenerator(T,y){if(void 0!==this.compiledGlyphs[y])return this.compiledGlyphs[y];let I;try{I=T.get(this.loadedName+"_path_"+y)}catch(W){if(!this.ignoreErrors)throw W;return this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,i.warn)(`getPathGenerator - ignoring character: "${W}".`),this.compiledGlyphs[y]=function(q,B){}}if(this.isEvalSupported&&i.FeatureTest.isEvalSupported){const W=[];for(const q of I){const B=void 0!==q.args?q.args.join(","):"";W.push("c.",q.cmd,"(",B,");\n")}return this.compiledGlyphs[y]=new Function("c","size",W.join(""))}return this.compiledGlyphs[y]=function(W,q){for(const B of I)"scale"===B.cmd&&(B.args=[q,-q]),W[B.cmd].apply(W,B.args)}}}},($,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationStorage=void 0;var i=S(9),O=S(1);a.AnnotationStorage=class R{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(x,T){const y=this._storage.get(x);return void 0===y?T:Object.assign(T,y)}getRawValue(x){return this._storage.get(x)}setValue(x,T){const y=this._storage.get(x);let I=!1;if(void 0!==y)for(const[W,q]of Object.entries(T))y[W]!==q&&(I=!0,y[W]=q);else I=!0,this._storage.set(x,T);I&&this._setModified()}getAll(){return this._storage.size>0?(0,O.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const x=new i.MurmurHash3_64;for(const[T,y]of this._storage)x.update(`${T}:${JSON.stringify(y)}`);return x.hexdigest()}}},($,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MurmurHash3_64=void 0;var i=S(1);const O=3285377520,R=4294901760,H=65535;a.MurmurHash3_64=class x{constructor(y){this.h1=y?4294967295&y:O,this.h2=y?4294967295&y:O}update(y){let I,W;if("string"==typeof y){I=new Uint8Array(2*y.length),W=0;for(let u=0,P=y.length;u<P;u++){const d=y.charCodeAt(u);d<=255?I[W++]=d:(I[W++]=d>>>8,I[W++]=255&d)}}else{if(!(0,i.isArrayBuffer)(y))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");I=y.slice(),W=I.byteLength}const q=W>>2,B=W-4*q,G=new Uint32Array(I.buffer,0,q);let _=0,l=0,m=this.h1,A=this.h2;const w=3432918353,v=461845907,t=w&H,n=v&H;for(let u=0;u<q;u++)1&u?(_=G[u],_=_*w&R|_*t&H,_=_<<15|_>>>17,_=_*v&R|_*n&H,m^=_,m=m<<13|m>>>19,m=5*m+3864292196):(l=G[u],l=l*w&R|l*t&H,l=l<<15|l>>>17,l=l*v&R|l*n&H,A^=l,A=A<<13|A>>>19,A=5*A+3864292196);switch(_=0,B){case 3:_^=I[4*q+2]<<16;case 2:_^=I[4*q+1]<<8;case 1:_^=I[4*q],_=_*w&R|_*t&H,_=_<<15|_>>>17,_=_*v&R|_*n&H,1&q?m^=_:A^=_}this.h1=m,this.h2=A}hexdigest(){let y=this.h1,I=this.h2;y^=I>>>1,y=3981806797*y&R|36045*y&H,I=4283543511*I&R|(2950163797*(I<<16|y>>>16)&R)>>>16,y^=I>>>1,y=444984403*y&R|60499*y&H,I=3301882366*I&R|(3120437893*(I<<16|y>>>16)&R)>>>16,y^=I>>>1;const W=(y>>>0).toString(16),q=(I>>>0).toString(16);return W.padStart(8,"0")+q.padStart(8,"0")}}},($,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CanvasGraphics=void 0;var i=S(1),O=S(11),R=S(12),H=S(3),x=S(5);const I=4096,_=16,l=1.000001;function A(F){if(F._transformStack&&(F._transformStack=[]),!F.mozCurrentTransform){F._originalSave=F.save,F._originalRestore=F.restore,F._originalRotate=F.rotate,F._originalScale=F.scale,F._originalTranslate=F.translate,F._originalTransform=F.transform,F._originalSetTransform=F.setTransform,F._originalResetTransform=F.resetTransform,F._transformMatrix=F._transformMatrix||[1,0,0,1,0,0],F._transformStack=[];try{const s=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(F),"lineWidth");F._setLineWidth=s.set,F._getLineWidth=s.get,Object.defineProperty(F,"lineWidth",{set:function(r){this._setLineWidth(r*l)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(F,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(F,"mozCurrentTransformInverse",{get:function(){const[e,r,o,g,f,c]=this._transformMatrix,k=e*g-r*o,Q=r*o-e*g;return[g/k,r/Q,o/Q,e/k,(g*f-o*c)/Q,(r*f-e*c)/k]}}),F.save=function(){const e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},F.restore=function(){0===this._transformStack.length&&(0,i.warn)("Tried to restore a ctx when the stack was already empty.");const e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},F.translate=function(e,r){const o=this._transformMatrix;o[4]=o[0]*e+o[2]*r+o[4],o[5]=o[1]*e+o[3]*r+o[5],this._originalTranslate(e,r)},F.scale=function(e,r){const o=this._transformMatrix;o[0]*=e,o[1]*=e,o[2]*=r,o[3]*=r,this._originalScale(e,r)},F.transform=function(e,r,o,g,f,c){const k=this._transformMatrix;this._transformMatrix=[k[0]*e+k[2]*r,k[1]*e+k[3]*r,k[0]*o+k[2]*g,k[1]*o+k[3]*g,k[0]*f+k[2]*c+k[4],k[1]*f+k[3]*c+k[5]],F._originalTransform(e,r,o,g,f,c)},F.setTransform=function(e,r,o,g,f,c){this._transformMatrix=[e,r,o,g,f,c],F._originalSetTransform(e,r,o,g,f,c)},F.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],F._originalResetTransform()},F.rotate=function(e){const r=Math.cos(e),o=Math.sin(e),g=this._transformMatrix;this._transformMatrix=[g[0]*r+g[2]*o,g[1]*r+g[3]*o,g[0]*-o+g[2]*r,g[1]*-o+g[3]*r,g[4],g[5]],this._originalRotate(e)}}}class w{constructor(s){this.canvasFactory=s,this.cache=Object.create(null)}getCanvas(s,e,r,o){let g;return void 0!==this.cache[s]?(g=this.cache[s],this.canvasFactory.reset(g,e,r),g.context.setTransform(1,0,0,1,0,0)):(g=this.canvasFactory.create(e,r),this.cache[s]=g),o&&A(g.context),g}delete(s){delete this.cache[s]}clear(){for(const s in this.cache)this.canvasFactory.destroy(this.cache[s]),delete this.cache[s]}}function v(F,s,e,r,o,g,f,c,k,Q){const[V,K,Y,ie,re,_e]=F.mozCurrentTransform;if(0===K&&0===Y){const de=Math.round(f*V+re),Ce=Math.round(c*ie+_e),ce=Math.abs(Math.round((f+k)*V+re)-de)||1,he=Math.abs(Math.round((c+Q)*ie+_e)-Ce)||1;return F.setTransform(Math.sign(V),0,0,Math.sign(ie),de,Ce),F.drawImage(s,e,r,o,g,0,0,ce,he),F.setTransform(V,K,Y,ie,re,_e),[ce,he]}if(0===V&&0===ie){const de=Math.round(c*Y+re),Ce=Math.round(f*K+_e),ce=Math.abs(Math.round((c+Q)*Y+re)-de)||1,he=Math.abs(Math.round((f+k)*K+_e)-Ce)||1;return F.setTransform(0,Math.sign(K),Math.sign(Y),0,de,Ce),F.drawImage(s,e,r,o,g,0,0,he,ce),F.setTransform(V,K,Y,ie,re,_e),[he,ce]}return F.drawImage(s,e,r,o,g,f,c,k,Q),[Math.hypot(V,K)*k,Math.hypot(Y,ie)*Q]}class n{constructor(s,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,s,e])}clone(){const s=Object.create(this);return s.clipBox=this.clipBox.slice(),s}setCurrentPoint(s,e){this.x=s,this.y=e}updatePathMinMax(s,e,r){[e,r]=i.Util.applyTransform([e,r],s),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(s,e){const r=i.Util.applyTransform(e,s),o=i.Util.applyTransform(e.slice(2),s);this.minX=Math.min(this.minX,r[0],o[0]),this.minY=Math.min(this.minY,r[1],o[1]),this.maxX=Math.max(this.maxX,r[0],o[0]),this.maxY=Math.max(this.maxY,r[1],o[1])}updateScalingPathMinMax(s,e){i.Util.scaleMinMax(s,e),this.minX=Math.min(this.minX,e[0]),this.maxX=Math.max(this.maxX,e[1]),this.minY=Math.min(this.minY,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(s,e,r,o,g,f,c,k,Q,V){const K=i.Util.bezierBoundingBox(e,r,o,g,f,c,k,Q);if(V)return V[0]=Math.min(V[0],K[0],K[2]),V[1]=Math.max(V[1],K[0],K[2]),V[2]=Math.min(V[2],K[1],K[3]),void(V[3]=Math.max(V[3],K[1],K[3]));this.updateRectMinMax(s,K)}getPathBoundingBox(s=O.PathType.FILL,e=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(s===O.PathType.STROKE){e||(0,i.unreachable)("Stroke bounding box must include transform.");const o=i.Util.singularValueDecompose2dScale(e),g=o[0]*this.lineWidth/2,f=o[1]*this.lineWidth/2;r[0]-=g,r[1]-=f,r[2]+=g,r[3]+=f}return r}updateClipFromPath(){const s=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(s||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(s){this.clipBox=s,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(s=O.PathType.FILL,e=null){return i.Util.intersect(this.clipBox,this.getPathBoundingBox(s,e))}}function u(F,s,e=null){if(typeof ImageData<"u"&&s instanceof ImageData)return void F.putImageData(s,0,0);const r=s.height,o=s.width,g=r%_,f=(r-g)/_,c=0===g?f:f+1,k=F.createImageData(o,_);let V,Q=0;const K=s.data,Y=k.data;let ie,re,_e,ve,Pe,Se,de,Ee;if(e)switch(e.length){case 1:Pe=e[0],Se=e[0],de=e[0],Ee=e[0];break;case 4:Pe=e[0],Se=e[1],de=e[2],Ee=e[3]}if(s.kind===i.ImageKind.GRAYSCALE_1BPP){const Ce=K.byteLength,Ae=new Uint32Array(Y.buffer,0,Y.byteLength>>2),ce=Ae.length,pe=o+7>>3;let he=4294967295,C=i.FeatureTest.isLittleEndian?4278190080:255;for(Ee&&255===Ee[0]&&0===Ee[255]&&([he,C]=[C,he]),ie=0;ie<c;ie++){for(_e=ie<f?_:g,V=0,re=0;re<_e;re++){const ee=Ce-Q;let ae=0;const ye=ee>pe?o:8*ee-7,ge=-8&ye;let X=0,D=0;for(;ae<ge;ae+=8)D=K[Q++],Ae[V++]=128&D?he:C,Ae[V++]=64&D?he:C,Ae[V++]=32&D?he:C,Ae[V++]=16&D?he:C,Ae[V++]=8&D?he:C,Ae[V++]=4&D?he:C,Ae[V++]=2&D?he:C,Ae[V++]=1&D?he:C;for(;ae<ye;ae++)0===X&&(D=K[Q++],X=128),Ae[V++]=D&X?he:C,X>>=1}for(;V<ce;)Ae[V++]=0;F.putImageData(k,0,ie*_)}}else if(s.kind===i.ImageKind.RGBA_32BPP){const Ce=!!(Pe||Se||de);for(re=0,ve=o*_*4,ie=0;ie<f;ie++){if(Y.set(K.subarray(Q,Q+ve)),Q+=ve,Ce)for(let Ae=0;Ae<ve;Ae+=4)Pe&&(Y[Ae+0]=Pe[Y[Ae+0]]),Se&&(Y[Ae+1]=Se[Y[Ae+1]]),de&&(Y[Ae+2]=de[Y[Ae+2]]);F.putImageData(k,0,re),re+=_}if(ie<c){if(ve=o*g*4,Y.set(K.subarray(Q,Q+ve)),Ce)for(let Ae=0;Ae<ve;Ae+=4)Pe&&(Y[Ae+0]=Pe[Y[Ae+0]]),Se&&(Y[Ae+1]=Se[Y[Ae+1]]),de&&(Y[Ae+2]=de[Y[Ae+2]]);F.putImageData(k,0,re)}}else{if(s.kind!==i.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${s.kind}`);{const Ce=!!(Pe||Se||de);for(_e=_,ve=o*_e,ie=0;ie<c;ie++){for(ie>=f&&(_e=g,ve=o*_e),V=0,re=ve;re--;)Y[V++]=K[Q++],Y[V++]=K[Q++],Y[V++]=K[Q++],Y[V++]=255;if(Ce)for(let Ae=0;Ae<V;Ae+=4)Pe&&(Y[Ae+0]=Pe[Y[Ae+0]]),Se&&(Y[Ae+1]=Se[Y[Ae+1]]),de&&(Y[Ae+2]=de[Y[Ae+2]]);F.putImageData(k,0,ie*_)}}}}function P(F,s){if(s.bitmap)return void F.drawImage(s.bitmap,0,0);const e=s.height,r=s.width,o=e%_,g=(e-o)/_,f=0===o?g:g+1,c=F.createImageData(r,_);let k=0;const Q=s.data,V=c.data;for(let K=0;K<f;K++){const Y=K<g?_:o;({srcPos:k}=(0,R.applyMaskImageData)({src:Q,srcPos:k,dest:V,width:r,height:Y})),F.putImageData(c,0,K*_)}}function d(F,s){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let r=0,o=e.length;r<o;r++){const g=e[r];void 0!==F[g]&&(s[g]=F[g])}void 0!==F.setLineDash&&(s.setLineDash(F.getLineDash()),s.lineDashOffset=F.lineDashOffset)}function b(F,s){F.strokeStyle=F.fillStyle=s||"#000000",F.fillRule="nonzero",F.globalAlpha=1,F.lineWidth=1,F.lineCap="butt",F.lineJoin="miter",F.miterLimit=10,F.globalCompositeOperation="source-over",F.font="10px sans-serif",void 0!==F.setLineDash&&(F.setLineDash([]),F.lineDashOffset=0)}function p(F,s,e,r){const o=F.length;for(let g=3;g<o;g+=4){const f=F[g];if(0===f)F[g-3]=s,F[g-2]=e,F[g-1]=r;else if(f<255){const c=255-f;F[g-3]=F[g-3]*f+s*c>>8,F[g-2]=F[g-2]*f+e*c>>8,F[g-1]=F[g-1]*f+r*c>>8}}}function h(F,s,e){const r=F.length;for(let g=3;g<r;g+=4)s[g]=s[g]*(e?e[F[g]]:F[g])*.00392156862745098|0}function M(F,s,e){const r=F.length;for(let o=3;o<r;o+=4){const g=77*F[o-3]+152*F[o-2]+28*F[o-1];s[o]=e?s[o]*e[g>>8]>>8:s[o]*g>>16}}function J(F,s){const e=i.Util.singularValueDecompose2dScale(F);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*x.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==s?s:e[0]<=r||e[1]<=r}const te=["butt","round","square"],ne=["miter","round","bevel"],se={},fe={};class ue{constructor(s,e,r,o,g,f,c,k){this.ctx=s,this.current=new n(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=r,this.canvasFactory=o,this.imageLayer=g,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=f,this.cachedCanvases=new w(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=k?.background||null,this.foregroundColor=k?.foreground||null,s&&A(s),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(s,e=null){return"string"==typeof s?s.startsWith("g_")?this.commonObjs.get(s):this.objs.get(s):e}beginDrawing({transform:s,viewport:e,transparency:r=!1,background:o=null}){const g=this.ctx.canvas.width,f=this.ctx.canvas.height,c=o||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const k=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const Q=this.backgroundColor=this.ctx.fillStyle;let V=!0,K=c;if(this.ctx.fillStyle=c,K=this.ctx.fillStyle,V="string"==typeof K&&/^#[0-9A-Fa-f]{6}$/.test(K),"#000000"===k&&"#ffffff"===Q||k===Q||!V)this.foregroundColor=this.backgroundColor=null;else{const Y=parseInt(K.slice(1),16),re=(Y&&65280)>>8,_e=Y&&255,ve=Se=>(Se/=255)<=.03928?Se/12.92:((Se+.055)/1.055)**2.4,Pe=Math.round(.2126*ve((Y&&16711680)>>16)+.7152*ve(re)+.0722*ve(_e));this.selectColor=(Se,de,Ee)=>{const Ce=.2126*ve(Se)+.7152*ve(de)+.0722*ve(Ee);return Math.round(Ce)===Pe?Q:k}}}if(this.ctx.fillStyle=this.backgroundColor||c,this.ctx.fillRect(0,0,g,f),this.ctx.restore(),r){const k=this.cachedCanvases.getCanvas("transparent",g,f,!0);this.compositeCtx=this.ctx,this.transparentCanvas=k.canvas,this.ctx=k.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),b(this.ctx,this.foregroundColor),s&&(this.ctx.transform.apply(this.ctx,s),this.outputScaleX=s[0],this.outputScaleY=s[0]),this.ctx.transform.apply(this.ctx,e.transform),this.viewportScale=e.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(s,e,r,o){const g=s.argsArray,f=s.fnArray;let c=e||0;const k=g.length;if(k===c)return c;const Q=k-c>10&&"function"==typeof r,V=Q?Date.now()+15:0;let K=0;const Y=this.commonObjs,ie=this.objs;let re;for(;;){if(void 0!==o&&c===o.nextBreakPoint)return o.breakIt(c,r),c;if(re=f[c],re!==i.OPS.dependency)this[re].apply(this,g[c]);else for(const _e of g[c]){const ve=_e.startsWith("g_")?Y:ie;if(!ve.has(_e))return ve.get(_e,r),c}if(c++,c===k)return c;if(Q&&++K>10){if(Date.now()>V)return r(),c;K=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const s of this._cachedBitmapsMap.values()){for(const e of s.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);s.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(s,e){const r=s.width,o=s.height;let V,K,g=Math.max(Math.hypot(e[0],e[1]),1),f=Math.max(Math.hypot(e[2],e[3]),1),c=r,k=o,Q="prescale1";for(;g>2&&c>1||f>2&&k>1;){let Y=c,ie=k;g>2&&c>1&&(Y=Math.ceil(c/2),g/=c/Y),f>2&&k>1&&(ie=Math.ceil(k/2),f/=k/ie),V=this.cachedCanvases.getCanvas(Q,Y,ie,!1),K=V.context,K.clearRect(0,0,Y,ie),K.drawImage(s,0,0,c,k,0,0,Y,ie),s=V.canvas,c=Y,k=ie,Q="prescale1"===Q?"prescale2":"prescale1"}return{img:s,paintWidth:c,paintHeight:k}}_createMaskCanvas(s){const e=this.ctx,{width:r,height:o}=s,g=this.current.fillColor,f=this.current.patternFill,c=e.mozCurrentTransform;let k,Q,V,K;if((s.bitmap||s.data)&&s.count>1){const ce=s.bitmap||s.data.buffer,pe=c.slice(0,4);Q=JSON.stringify(f?pe:[pe,g]),k=this._cachedBitmapsMap.get(ce),k||(k=new Map,this._cachedBitmapsMap.set(ce,k));const he=k.get(Q);if(he&&!f)return{canvas:he,offsetX:Math.round(Math.min(c[0],c[2])+c[4]),offsetY:Math.round(Math.min(c[1],c[3])+c[5])};V=he}V||(K=this.cachedCanvases.getCanvas("maskCanvas",r,o,!1),P(K.context,s));let Y=i.Util.transform(c,[1/r,0,0,-1/o,0,0]);Y=i.Util.transform(Y,[1,0,0,1,0,-o]);const ie=i.Util.applyTransform([0,0],Y),re=i.Util.applyTransform([r,o],Y),_e=i.Util.normalizeRect([ie[0],ie[1],re[0],re[1]]),ve=Math.round(_e[2]-_e[0])||1,Pe=Math.round(_e[3]-_e[1])||1,Se=this.cachedCanvases.getCanvas("fillCanvas",ve,Pe,!0),de=Se.context,Ee=Math.min(ie[0],re[0]),Ce=Math.min(ie[1],re[1]);de.translate(-Ee,-Ce),de.transform.apply(de,Y),V||(V=this._scaleImage(K.canvas,de.mozCurrentTransformInverse),V=V.img,k&&f&&k.set(Q,V)),de.imageSmoothingEnabled=J(de.mozCurrentTransform,s.interpolate),v(de,V,0,0,V.width,V.height,0,0,r,o),de.globalCompositeOperation="source-in";const Ae=i.Util.transform(de.mozCurrentTransformInverse,[1,0,0,1,-Ee,-Ce]);return de.fillStyle=f?g.getPattern(e,this,Ae,O.PathType.FILL):g,de.fillRect(0,0,r,o),k&&!f&&(this.cachedCanvases.delete("fillCanvas"),k.set(Q,Se.canvas)),{canvas:Se.canvas,offsetX:Math.round(Ee),offsetY:Math.round(Ce)}}setLineWidth(s){s!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=s,this.ctx.lineWidth=s}setLineCap(s){this.ctx.lineCap=te[s]}setLineJoin(s){this.ctx.lineJoin=ne[s]}setMiterLimit(s){this.ctx.miterLimit=s}setDash(s,e){const r=this.ctx;void 0!==r.setLineDash&&(r.setLineDash(s),r.lineDashOffset=e)}setRenderingIntent(s){}setFlatness(s){}setGState(s){for(let e=0,r=s.length;e<r;e++){const o=s[e],f=o[1];switch(o[0]){case"LW":this.setLineWidth(f);break;case"LC":this.setLineCap(f);break;case"LJ":this.setLineJoin(f);break;case"ML":this.setMiterLimit(f);break;case"D":this.setDash(f[0],f[1]);break;case"RI":this.setRenderingIntent(f);break;case"FL":this.setFlatness(f);break;case"Font":this.setFont(f[0],f[1]);break;case"CA":this.current.strokeAlpha=o[1];break;case"ca":this.current.fillAlpha=o[1],this.ctx.globalAlpha=o[1];break;case"BM":this.ctx.globalCompositeOperation=f;break;case"SMask":this.current.activeSMask=f?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=f}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const s=this.inSMaskMode;this.current.activeSMask&&!s?this.beginSMaskMode():!this.current.activeSMask&&s&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const o=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=o.context;const g=this.ctx;g.setTransform.apply(g,this.suspendedCtx.mozCurrentTransform),d(this.suspendedCtx,g),function m(F,s){if(F._removeMirroring)throw new Error("Context is already forwarding operations.");F.__originalSave=F.save,F.__originalRestore=F.restore,F.__originalRotate=F.rotate,F.__originalScale=F.scale,F.__originalTranslate=F.translate,F.__originalTransform=F.transform,F.__originalSetTransform=F.setTransform,F.__originalResetTransform=F.resetTransform,F.__originalClip=F.clip,F.__originalMoveTo=F.moveTo,F.__originalLineTo=F.lineTo,F.__originalBezierCurveTo=F.bezierCurveTo,F.__originalRect=F.rect,F.__originalClosePath=F.closePath,F.__originalBeginPath=F.beginPath,F._removeMirroring=()=>{F.save=F.__originalSave,F.restore=F.__originalRestore,F.rotate=F.__originalRotate,F.scale=F.__originalScale,F.translate=F.__originalTranslate,F.transform=F.__originalTransform,F.setTransform=F.__originalSetTransform,F.resetTransform=F.__originalResetTransform,F.clip=F.__originalClip,F.moveTo=F.__originalMoveTo,F.lineTo=F.__originalLineTo,F.bezierCurveTo=F.__originalBezierCurveTo,F.rect=F.__originalRect,F.closePath=F.__originalClosePath,F.beginPath=F.__originalBeginPath,delete F._removeMirroring},F.save=function(){s.save(),this.__originalSave()},F.restore=function(){s.restore(),this.__originalRestore()},F.translate=function(r,o){s.translate(r,o),this.__originalTranslate(r,o)},F.scale=function(r,o){s.scale(r,o),this.__originalScale(r,o)},F.transform=function(r,o,g,f,c,k){s.transform(r,o,g,f,c,k),this.__originalTransform(r,o,g,f,c,k)},F.setTransform=function(r,o,g,f,c,k){s.setTransform(r,o,g,f,c,k),this.__originalSetTransform(r,o,g,f,c,k)},F.resetTransform=function(){s.resetTransform(),this.__originalResetTransform()},F.rotate=function(r){s.rotate(r),this.__originalRotate(r)},F.clip=function(r){s.clip(r),this.__originalClip(r)},F.moveTo=function(e,r){s.moveTo(e,r),this.__originalMoveTo(e,r)},F.lineTo=function(e,r){s.lineTo(e,r),this.__originalLineTo(e,r)},F.bezierCurveTo=function(e,r,o,g,f,c){s.bezierCurveTo(e,r,o,g,f,c),this.__originalBezierCurveTo(e,r,o,g,f,c)},F.rect=function(e,r,o,g){s.rect(e,r,o,g),this.__originalRect(e,r,o,g)},F.closePath=function(){s.closePath(),this.__originalClosePath()},F.beginPath=function(){s.beginPath(),this.__originalBeginPath()}}(g,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),d(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(s){this.current.activeSMask&&(s?(s[0]=Math.floor(s[0]),s[1]=Math.floor(s[1]),s[2]=Math.ceil(s[2]),s[3]=Math.ceil(s[3])):s=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function N(F,s,e,r){const o=r[0],g=r[1],f=r[2]-o,c=r[3]-g;0===f||0===c||(function E(F,s,e,r,o,g,f,c,k,Q,V){const K=!!g,Y=K?g[0]:0,ie=K?g[1]:0,re=K?g[2]:0;let _e;_e="Luminosity"===o?M:h;const Pe=Math.min(r,Math.ceil(1048576/e));for(let Se=0;Se<r;Se+=Pe){const de=Math.min(Pe,r-Se),Ee=F.getImageData(c-Q,Se+(k-V),e,de),Ce=s.getImageData(c,Se+k,e,de);K&&p(Ee.data,Y,ie,re),_e(Ee.data,Ce.data,f),s.putImageData(Ce,c,Se+k)}}(s.context,e,f,c,s.subtype,s.backdrop,s.transferMap,o,g,s.offsetX,s.offsetY),F.save(),F.globalAlpha=1,F.globalCompositeOperation="source-over",F.setTransform(1,0,0,1,0,0),F.drawImage(e.canvas,0,0),F.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,s),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(d(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const s=this.current;this.stateStack.push(s),this.current=s.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),d(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(s,e,r,o,g,f){this.ctx.transform(s,e,r,o,g,f),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(s,e,r){const o=this.ctx,g=this.current;let k,Q,f=g.x,c=g.y;const V=o.mozCurrentTransform,K=0===V[0]&&0===V[3]||0===V[1]&&0===V[2],Y=K?r.slice(0):null;for(let ie=0,re=0,_e=s.length;ie<_e;ie++)switch(0|s[ie]){case i.OPS.rectangle:f=e[re++],c=e[re++];const ve=e[re++],Pe=e[re++],Se=f+ve,de=c+Pe;o.moveTo(f,c),0===ve||0===Pe?o.lineTo(Se,de):(o.lineTo(Se,c),o.lineTo(Se,de),o.lineTo(f,de)),K||g.updateRectMinMax(V,[f,c,Se,de]),o.closePath();break;case i.OPS.moveTo:f=e[re++],c=e[re++],o.moveTo(f,c),K||g.updatePathMinMax(V,f,c);break;case i.OPS.lineTo:f=e[re++],c=e[re++],o.lineTo(f,c),K||g.updatePathMinMax(V,f,c);break;case i.OPS.curveTo:k=f,Q=c,f=e[re+4],c=e[re+5],o.bezierCurveTo(e[re],e[re+1],e[re+2],e[re+3],f,c),g.updateCurvePathMinMax(V,k,Q,e[re],e[re+1],e[re+2],e[re+3],f,c,Y),re+=6;break;case i.OPS.curveTo2:k=f,Q=c,o.bezierCurveTo(f,c,e[re],e[re+1],e[re+2],e[re+3]),g.updateCurvePathMinMax(V,k,Q,f,c,e[re],e[re+1],e[re+2],e[re+3],Y),f=e[re+2],c=e[re+3],re+=4;break;case i.OPS.curveTo3:k=f,Q=c,f=e[re+2],c=e[re+3],o.bezierCurveTo(e[re],e[re+1],f,c,f,c),g.updateCurvePathMinMax(V,k,Q,e[re],e[re+1],f,c,f,c,Y),re+=4;break;case i.OPS.closePath:o.closePath()}K&&g.updateScalingPathMinMax(V,Y),g.setCurrentPoint(f,c)}closePath(){this.ctx.closePath()}stroke(s){s=!(typeof s<"u")||s;const e=this.ctx,r=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof r&&r?.getPattern?(e.save(),e.strokeStyle=r.getPattern(e,this,e.mozCurrentTransformInverse,O.PathType.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),s&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(s){s=!(typeof s<"u")||s;const e=this.ctx,r=this.current.fillColor;let g=!1;this.current.patternFill&&(e.save(),e.fillStyle=r.getPattern(e,this,e.mozCurrentTransformInverse,O.PathType.FILL),g=!0);const f=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==f&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),g&&e.restore(),s&&this.consumePath(f)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=se}eoClip(){this.pendingClip=fe}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const s=this.pendingTextPaths,e=this.ctx;if(void 0!==s){e.save(),e.beginPath();for(let r=0;r<s.length;r++){const o=s[r];e.setTransform.apply(e,o.transform),e.translate(o.x,o.y),o.addToPath(e,o.fontSize)}e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()}setCharSpacing(s){this.current.charSpacing=s}setWordSpacing(s){this.current.wordSpacing=s}setHScale(s){this.current.textHScale=s/100}setLeading(s){this.current.leading=-s}setFont(s,e){const r=this.commonObjs.get(s),o=this.current;if(!r)throw new Error(`Can't find font for ${s}`);if(o.fontMatrix=r.fontMatrix||i.FONT_IDENTITY_MATRIX,(0===o.fontMatrix[0]||0===o.fontMatrix[3])&&(0,i.warn)("Invalid font matrix for font "+s),e<0?(e=-e,o.fontDirection=-1):o.fontDirection=1,this.current.font=r,this.current.fontSize=e,r.isType3Font)return;let f="normal";r.black?f="900":r.bold&&(f="bold");const c=r.italic?"italic":"normal",k=`"${r.loadedName||"sans-serif"}", ${r.fallbackName}`;let Q=e;e<16?Q=16:e>100&&(Q=100),this.current.fontSizeScale=e/Q,this.ctx.font=`${c} ${f} ${Q}px ${k}`}setTextRenderingMode(s){this.current.textRenderingMode=s}setTextRise(s){this.current.textRise=s}moveText(s,e){this.current.x=this.current.lineX+=s,this.current.y=this.current.lineY+=e}setLeadingMoveText(s,e){this.setLeading(-e),this.moveText(s,e)}setTextMatrix(s,e,r,o,g,f){this.current.textMatrix=[s,e,r,o,g,f],this.current.textMatrixScale=Math.hypot(s,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(s,e,r,o){const g=this.ctx,f=this.current,c=f.font,k=f.textRenderingMode,Q=f.fontSize/f.fontSizeScale,V=k&i.TextRenderingMode.FILL_STROKE_MASK,K=!!(k&i.TextRenderingMode.ADD_TO_PATH_FLAG),Y=f.patternFill&&!c.missingFile;let ie;(c.disableFontFace||K||Y)&&(ie=c.getPathGenerator(this.commonObjs,s)),c.disableFontFace||Y?(g.save(),g.translate(e,r),g.beginPath(),ie(g,Q),o&&g.setTransform.apply(g,o),(V===i.TextRenderingMode.FILL||V===i.TextRenderingMode.FILL_STROKE)&&g.fill(),(V===i.TextRenderingMode.STROKE||V===i.TextRenderingMode.FILL_STROKE)&&g.stroke(),g.restore()):((V===i.TextRenderingMode.FILL||V===i.TextRenderingMode.FILL_STROKE)&&g.fillText(s,e,r),(V===i.TextRenderingMode.STROKE||V===i.TextRenderingMode.FILL_STROKE)&&g.strokeText(s,e,r)),K&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:g.mozCurrentTransform,x:e,y:r,fontSize:Q,addToPath:ie})}get isFontSubpixelAAEnabled(){const{context:s}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);s.scale(1.5,1),s.fillText("I",0,10);const e=s.getImageData(0,0,10,10).data;let r=!1;for(let o=3;o<e.length;o+=4)if(e[o]>0&&e[o]<255){r=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",r)}showText(s){const e=this.current,r=e.font;if(r.isType3Font)return this.showType3Text(s);const o=e.fontSize;if(0===o)return;const g=this.ctx,f=e.fontSizeScale,c=e.charSpacing,k=e.wordSpacing,Q=e.fontDirection,V=e.textHScale*Q,K=s.length,Y=r.vertical,ie=Y?1:-1,re=r.defaultVMetrics,_e=o*e.fontMatrix[0],ve=e.textRenderingMode===i.TextRenderingMode.FILL&&!r.disableFontFace&&!e.patternFill;let Pe;if(g.save(),g.transform.apply(g,e.textMatrix),g.translate(e.x,e.y+e.textRise),g.scale(V,Q>0?-1:1),e.patternFill){g.save();const Ae=e.fillColor.getPattern(g,this,g.mozCurrentTransformInverse,O.PathType.FILL);Pe=g.mozCurrentTransform,g.restore(),g.fillStyle=Ae}let Se=e.lineWidth;const de=e.textMatrixScale;if(0===de||0===Se){const Ae=e.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;(Ae===i.TextRenderingMode.STROKE||Ae===i.TextRenderingMode.FILL_STROKE)&&(Se=this.getSinglePixelWidth())}else Se/=de;1!==f&&(g.scale(f,f),Se/=f),g.lineWidth=Se;let Ce,Ee=0;for(Ce=0;Ce<K;++Ce){const Ae=s[Ce];if("number"==typeof Ae){Ee+=ie*Ae*o/1e3;continue}let ce=!1;const pe=(Ae.isSpace?k:0)+c,he=Ae.fontChar,C=Ae.accent;let ee,ae,ge,ye=Ae.width;if(Y){const X=Ae.vmetric||re,D=-(Ae.vmetric?X[1]:.5*ye)*_e;ye=X?-X[0]:ye,ee=D/f,ae=(Ee+X[2]*_e)/f}else ee=Ee/f,ae=0;if(r.remeasure&&ye>0){const X=1e3*g.measureText(he).width/o*f;if(ye<X&&this.isFontSubpixelAAEnabled){const D=ye/X;ce=!0,g.save(),g.scale(D,1),ee/=D}else ye!==X&&(ee+=(ye-X)/2e3*o/f)}this.contentVisible&&(Ae.isInFont||r.missingFile)&&(ve&&!C?g.fillText(he,ee,ae):(this.paintChar(he,ee,ae,Pe),C&&this.paintChar(C.fontChar,ee+o*C.offset.x/f,ae-o*C.offset.y/f,Pe))),ge=Y?ye*_e-pe*Q:ye*_e+pe*Q,Ee+=ge,ce&&g.restore()}Y?e.y-=Ee:e.x+=Ee*V,g.restore(),this.compose()}showType3Text(s){const e=this.ctx,r=this.current,o=r.font,g=r.fontSize,f=r.fontDirection,c=o.vertical?1:-1,k=r.charSpacing,Q=r.wordSpacing,V=r.textHScale*f,K=r.fontMatrix||i.FONT_IDENTITY_MATRIX,Y=s.length;let re,_e,ve,Pe;if(r.textRenderingMode!==i.TextRenderingMode.INVISIBLE&&0!==g){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,e.save(),e.transform.apply(e,r.textMatrix),e.translate(r.x,r.y),e.scale(V,f),re=0;re<Y;++re){if(_e=s[re],"number"==typeof _e){Pe=c*_e*g/1e3,this.ctx.translate(Pe,0),r.x+=Pe*V;continue}const Se=(_e.isSpace?Q:0)+k,de=o.charProcOperatorList[_e.operatorListId];de?(this.contentVisible&&(this.processingType3=_e,this.save(),e.scale(g,g),e.transform.apply(e,K),this.executeOperatorList(de),this.restore()),ve=i.Util.applyTransform([_e.width,0],K)[0]*g+Se,e.translate(ve,0),r.x+=ve*V):(0,i.warn)(`Type3 character "${_e.operatorListId}" is not available.`)}e.restore(),this.processingType3=null}}setCharWidth(s,e){}setCharWidthAndBounds(s,e,r,o,g,f){this.ctx.rect(r,o,g-r,f-o),this.ctx.clip(),this.endPath()}getColorN_Pattern(s){let e;if("TilingPattern"===s[0]){const r=s[1],o=this.baseTransform||this.ctx.mozCurrentTransform.slice();e=new O.TilingPattern(s,r,this.ctx,{createCanvasGraphics:f=>new ue(f,this.commonObjs,this.objs,this.canvasFactory)},o)}else e=this._getPattern(s[1],s[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(s,e,r){const o=this.selectColor?.(s,e,r)||i.Util.makeHexColor(s,e,r);this.ctx.strokeStyle=o,this.current.strokeColor=o}setFillRGBColor(s,e,r){const o=this.selectColor?.(s,e,r)||i.Util.makeHexColor(s,e,r);this.ctx.fillStyle=o,this.current.fillColor=o,this.current.patternFill=!1}_getPattern(s,e=null){let r;return this.cachedPatterns.has(s)?r=this.cachedPatterns.get(s):(r=(0,O.getShadingPattern)(this.objs.get(s)),this.cachedPatterns.set(s,r)),e&&(r.matrix=e),r}shadingFill(s){if(!this.contentVisible)return;const e=this.ctx;this.save();const r=this._getPattern(s);e.fillStyle=r.getPattern(e,this,e.mozCurrentTransformInverse,O.PathType.SHADING);const o=e.mozCurrentTransformInverse;if(o){const g=e.canvas,f=g.width,c=g.height,k=i.Util.applyTransform([0,0],o),Q=i.Util.applyTransform([0,c],o),V=i.Util.applyTransform([f,0],o),K=i.Util.applyTransform([f,c],o),Y=Math.min(k[0],Q[0],V[0],K[0]),ie=Math.min(k[1],Q[1],V[1],K[1]),re=Math.max(k[0],Q[0],V[0],K[0]),_e=Math.max(k[1],Q[1],V[1],K[1]);this.ctx.fillRect(Y,ie,re-Y,_e-ie)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(s,e){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(s)&&6===s.length&&this.transform.apply(this,s),this.baseTransform=this.ctx.mozCurrentTransform,e)&&(this.ctx.rect(e[0],e[1],e[2]-e[0],e[3]-e[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,e),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(s){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;s.isolated||(0,i.info)("TODO: Support non-isolated groups."),s.knockout&&(0,i.warn)("Knockout groups not supported.");const r=e.mozCurrentTransform;if(s.matrix&&e.transform.apply(e,s.matrix),!s.bbox)throw new Error("Bounding box is required.");let o=i.Util.getAxialAlignedBoundingBox(s.bbox,e.mozCurrentTransform);o=i.Util.intersect(o,[0,0,e.canvas.width,e.canvas.height])||[0,0,0,0];const f=Math.floor(o[0]),c=Math.floor(o[1]);let k=Math.max(Math.ceil(o[2])-f,1),Q=Math.max(Math.ceil(o[3])-c,1),V=1,K=1;k>I&&(V=k/I,k=I),Q>I&&(K=Q/I,Q=I),this.current.startNewPathAndClipBox([0,0,k,Q]);let Y="groupAt"+this.groupLevel;s.smask&&(Y+="_smask_"+this.smaskCounter++%2);const ie=this.cachedCanvases.getCanvas(Y,k,Q,!0),re=ie.context;re.scale(1/V,1/K),re.translate(-f,-c),re.transform.apply(re,r),s.smask?this.smaskStack.push({canvas:ie.canvas,context:re,offsetX:f,offsetY:c,scaleX:V,scaleY:K,subtype:s.smask.subtype,backdrop:s.smask.backdrop,transferMap:s.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(f,c),e.scale(V,K),e.save()),d(e,re),this.ctx=re,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(s){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,s.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const o=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,o);const g=i.Util.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],o);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(g)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(s,e,r,o,g){if(this.save(),Array.isArray(e)&&4===e.length){const f=e[2]-e[0],c=e[3]-e[1];if(g&&this.annotationCanvasMap){(r=r.slice())[4]-=e[0],r[5]-=e[1],(e=e.slice())[0]=e[1]=0,e[2]=f,e[3]=c;const[k,Q]=i.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:V}=this,K=Math.ceil(f*this.outputScaleX*V),Y=Math.ceil(c*this.outputScaleY*V);this.annotationCanvas=this.canvasFactory.create(K,Y);const{canvas:ie,context:re}=this.annotationCanvas,_e=`var(--zoom-factor) * ${x.PixelsPerInch.PDF_TO_CSS_UNITS}`;ie.style.width=`calc(${f}px * ${_e})`,ie.style.height=`calc(${c}px * ${_e})`,this.annotationCanvasMap.set(s,ie),this.annotationCanvas.savedCtx=this.ctx,this.ctx=re,this.ctx.setTransform(k,0,0,-Q,0,c*Q),A(this.ctx),b(this.ctx,this.foregroundColor)}else b(this.ctx,this.foregroundColor),this.ctx.rect(e[0],e[1],f,c),this.ctx.clip(),this.endPath()}this.current=new n(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,r),this.transform.apply(this,o)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(s){if(!this.contentVisible)return;const e=s.count;(s=this.getObject(s.data,s)).count=e;const r=this.ctx,o=this.processingType3;if(o&&(void 0===o.compiled&&(o.compiled=function t(F){const{width:s,height:e}=F;if(s>1e3||e>1e3)return null;const o=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),g=s+1;let c,k,Q,f=new Uint8Array(g*(e+1));const V=s+7&-8;let K=new Uint8Array(V*e),Y=0;for(const de of F.data){let Ee=128;for(;Ee>0;)K[Y++]=de&Ee?0:255,Ee>>=1}let ie=0;for(Y=0,0!==K[Y]&&(f[0]=1,++ie),k=1;k<s;k++)K[Y]!==K[Y+1]&&(f[k]=K[Y]?2:1,++ie),Y++;for(0!==K[Y]&&(f[k]=2,++ie),c=1;c<e;c++){Y=c*V,Q=c*g,K[Y-V]!==K[Y]&&(f[Q]=K[Y]?1:8,++ie);let de=(K[Y]?4:0)+(K[Y-V]?8:0);for(k=1;k<s;k++)de=(de>>2)+(K[Y+1]?4:0)+(K[Y-V+1]?8:0),o[de]&&(f[Q+k]=o[de],++ie),Y++;if(K[Y-V]!==K[Y]&&(f[Q+k]=K[Y]?2:4,++ie),ie>1e3)return null}for(Y=V*(e-1),Q=c*g,0!==K[Y]&&(f[Q]=8,++ie),k=1;k<s;k++)K[Y]!==K[Y+1]&&(f[Q+k]=K[Y]?4:8,++ie),Y++;if(0!==K[Y]&&(f[Q+k]=4,++ie),ie>1e3)return null;const re=new Int32Array([0,g,-1,0,-g,0,0,0,1]);let _e,ve,Pe;for(H.isNodeJS?ve=[]:_e=new Path2D,c=0;ie&&c<=e;c++){let de=c*g;const Ee=de+s;for(;de<Ee&&!f[de];)de++;if(de===Ee)continue;_e?_e.moveTo(de%g,c):Pe=[de%g,c];const Ce=de;let Ae=f[de];do{const ce=re[Ae];do{de+=ce}while(!f[de]);const pe=f[de];5!==pe&&10!==pe?(Ae=pe,f[de]=0):(Ae=pe&51*Ae>>4,f[de]&=Ae>>2|Ae<<2),_e?_e.lineTo(de%g,de/g|0):Pe.push(de%g,de/g|0),f[de]||--ie}while(Ce!==de);_e||ve.push(Pe),--c}return K=null,f=null,function(de){if(de.save(),de.scale(1/s,-1/e),de.translate(0,-e),_e)de.fill(_e);else{de.beginPath();for(const Ee of ve){de.moveTo(Ee[0],Ee[1]);for(let Ce=2,Ae=Ee.length;Ce<Ae;Ce+=2)de.lineTo(Ee[Ce],Ee[Ce+1])}de.fill()}de.beginPath(),de.restore()}}(s)),o.compiled))return void o.compiled(r);const g=this._createMaskCanvas(s),f=g.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(f,g.offsetX,g.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(s,e,r=0,o=0,g,f){if(!this.contentVisible)return;s=this.getObject(s.data,s);const c=this.ctx;c.save();const k=c.mozCurrentTransform;c.transform(e,r,o,g,0,0);const Q=this._createMaskCanvas(s);c.setTransform(1,0,0,1,0,0);for(let V=0,K=f.length;V<K;V+=2){const Y=i.Util.transform(k,[e,r,o,g,f[V],f[V+1]]),[ie,re]=i.Util.applyTransform([0,0],Y);c.drawImage(Q.canvas,ie,re)}c.restore(),this.compose()}paintImageMaskXObjectGroup(s){if(!this.contentVisible)return;const e=this.ctx,r=this.current.fillColor,o=this.current.patternFill;for(let g=0,f=s.length;g<f;g++){const c=s[g],k=c.width,Q=c.height,V=this.cachedCanvases.getCanvas("maskCanvas",k,Q,!1),K=V.context;K.save(),P(K,c),K.globalCompositeOperation="source-in",K.fillStyle=o?r.getPattern(K,this,e.mozCurrentTransformInverse,O.PathType.FILL):r,K.fillRect(0,0,k,Q),K.restore(),e.save(),e.transform.apply(e,c.transform),e.scale(1,-1),v(e,V.canvas,0,0,k,Q,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(s){if(!this.contentVisible)return;const e=this.getObject(s);e?this.paintInlineImageXObject(e):(0,i.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(s,e,r,o){if(!this.contentVisible)return;const g=this.getObject(s);if(!g)return void(0,i.warn)("Dependent image isn't ready yet");const f=g.width,c=g.height,k=[];for(let Q=0,V=o.length;Q<V;Q+=2)k.push({transform:[e,0,0,r,o[Q],o[Q+1]],x:0,y:0,w:f,h:c});this.paintInlineImageXObjectGroup(g,k)}paintInlineImageXObject(s){if(!this.contentVisible)return;const e=s.width,r=s.height,o=this.ctx;let g;if(this.save(),o.scale(1/e,-1/r),"function"==typeof HTMLElement&&s instanceof HTMLElement||!s.data)g=s;else{const Q=this.cachedCanvases.getCanvas("inlineImage",e,r,!1);u(Q.context,s,this.current.transferMaps),g=Q.canvas}const f=this._scaleImage(g,o.mozCurrentTransformInverse);o.imageSmoothingEnabled=J(o.mozCurrentTransform,s.interpolate);const[c,k]=v(o,f.img,0,0,f.paintWidth,f.paintHeight,0,-r,e,r);if(this.imageLayer){const Q=this.getCanvasPosition(0,-r);this.imageLayer.appendImage({imgData:s,left:Q[0],top:Q[1],width:c,height:k})}this.compose(),this.restore()}paintInlineImageXObjectGroup(s,e){if(!this.contentVisible)return;const r=this.ctx,o=s.width,g=s.height,f=this.cachedCanvases.getCanvas("inlineImage",o,g,!1);u(f.context,s,this.current.transferMaps);for(let k=0,Q=e.length;k<Q;k++){const V=e[k];if(r.save(),r.transform.apply(r,V.transform),r.scale(1,-1),v(r,f.canvas,V.x,V.y,V.w,V.h,0,-1,1,1),this.imageLayer){const K=this.getCanvasPosition(V.x,V.y);this.imageLayer.appendImage({imgData:s,left:K[0],top:K[1],width:o,height:g})}r.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(s){}markPointProps(s,e){}beginMarkedContent(s){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(s,e){this.markedContentStack.push("OC"===s?{visible:this.optionalContentConfig.isVisible(e)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(s){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(s);const r=this.ctx;this.pendingClip&&(e||(this.pendingClip===fe?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const s=this.ctx.mozCurrentTransform;if(0===s[1]&&0===s[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(s[0]),Math.abs(s[3]));else{const e=Math.abs(s[0]*s[3]-s[2]*s[1]),r=Math.hypot(s[0],s[2]),o=Math.hypot(s[1],s[3]);this._cachedGetSinglePixelWidth=Math.max(r,o)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:s}=this.current,e=this.ctx.mozCurrentTransform;let r,o;if(0===e[1]&&0===e[2]){const g=Math.abs(e[0]),f=Math.abs(e[3]);if(0===s)r=1/g,o=1/f;else{const c=g*s,k=f*s;r=c<1?1/c:1,o=k<1?1/k:1}}else{const g=Math.abs(e[0]*e[3]-e[2]*e[1]),f=Math.hypot(e[0],e[1]),c=Math.hypot(e[2],e[3]);if(0===s)r=c/g,o=f/g;else{const k=s*g;r=c>k?c/k:1,o=f>k?f/k:1}}this._cachedScaleForStroking=[r,o]}return this._cachedScaleForStroking}rescaleAndStroke(s){const{ctx:e}=this,{lineWidth:r}=this.current,[o,g]=this.getScaleForStroking();if(e.lineWidth=r||1,1===o&&1===g)return void e.stroke();let f,c,k;s&&(f=e.mozCurrentTransform.slice(),c=e.getLineDash().slice(),k=e.lineDashOffset),e.scale(o,g);const Q=Math.max(o,g);e.setLineDash(e.getLineDash().map(V=>V/Q)),e.lineDashOffset/=Q,e.stroke(),s&&(e.setTransform(...f),e.setLineDash(c),e.lineDashOffset=k)}getCanvasPosition(s,e){const r=this.ctx.mozCurrentTransform;return[r[0]*s+r[2]*e+r[4],r[1]*s+r[3]*e+r[5]]}isContentVisible(){for(let s=this.markedContentStack.length-1;s>=0;s--)if(!this.markedContentStack[s].visible)return!1;return!0}}a.CanvasGraphics=ue;for(const F in i.OPS)void 0!==ue.prototype[F]&&(ue.prototype[i.OPS[F]]=ue.prototype[F])},($,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TilingPattern=a.PathType=void 0,a.getShadingPattern=function B(l){switch(l[0]){case"RadialAxial":return new T(l);case"Mesh":return new W(l);case"Dummy":return new q}throw new Error(`Unknown IR type: ${l[0]}`)};var i=S(1),O=S(3);const R={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function H(l,m){if(!m||O.isNodeJS)return;const A=m[2]-m[0],w=m[3]-m[1],v=new Path2D;v.rect(m[0],m[1],A,w),l.clip(v)}a.PathType=R;class x{constructor(){this.constructor===x&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,i.unreachable)("Abstract method `getPattern` called.")}}class T extends x{constructor(m){super(),this._type=m[1],this._bbox=m[2],this._colorStops=m[3],this._p0=m[4],this._p1=m[5],this._r0=m[6],this._r1=m[7],this.matrix=null}_createGradient(m){let A;"axial"===this._type?A=m.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(A=m.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const w of this._colorStops)A.addColorStop(w[0],w[1]);return A}getPattern(m,A,w,v){let t;if(v===R.STROKE||v===R.FILL){const n=A.current.getClippedPathBoundingBox(v,m.mozCurrentTransform)||[0,0,0,0],u=Math.ceil(n[2]-n[0])||1,P=Math.ceil(n[3]-n[1])||1,d=A.cachedCanvases.getCanvas("pattern",u,P,!0),b=d.context;b.clearRect(0,0,b.canvas.width,b.canvas.height),b.beginPath(),b.rect(0,0,b.canvas.width,b.canvas.height),b.translate(-n[0],-n[1]),w=i.Util.transform(w,[1,0,0,1,n[0],n[1]]),b.transform.apply(b,A.baseTransform),this.matrix&&b.transform.apply(b,this.matrix),H(b,this._bbox),b.fillStyle=this._createGradient(b),b.fill(),t=m.createPattern(d.canvas,"no-repeat");const p=new DOMMatrix(w);try{t.setTransform(p)}catch(h){(0,i.warn)(`RadialAxialShadingPattern.getPattern: "${h?.message}".`)}}else H(m,this._bbox),t=this._createGradient(m);return t}}function y(l,m,A,w,v,t,n,u){const P=m.coords,d=m.colors,b=l.data,p=4*l.width;let h;P[A+1]>P[w+1]&&(h=A,A=w,w=h,h=t,t=n,n=h),P[w+1]>P[v+1]&&(h=w,w=v,v=h,h=n,n=u,u=h),P[A+1]>P[w+1]&&(h=A,A=w,w=h,h=t,t=n,n=h);const M=(P[A]+m.offsetX)*m.scaleX,E=(P[A+1]+m.offsetY)*m.scaleY,N=(P[w]+m.offsetX)*m.scaleX,J=(P[w+1]+m.offsetY)*m.scaleY,te=(P[v]+m.offsetX)*m.scaleX,ne=(P[v+1]+m.offsetY)*m.scaleY;if(E>=ne)return;const se=d[t],fe=d[t+1],ue=d[t+2],F=d[n],s=d[n+1],e=d[n+2],r=d[u],o=d[u+1],g=d[u+2],f=Math.round(E),c=Math.round(ne);let k,Q,V,K,Y,ie,re,_e;for(let ve=f;ve<=c;ve++){if(ve<J){let Ce;Ce=ve<E?0:(E-ve)/(E-J),k=M-(M-N)*Ce,Q=se-(se-F)*Ce,V=fe-(fe-s)*Ce,K=ue-(ue-e)*Ce}else{let Ce;Ce=ve>ne?1:J===ne?0:(J-ve)/(J-ne),k=N-(N-te)*Ce,Q=F-(F-r)*Ce,V=s-(s-o)*Ce,K=e-(e-g)*Ce}let Pe;Pe=ve<E?0:ve>ne?1:(E-ve)/(E-ne),Y=M-(M-te)*Pe,ie=se-(se-r)*Pe,re=fe-(fe-o)*Pe,_e=ue-(ue-g)*Pe;const Se=Math.round(Math.min(k,Y)),de=Math.round(Math.max(k,Y));let Ee=p*ve+4*Se;for(let Ce=Se;Ce<=de;Ce++)Pe=(k-Ce)/(k-Y),Pe<0?Pe=0:Pe>1&&(Pe=1),b[Ee++]=Q-(Q-ie)*Pe|0,b[Ee++]=V-(V-re)*Pe|0,b[Ee++]=K-(K-_e)*Pe|0,b[Ee++]=255}}function I(l,m,A){const w=m.coords,v=m.colors;let t,n;switch(m.type){case"lattice":const u=m.verticesPerRow,P=Math.floor(w.length/u)-1,d=u-1;for(t=0;t<P;t++){let b=t*u;for(let p=0;p<d;p++,b++)y(l,A,w[b],w[b+1],w[b+u],v[b],v[b+1],v[b+u]),y(l,A,w[b+u+1],w[b+1],w[b+u],v[b+u+1],v[b+1],v[b+u])}break;case"triangles":for(t=0,n=w.length;t<n;t+=3)y(l,A,w[t],w[t+1],w[t+2],v[t],v[t+1],v[t+2]);break;default:throw new Error("illegal figure")}}class W extends x{constructor(m){super(),this._coords=m[2],this._colors=m[3],this._figures=m[4],this._bounds=m[5],this._bbox=m[7],this._background=m[8],this.matrix=null}_createMeshCanvas(m,A,w){const u=Math.floor(this._bounds[0]),P=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-u,b=Math.ceil(this._bounds[3])-P,p=Math.min(Math.ceil(Math.abs(d*m[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(b*m[1]*1.1)),3e3),M=d/p,E=b/h,N={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-P,scaleX:1/M,scaleY:1/E},ne=w.getCanvas("mesh",p+4,h+4,!1),se=ne.context,fe=se.createImageData(p,h);if(A){const F=fe.data;for(let s=0,e=F.length;s<e;s+=4)F[s]=A[0],F[s+1]=A[1],F[s+2]=A[2],F[s+3]=255}for(const F of this._figures)I(fe,F,N);return se.putImageData(fe,2,2),{canvas:ne.canvas,offsetX:u-2*M,offsetY:P-2*E,scaleX:M,scaleY:E}}getPattern(m,A,w,v){let t;if(H(m,this._bbox),v===R.SHADING)t=i.Util.singularValueDecompose2dScale(m.mozCurrentTransform);else if(t=i.Util.singularValueDecompose2dScale(A.baseTransform),this.matrix){const u=i.Util.singularValueDecompose2dScale(this.matrix);t=[t[0]*u[0],t[1]*u[1]]}const n=this._createMeshCanvas(t,v===R.SHADING?null:this._background,A.cachedCanvases);return v!==R.SHADING&&(m.setTransform.apply(m,A.baseTransform),this.matrix&&m.transform.apply(m,this.matrix)),m.translate(n.offsetX,n.offsetY),m.scale(n.scaleX,n.scaleY),m.createPattern(n.canvas,"no-repeat")}}class q extends x{getPattern(){return"hotpink"}}class _{static get MAX_PATTERN_SIZE(){return(0,i.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(m,A,w,v,t){this.operatorList=m[2],this.matrix=m[3]||[1,0,0,1,0,0],this.bbox=m[4],this.xstep=m[5],this.ystep=m[6],this.paintType=m[7],this.tilingType=m[8],this.color=A,this.ctx=w,this.canvasGraphicsFactory=v,this.baseTransform=t}createPatternCanvas(m){const A=this.operatorList,w=this.bbox,v=this.xstep,t=this.ystep,n=this.paintType,P=this.color,d=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+this.tilingType);const b=w[0],p=w[1],h=w[2],M=w[3],E=i.Util.singularValueDecompose2dScale(this.matrix),N=i.Util.singularValueDecompose2dScale(this.baseTransform),J=[E[0]*N[0],E[1]*N[1]],te=this.getSizeAndScale(v,this.ctx.canvas.width,J[0]),ne=this.getSizeAndScale(t,this.ctx.canvas.height,J[1]),se=m.cachedCanvases.getCanvas("pattern",te.size,ne.size,!0),fe=se.context,ue=d.createCanvasGraphics(fe);ue.groupLevel=m.groupLevel,this.setFillAndStrokeStyleToContext(ue,n,P);let F=b,s=p,e=h,r=M;return b<0&&(F=0,e+=Math.abs(b)),p<0&&(s=0,r+=Math.abs(p)),fe.translate(-te.scale*F,-ne.scale*s),ue.transform(te.scale,0,0,ne.scale,0,0),fe.save(),this.clipBbox(ue,F,s,e,r),ue.baseTransform=ue.ctx.mozCurrentTransform.slice(),ue.executeOperatorList(A),ue.endDrawing(),{canvas:se.canvas,scaleX:te.scale,scaleY:ne.scale,offsetX:F,offsetY:s}}getSizeAndScale(m,A,w){m=Math.abs(m);const v=Math.max(_.MAX_PATTERN_SIZE,A);let t=Math.ceil(m*w);return t>=v?t=v:w=t/m,{scale:w,size:t}}clipBbox(m,A,w,v,t){m.ctx.rect(A,w,v-A,t-w),m.current.updateRectMinMax(m.ctx.mozCurrentTransform,[A,w,v,t]),m.clip(),m.endPath()}setFillAndStrokeStyleToContext(m,A,w){const v=m.ctx,t=m.current;switch(A){case 1:const n=this.ctx;v.fillStyle=n.fillStyle,v.strokeStyle=n.strokeStyle,t.fillColor=n.fillStyle,t.strokeColor=n.strokeStyle;break;case 2:const u=i.Util.makeHexColor(w[0],w[1],w[2]);v.fillStyle=u,v.strokeStyle=u,t.fillColor=u,t.strokeColor=u;break;default:throw new i.FormatError(`Unsupported paint type: ${A}`)}}getPattern(m,A,w,v){let t=w;v!==R.SHADING&&(t=i.Util.transform(t,A.baseTransform),this.matrix&&(t=i.Util.transform(t,this.matrix)));const n=this.createPatternCanvas(A);let u=new DOMMatrix(t);u=u.translate(n.offsetX,n.offsetY),u=u.scale(1/n.scaleX,1/n.scaleY);const P=m.createPattern(n.canvas,"repeat");try{P.setTransform(u)}catch(d){(0,i.warn)(`TilingPattern.getPattern: "${d?.message}".`)}return P}}a.TilingPattern=_},($,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.applyMaskImageData=function O({src:R,srcPos:H=0,dest:x,destPos:T=0,width:y,height:I,inverseDecode:W=!1}){const q=i.FeatureTest.isLittleEndian?4278190080:255,[B,G]=W?[0,q]:[q,0],_=y>>3,l=7&y,m=R.length;x=new Uint32Array(x.buffer);for(let A=0;A<I;A++){for(const v=H+_;H<v;H++){const t=H<m?R[H]:255;x[T++]=128&t?G:B,x[T++]=64&t?G:B,x[T++]=32&t?G:B,x[T++]=16&t?G:B,x[T++]=8&t?G:B,x[T++]=4&t?G:B,x[T++]=2&t?G:B,x[T++]=1&t?G:B}if(0===l)continue;const w=H<m?R[H++]:255;for(let v=0;v<l;v++)x[T++]=w&1<<7-v?G:B}return{srcPos:H,destPos:T}};var i=S(1)},($,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.GlobalWorkerOptions=void 0;const S=Object.create(null);a.GlobalWorkerOptions=S,S.workerPort=void 0===S.workerPort?null:S.workerPort,S.workerSrc=void 0===S.workerSrc?"":S.workerSrc},($,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MessageHandler=void 0;var i=S(1);function H(T){switch(T instanceof Error||"object"==typeof T&&null!==T||(0,i.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),T.name){case"AbortException":return new i.AbortException(T.message);case"MissingPDFException":return new i.MissingPDFException(T.message);case"PasswordException":return new i.PasswordException(T.message,T.code);case"UnexpectedResponseException":return new i.UnexpectedResponseException(T.message,T.status);case"UnknownErrorException":return new i.UnknownErrorException(T.message,T.details);default:return new i.UnknownErrorException(T.message,T.toString())}}a.MessageHandler=class x{constructor(y,I,W){this.sourceName=y,this.targetName=I,this.comObj=W,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=q=>{const B=q.data;if(B.targetName!==this.sourceName)return;if(B.stream)return void this._processStreamMessage(B);if(B.callback){const _=B.callbackId,l=this.callbackCapabilities[_];if(!l)throw new Error(`Cannot resolve callback ${_}`);if(delete this.callbackCapabilities[_],1===B.callback)l.resolve(B.data);else{if(2!==B.callback)throw new Error("Unexpected callback case");l.reject(H(B.reason))}return}const G=this.actionHandler[B.action];if(!G)throw new Error(`Unknown action from worker: ${B.action}`);if(B.callbackId){const _=this.sourceName,l=B.sourceName;new Promise(function(m){m(G(B.data))}).then(function(m){W.postMessage({sourceName:_,targetName:l,callback:1,callbackId:B.callbackId,data:m})},function(m){W.postMessage({sourceName:_,targetName:l,callback:2,callbackId:B.callbackId,reason:H(m)})})}else B.streamId?this._createStreamSink(B):G(B.data)},W.addEventListener("message",this._onComObjOnMessage)}on(y,I){const W=this.actionHandler;if(W[y])throw new Error(`There is already an actionName called "${y}"`);W[y]=I}send(y,I,W){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:y,data:I},W)}sendWithPromise(y,I,W){const q=this.callbackId++,B=(0,i.createPromiseCapability)();this.callbackCapabilities[q]=B;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:y,callbackId:q,data:I},W)}catch(G){B.reject(G)}return B.promise}sendWithStream(y,I,W,q){const B=this.streamId++,G=this.sourceName,_=this.targetName,l=this.comObj;return new ReadableStream({start:m=>{const A=(0,i.createPromiseCapability)();return this.streamControllers[B]={controller:m,startCall:A,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:G,targetName:_,action:y,streamId:B,data:I,desiredSize:m.desiredSize},q),A.promise},pull:m=>{const A=(0,i.createPromiseCapability)();return this.streamControllers[B].pullCall=A,l.postMessage({sourceName:G,targetName:_,stream:6,streamId:B,desiredSize:m.desiredSize}),A.promise},cancel:m=>{(0,i.assert)(m instanceof Error,"cancel must have a valid reason");const A=(0,i.createPromiseCapability)();return this.streamControllers[B].cancelCall=A,this.streamControllers[B].isClosed=!0,l.postMessage({sourceName:G,targetName:_,stream:1,streamId:B,reason:H(m)}),A.promise}},W)}_createStreamSink(y){const I=y.streamId,W=this.sourceName,q=y.sourceName,B=this.comObj,G=this,_=this.actionHandler[y.action],l={enqueue(m,A=1,w){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=A,v>0&&this.desiredSize<=0&&(this.sinkCapability=(0,i.createPromiseCapability)(),this.ready=this.sinkCapability.promise),B.postMessage({sourceName:W,targetName:q,stream:4,streamId:I,chunk:m},w)},close(){this.isCancelled||(this.isCancelled=!0,B.postMessage({sourceName:W,targetName:q,stream:3,streamId:I}),delete G.streamSinks[I])},error(m){(0,i.assert)(m instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,B.postMessage({sourceName:W,targetName:q,stream:5,streamId:I,reason:H(m)}))},sinkCapability:(0,i.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:y.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[I]=l,new Promise(function(m){m(_(y.data,l))}).then(function(){B.postMessage({sourceName:W,targetName:q,stream:8,streamId:I,success:!0})},function(m){B.postMessage({sourceName:W,targetName:q,stream:8,streamId:I,reason:H(m)})})}_processStreamMessage(y){const I=y.streamId,W=this.sourceName,q=y.sourceName,B=this.comObj,G=this.streamControllers[I],_=this.streamSinks[I];switch(y.stream){case 8:y.success?G.startCall.resolve():G.startCall.reject(H(y.reason));break;case 7:y.success?G.pullCall.resolve():G.pullCall.reject(H(y.reason));break;case 6:if(!_){B.postMessage({sourceName:W,targetName:q,stream:7,streamId:I,success:!0});break}_.desiredSize<=0&&y.desiredSize>0&&_.sinkCapability.resolve(),_.desiredSize=y.desiredSize,new Promise(function(l){l(_.onPull&&_.onPull())}).then(function(){B.postMessage({sourceName:W,targetName:q,stream:7,streamId:I,success:!0})},function(l){B.postMessage({sourceName:W,targetName:q,stream:7,streamId:I,reason:H(l)})});break;case 4:if((0,i.assert)(G,"enqueue should have stream controller"),G.isClosed)break;G.controller.enqueue(y.chunk);break;case 3:if((0,i.assert)(G,"close should have stream controller"),G.isClosed)break;G.isClosed=!0,G.controller.close(),this._deleteStreamController(G,I);break;case 5:(0,i.assert)(G,"error should have stream controller"),G.controller.error(H(y.reason)),this._deleteStreamController(G,I);break;case 2:y.success?G.cancelCall.resolve():G.cancelCall.reject(H(y.reason)),this._deleteStreamController(G,I);break;case 1:if(!_)break;new Promise(function(l){l(_.onCancel&&_.onCancel(H(y.reason)))}).then(function(){B.postMessage({sourceName:W,targetName:q,stream:2,streamId:I,success:!0})},function(l){B.postMessage({sourceName:W,targetName:q,stream:2,streamId:I,reason:H(l)})}),_.sinkCapability.reject(H(y.reason)),_.isCancelled=!0,delete this.streamSinks[I];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(y,I){var W=this;return _asyncToGenerator(function*(){yield Promise.allSettled([y.startCall&&y.startCall.promise,y.pullCall&&y.pullCall.promise,y.cancelCall&&y.cancelCall.promise]),delete W.streamControllers[I]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},($,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Metadata=void 0;var i=S(1),O=new WeakMap,R=new WeakMap;a.Metadata=class H{constructor({parsedData:T,rawData:y}){_classPrivateFieldInitSpec(this,O,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,R,{writable:!0,value:void 0}),_classPrivateFieldSet(this,O,T),_classPrivateFieldSet(this,R,y)}getRaw(){return _classPrivateFieldGet(this,R)}get(T){return _classPrivateFieldGet(this,O).get(T)??null}getAll(){return(0,i.objectFromMap)(_classPrivateFieldGet(this,O))}has(T){return _classPrivateFieldGet(this,O).has(T)}}},($,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OptionalContentConfig=void 0;var i=S(1);class O{constructor(x,T){this.visible=!0,this.name=x,this.intent=T}}a.OptionalContentConfig=class R{constructor(x){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==x){this.name=x.name,this.creator=x.creator,this._order=x.order;for(const T of x.groups)this._groups.set(T.id,new O(T.name,T.intent));if("OFF"===x.baseState)for(const T of this._groups)T.visible=!1;for(const T of x.on)this._groups.get(T).visible=!0;for(const T of x.off)this._groups.get(T).visible=!1}}_evaluateVisibilityExpression(x){const T=x.length;if(T<2)return!0;const y=x[0];for(let I=1;I<T;I++){const W=x[I];let q;if(Array.isArray(W))q=this._evaluateVisibilityExpression(W);else{if(!this._groups.has(W))return(0,i.warn)(`Optional content group not found: ${W}`),!0;q=this._groups.get(W).visible}switch(y){case"And":if(!q)return!1;break;case"Or":if(q)return!0;break;case"Not":return!q;default:return!0}}return"And"===y}isVisible(x){if(0===this._groups.size)return!0;if(!x)return(0,i.warn)("Optional content group not defined."),!0;if("OCG"===x.type)return this._groups.has(x.id)?this._groups.get(x.id).visible:((0,i.warn)(`Optional content group not found: ${x.id}`),!0);if("OCMD"===x.type){if(x.expression)return this._evaluateVisibilityExpression(x.expression);if(!x.policy||"AnyOn"===x.policy){for(const T of x.ids){if(!this._groups.has(T))return(0,i.warn)(`Optional content group not found: ${T}`),!0;if(this._groups.get(T).visible)return!0}return!1}if("AllOn"===x.policy){for(const T of x.ids){if(!this._groups.has(T))return(0,i.warn)(`Optional content group not found: ${T}`),!0;if(!this._groups.get(T).visible)return!1}return!0}if("AnyOff"===x.policy){for(const T of x.ids){if(!this._groups.has(T))return(0,i.warn)(`Optional content group not found: ${T}`),!0;if(!this._groups.get(T).visible)return!0}return!1}if("AllOff"===x.policy){for(const T of x.ids){if(!this._groups.has(T))return(0,i.warn)(`Optional content group not found: ${T}`),!0;if(this._groups.get(T).visible)return!1}return!0}return(0,i.warn)(`Unknown optional content policy ${x.policy}.`),!0}return(0,i.warn)(`Unknown group type ${x.type}.`),!0}setVisibility(x,T=!0){this._groups.has(x)?this._groups.get(x).visible=!!T:(0,i.warn)(`Optional content group not found: ${x}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,i.objectFromMap)(this._groups):null}getGroup(x){return this._groups.get(x)||null}}},($,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFDataTransportStream=void 0;var i=S(1),O=S(5);a.PDFDataTransportStream=class R{constructor(y,I){(0,i.assert)(I,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=y.progressiveDone||!1,this._contentDispositionFilename=y.contentDispositionFilename||null;const W=y.initialData;if(W?.length>0){const q=new Uint8Array(W).buffer;this._queuedChunks.push(q)}this._pdfDataRangeTransport=I,this._isStreamingSupported=!y.disableStream,this._isRangeSupported=!y.disableRange,this._contentLength=y.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((q,B)=>{this._onReceiveData({begin:q,chunk:B})}),this._pdfDataRangeTransport.addProgressListener((q,B)=>{this._onProgress({loaded:q,total:B})}),this._pdfDataRangeTransport.addProgressiveReadListener(q=>{this._onReceiveData({chunk:q})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(y){const I=new Uint8Array(y.chunk).buffer;if(void 0===y.begin)this._fullRequestReader?this._fullRequestReader._enqueue(I):this._queuedChunks.push(I);else{const W=this._rangeReaders.some(function(q){return q._begin===y.begin&&(q._enqueue(I),!0)});(0,i.assert)(W,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(y){if(void 0===y.total){const I=this._rangeReaders[0];I?.onProgress&&I.onProgress({loaded:y.loaded})}else{const I=this._fullRequestReader;I?.onProgress&&I.onProgress({loaded:y.loaded,total:y.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(y){const I=this._rangeReaders.indexOf(y);I>=0&&this._rangeReaders.splice(I,1)}getFullReader(){(0,i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const y=this._queuedChunks;return this._queuedChunks=null,new H(this,y,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(y,I){if(I<=this._progressiveDataLength)return null;const W=new x(this,y,I);return this._pdfDataRangeTransport.requestDataRange(y,I),this._rangeReaders.push(W),W}cancelAllRequests(y){this._fullRequestReader&&this._fullRequestReader.cancel(y);for(const I of this._rangeReaders.slice(0))I.cancel(y);this._pdfDataRangeTransport.abort()}};class H{constructor(y,I,W=!1,q=null){this._stream=y,this._done=W||!1,this._filename=(0,O.isPdfFile)(q)?q:null,this._queuedChunks=I||[],this._loaded=0;for(const B of this._queuedChunks)this._loaded+=B.byteLength;this._requests=[],this._headersReady=Promise.resolve(),y._fullRequestReader=this,this.onProgress=null}_enqueue(y){this._done||(this._requests.length>0?this._requests.shift().resolve({value:y,done:!1}):this._queuedChunks.push(y),this._loaded+=y.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var y=this;return _asyncToGenerator(function*(){if(y._queuedChunks.length>0)return{value:y._queuedChunks.shift(),done:!1};if(y._done)return{value:void 0,done:!0};const I=(0,i.createPromiseCapability)();return y._requests.push(I),I.promise})()}cancel(y){this._done=!0;for(const I of this._requests)I.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class x{constructor(y,I,W){this._stream=y,this._begin=I,this._end=W,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(y){if(!this._done){if(0===this._requests.length)this._queuedChunk=y;else{this._requests.shift().resolve({value:y,done:!1});for(const W of this._requests)W.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var y=this;return _asyncToGenerator(function*(){if(y._queuedChunk){const W=y._queuedChunk;return y._queuedChunk=null,{value:W,done:!1}}if(y._done)return{value:void 0,done:!0};const I=(0,i.createPromiseCapability)();return y._requests.push(I),I.promise})()}cancel(y){this._done=!0;for(const I of this._requests)I.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},($,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaText=void 0;class S{static textContent(O){const R=[],H={items:R,styles:Object.create(null)};return function x(T){if(!T)return;let y=null;const I=T.name;if("#text"===I)y=T.value;else{if(!S.shouldBuildText(I))return;T?.attributes?.textContent?y=T.attributes.textContent:T.value&&(y=T.value)}if(null!==y&&R.push({str:y}),T.children)for(const W of T.children)x(W)}(O),H}static shouldBuildText(O){return!("textarea"===O||"input"===O||"option"===O||"select"===O)}}a.XfaText=S},($,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.NodeStandardFontDataFactory=a.NodeCanvasFactory=a.NodeCMapReaderFactory=void 0;var i=S(6);const O=function(T){return new Promise((y,I)=>{__webpack_require__(172).readFile(T,(q,B)=>{!q&&B?y(new Uint8Array(B)):I(new Error(q))})})};a.NodeCanvasFactory=class R extends i.BaseCanvasFactory{_createCanvas(y,I){return __webpack_require__(3414).createCanvas(y,I)}},a.NodeCMapReaderFactory=class H extends i.BaseCMapReaderFactory{_fetchData(y,I){return O(y).then(W=>({cMapData:W,compressionType:I}))}},a.NodeStandardFontDataFactory=class x extends i.BaseStandardFontDataFactory{_fetchData(y){return O(y)}}},($,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationLayer=void 0;var i=S(1),O=S(5),R=S(8),H=S(21),x=S(22);const T=1e3,y=new WeakSet;function I(s){return{width:s[2]-s[0],height:s[3]-s[1]}}class W{static create(e){switch(e.data.annotationType){case i.AnnotationType.LINK:return new B(e);case i.AnnotationType.TEXT:return new G(e);case i.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new l(e);case"Btn":return e.data.radioButton?new A(e):e.data.checkBox?new m(e):new w(e);case"Ch":return new v(e)}return new _(e);case i.AnnotationType.POPUP:return new t(e);case i.AnnotationType.FREETEXT:return new u(e);case i.AnnotationType.LINE:return new P(e);case i.AnnotationType.SQUARE:return new d(e);case i.AnnotationType.CIRCLE:return new b(e);case i.AnnotationType.POLYLINE:return new p(e);case i.AnnotationType.CARET:return new M(e);case i.AnnotationType.INK:return new E(e);case i.AnnotationType.POLYGON:return new h(e);case i.AnnotationType.HIGHLIGHT:return new N(e);case i.AnnotationType.UNDERLINE:return new J(e);case i.AnnotationType.SQUIGGLY:return new te(e);case i.AnnotationType.STRIKEOUT:return new ne(e);case i.AnnotationType.STAMP:return new se(e);case i.AnnotationType.FILEATTACHMENT:return new fe(e);default:return new q(e)}}}class q{constructor(e,{isRenderable:r=!1,ignoreBorder:o=!1,createQuadrilaterals:g=!1}={}){this.isRenderable=r,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this._mouseState=e.mouseState,r&&(this.container=this._createContainer(o)),g&&(this.quadrilaterals=this._createQuadrilaterals(o))}_createContainer(e=!1){const r=this.data,o=this.page,g=this.viewport,f=document.createElement("section");let{width:c,height:k}=I(r.rect);f.setAttribute("data-annotation-id",r.id);const Q=i.Util.normalizeRect([r.rect[0],o.view[3]-r.rect[1]+o.view[1],r.rect[2],o.view[3]-r.rect[3]+o.view[1]]);if(r.hasOwnCanvas){const V=g.transform.slice(),[K,Y]=i.Util.singularValueDecompose2dScale(V);c=Math.ceil(c*K),k=Math.ceil(k*Y),Q[0]*=K,Q[1]*=Y;for(let ie=0;ie<4;ie++)V[ie]=Math.sign(V[ie]);f.style.transform=`matrix(${V.join(",")})`}else f.style.transform=`matrix(${g.transform.join(",")})`;if(f.style.transformOrigin=`${-Q[0]}px ${-Q[1]}px`,!e&&r.borderStyle.width>0){f.style.borderWidth=`${r.borderStyle.width}px`,r.borderStyle.style!==i.AnnotationBorderStyleType.UNDERLINE&&(c-=2*r.borderStyle.width,k-=2*r.borderStyle.width);const V=r.borderStyle.horizontalCornerRadius,K=r.borderStyle.verticalCornerRadius;switch((V>0||K>0)&&(f.style.borderRadius=`${V}px / ${K}px`),r.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:f.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:f.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:f.style.borderBottomStyle="solid"}r.borderColor||r.color?f.style.borderColor=i.Util.makeHexColor(0|r.color[0],0|r.color[1],0|r.color[2]):f.style.borderWidth=0}return f.style.left=`${Q[0]}px`,f.style.top=`${Q[1]}px`,r.hasOwnCanvas?f.style.width=f.style.height="auto":(f.style.width=`${c}px`,f.style.height=`${k}px`),f}get _commonActions(){const e=(r,o,g)=>{const f=g.detail[r];g.target.style[o]=H.ColorConverters[`${f[0]}_HTML`](f.slice(1))};return(0,i.shadow)(this,"_commonActions",{display:r=>{const o=r.detail.display%2==1;r.target.style.visibility=o?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:o,print:0===r.detail.display||3===r.detail.display})},print:r=>{this.annotationStorage.setValue(this.data.id,{print:r.detail.print})},hidden:r=>{r.target.style.visibility=r.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:r.detail.hidden})},focus:r=>{setTimeout(()=>r.target.focus({preventScroll:!1}),0)},userName:r=>{r.target.title=r.detail.userName},readonly:r=>{r.detail.readonly?r.target.setAttribute("readonly",""):r.target.removeAttribute("readonly")},required:r=>{r.detail.required?r.target.setAttribute("required",""):r.target.removeAttribute("required")},bgColor:r=>{e("bgColor","backgroundColor",r)},fillColor:r=>{e("fillColor","backgroundColor",r)},fgColor:r=>{e("fgColor","color",r)},textColor:r=>{e("textColor","color",r)},borderColor:r=>{e("borderColor","borderColor",r)},strokeColor:r=>{e("strokeColor","borderColor",r)}})}_dispatchEventFromSandbox(e,r){const o=this._commonActions;for(const g of Object.keys(r.detail)){const f=e[g]||o[g];f&&f(r)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const r=this.annotationStorage.getRawValue(this.data.id);if(!r)return;const o=this._commonActions;for(const[g,f]of Object.entries(r)){const c=o[g];c&&(c({detail:f,target:e}),delete r[g])}}_createQuadrilaterals(e=!1){if(!this.data.quadPoints)return null;const r=[],o=this.data.rect;for(const g of this.data.quadPoints)this.data.rect=[g[2].x,g[2].y,g[1].x,g[1].y],r.push(this._createContainer(e));return this.data.rect=o,r}_createPopup(e,r){let o=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,o=this.quadrilaterals[0]),e||((e=document.createElement("div")).style.height=o.style.height,e.style.width=o.style.width,o.appendChild(e));const f=new n({container:o,trigger:e,color:r.color,titleObj:r.titleObj,modificationDate:r.modificationDate,contentsObj:r.contentsObj,richText:r.richText,hideWrapper:!0}).render();f.style.left=o.style.width,o.appendChild(f)}_renderQuadrilaterals(e){for(const r of this.quadrilaterals)r.className=e;return this.quadrilaterals}render(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,r=null){const o=[];if(this._fieldObjects){const g=this._fieldObjects[e];if(g)for(const{page:f,id:c,exportValues:k}of g){if(-1===f||c===r)continue;const Q="string"==typeof k?k:null,V=document.getElementById(c);!V||y.has(V)?o.push({id:c,exportValue:Q,domElement:V}):(0,i.warn)(`_getElementsByName - element not allowed: ${c}`)}return o}for(const g of document.getElementsByName(e)){const{id:f,exportValue:c}=g;f!==r&&y.has(g)&&o.push({id:f,exportValue:c,domElement:g})}return o}static get platform(){const e=typeof navigator<"u"?navigator.platform:"";return(0,i.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}class B extends q{constructor(e,r=null){super(e,{isRenderable:!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.resetForm||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"])),ignoreBorder:!!r?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:e,linkService:r}=this,o=document.createElement("a");if(e.url)r.addLinkAttributes(o,e.url,e.newWindow);else if(e.action)this._bindNamedAction(o,e.action);else if(e.dest)this._bindLink(o,e.dest);else{let g=!1;e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(g=!0,this._bindJSAction(o,e)),e.resetForm?this._bindResetFormAction(o,e.resetForm):g||this._bindLink(o,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((g,f)=>{const c=0===f?o:o.cloneNode();return g.appendChild(c),g}):(this.container.className="linkAnnotation",this.container.appendChild(o),this.container)}_bindLink(e,r){e.href=this.linkService.getDestinationHash(r),e.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||""===r)&&(e.className="internalLink")}_bindNamedAction(e,r){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(r),!1),e.className="internalLink"}_bindJSAction(e,r){e.href=this.linkService.getAnchorUrl("");const o=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const g of Object.keys(r.actions)){const f=o.get(g);f&&(e[f]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:g}}),!1))}e.onclick||(e.onclick=()=>!1),e.className="internalLink"}_bindResetFormAction(e,r){const o=e.onclick;if(o||(e.href=this.linkService.getAnchorUrl("")),e.className="internalLink",!this._fieldObjects)return(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(o||(e.onclick=()=>!1));e.onclick=()=>{o&&o();const{fields:g,refs:f,include:c}=r,k=[];if(0!==g.length||0!==f.length){const K=new Set(f);for(const Y of g){const ie=this._fieldObjects[Y]||[];for(const{id:re}of ie)K.add(re)}for(const Y of Object.values(this._fieldObjects))for(const ie of Y)K.has(ie.id)===c&&k.push(ie)}else for(const K of Object.values(this._fieldObjects))k.push(...K);const Q=this.annotationStorage,V=[];for(const K of k){const{id:Y}=K;switch(V.push(Y),K.type){case"text":case"combobox":case"listbox":Q.setValue(Y,{value:K.defaultValue||""});break;case"checkbox":case"radiobutton":Q.setValue(Y,{value:K.defaultValue===K.exportValues});break;default:continue}const ie=document.getElementById(Y);!ie||!y.has(ie)||ie.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:V,name:"ResetForm"}}),!1}}}class G extends q{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}class _ extends q{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(e){const{isWin:r,isMac:o}=q.platform;return r&&e.ctrlKey||o&&e.metaKey}_setEventListener(e,r,o,g){r.includes("mouse")?e.addEventListener(r,f=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:g(f),shift:f.shiftKey,modifier:this._getKeyModifier(f)}})}):e.addEventListener(r,f=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:g(f)}})})}_setEventListeners(e,r,o){for(const[g,f]of r)("Action"===f||this.data.actions?.[f])&&this._setEventListener(e,g,f,o)}_setBackgroundColor(e){const r=this.data.backgroundColor||null;e.style.backgroundColor=null===r?"transparent":i.Util.makeHexColor(r[0],r[1],r[2])}}class l extends _{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,r,o,g){const f=this.annotationStorage;for(const c of this._getElementsByName(e.name,e.id))c.domElement&&(c.domElement[r]=o),f.setValue(c.id,{[g]:o})}render(){const e=this.annotationStorage,r=this.data.id;this.container.className="textWidgetAnnotation";let o=null;if(this.renderForms){const g=e.getValue(r,{value:this.data.fieldValue}),f=g.formattedValue||g.value||"",c={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(o=document.createElement("textarea"),o.textContent=f):(o=document.createElement("input"),o.type="text",o.setAttribute("value",f)),y.add(o),o.disabled=this.data.readOnly,o.name=this.data.fieldName,o.tabIndex=T,c.userValue=f,o.setAttribute("id",r),o.addEventListener("input",Q=>{e.setValue(r,{value:Q.target.value}),this.setPropertyOnSiblings(o,"value",Q.target.value,"value")}),o.addEventListener("resetform",Q=>{o.value=c.userValue=this.data.defaultFieldValue??"",c.formattedValue=null});let k=Q=>{const{formattedValue:V}=c;null!=V&&(Q.target.value=V),Q.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){o.addEventListener("focus",V=>{c.userValue&&(V.target.value=c.userValue),c.valueOnFocus=V.target.value}),o.addEventListener("updatefromsandbox",V=>{this._dispatchEventFromSandbox({value(Y){c.userValue=Y.detail.value??"",e.setValue(r,{value:c.userValue.toString()}),Y.target.value=c.userValue},formattedValue(Y){const{formattedValue:ie}=Y.detail;c.formattedValue=ie,null!=ie&&Y.target!==document.activeElement&&(Y.target.value=ie),e.setValue(r,{formattedValue:ie})},selRange(Y){Y.target.setSelectionRange(...Y.detail.selRange)}},V)}),o.addEventListener("keydown",V=>{let K=-1;if("Escape"===V.key?K=0:"Enter"===V.key?K=2:"Tab"===V.key&&(K=3),-1===K)return;const{value:Y}=V.target;c.valueOnFocus!==Y&&(c.userValue=Y,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:Y,willCommit:!0,commitKey:K,selStart:V.target.selectionStart,selEnd:V.target.selectionEnd}}))});const Q=k;k=null,o.addEventListener("blur",V=>{const{value:K}=V.target;c.userValue=K,this._mouseState.isDown&&c.valueOnFocus!==K&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:K,willCommit:!0,commitKey:1,selStart:V.target.selectionStart,selEnd:V.target.selectionEnd}}),Q(V)}),this.data.actions?.Keystroke&&o.addEventListener("beforeinput",V=>{const{data:K,target:Y}=V,{value:ie,selectionStart:re,selectionEnd:_e}=Y;let ve=re,Pe=_e;switch(V.inputType){case"deleteWordBackward":{const Se=ie.substring(0,re).match(/\w*[^\w]*$/);Se&&(ve-=Se[0].length);break}case"deleteWordForward":{const Se=ie.substring(re).match(/^[^\w]*\w*/);Se&&(Pe+=Se[0].length);break}case"deleteContentBackward":re===_e&&(ve-=1);break;case"deleteContentForward":re===_e&&(Pe+=1)}V.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:ie,change:K||"",willCommit:!1,selStart:ve,selEnd:Pe}})}),this._setEventListeners(o,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],V=>V.target.value)}if(k&&o.addEventListener("blur",k),null!==this.data.maxLen&&(o.maxLength=this.data.maxLen),this.data.comb){const V=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;o.classList.add("comb"),o.style.letterSpacing=`calc(${V}px - 1ch)`}}else o=document.createElement("div"),o.textContent=this.data.fieldValue,o.style.verticalAlign="middle",o.style.display="table-cell";return this._setTextStyle(o),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.appendChild(o),this.container}_setTextStyle(e){const{fontSize:o,fontColor:g}=this.data.defaultAppearanceData,f=e.style;o&&(f.fontSize=`${o}px`),f.color=i.Util.makeHexColor(g[0],g[1],g[2]),null!==this.data.textAlignment&&(f.textAlign=["left","center","right"][this.data.textAlignment])}}class m extends _{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,r=this.data,o=r.id;let g=e.getValue(o,{value:r.exportValue===r.fieldValue}).value;"string"==typeof g&&(g="Off"!==g,e.setValue(o,{value:g})),this.container.className="buttonWidgetAnnotation checkBox";const f=document.createElement("input");return y.add(f),f.disabled=r.readOnly,f.type="checkbox",f.name=r.fieldName,g&&f.setAttribute("checked",!0),f.setAttribute("id",o),f.setAttribute("exportValue",r.exportValue),f.tabIndex=T,f.addEventListener("change",c=>{const{name:k,checked:Q}=c.target;for(const V of this._getElementsByName(k,o)){const K=Q&&V.exportValue===r.exportValue;V.domElement&&(V.domElement.checked=K),e.setValue(V.id,{value:K})}e.setValue(o,{value:Q})}),f.addEventListener("resetform",c=>{c.target.checked=(r.defaultFieldValue||"Off")===r.exportValue}),this.enableScripting&&this.hasJSActions&&(f.addEventListener("updatefromsandbox",c=>{this._dispatchEventFromSandbox({value(Q){Q.target.checked="Off"!==Q.detail.value,e.setValue(o,{value:Q.target.checked})}},c)}),this._setEventListeners(f,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(f),this._setDefaultPropertiesFromJS(f),this.container.appendChild(f),this.container}}class A extends _{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,r=this.data,o=r.id;let g=e.getValue(o,{value:r.fieldValue===r.buttonValue}).value;"string"==typeof g&&(g=g!==r.buttonValue,e.setValue(o,{value:g}));const f=document.createElement("input");if(y.add(f),f.disabled=r.readOnly,f.type="radio",f.name=r.fieldName,g&&f.setAttribute("checked",!0),f.setAttribute("id",o),f.tabIndex=T,f.addEventListener("change",c=>{const{name:k,checked:Q}=c.target;for(const V of this._getElementsByName(k,o))e.setValue(V.id,{value:!1});e.setValue(o,{value:Q})}),f.addEventListener("resetform",c=>{const k=r.defaultFieldValue;c.target.checked=null!=k&&k===r.buttonValue}),this.enableScripting&&this.hasJSActions){const c=r.buttonValue;f.addEventListener("updatefromsandbox",k=>{this._dispatchEventFromSandbox({value:V=>{const K=c===V.detail.value;for(const Y of this._getElementsByName(V.target.name)){const ie=K&&Y.id===o;Y.domElement&&(Y.domElement.checked=ie),e.setValue(Y.id,{value:ie})}}},k)}),this._setEventListeners(f,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],k=>k.target.checked)}return this._setBackgroundColor(f),this._setDefaultPropertiesFromJS(f),this.container.appendChild(f),this.container}}class w extends B{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(e),e}}class v extends _{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,r=this.data.id,o=e.getValue(r,{value:this.data.fieldValue});let{fontSize:g}=this.data.defaultAppearanceData;g||(g=9);const f=`calc(${g}px * var(--zoom-factor))`,c=document.createElement("select");y.add(c),c.disabled=this.data.readOnly,c.name=this.data.fieldName,c.setAttribute("id",r),c.tabIndex=T,c.style.fontSize=`${g}px`,this.data.combo||(c.size=this.data.options.length,this.data.multiSelect&&(c.multiple=!0)),c.addEventListener("resetform",V=>{const K=this.data.defaultFieldValue;for(const Y of c.options)Y.selected=Y.value===K});for(const V of this.data.options){const K=document.createElement("option");K.textContent=V.displayValue,K.value=V.exportValue,this.data.combo&&(K.style.fontSize=f),o.value.includes(V.exportValue)&&K.setAttribute("selected",!0),c.appendChild(K)}const k=(V,K)=>{const Y=K?"value":"textContent",ie=V.target.options;return V.target.multiple?Array.prototype.filter.call(ie,re=>re.selected).map(re=>re[Y]):-1===ie.selectedIndex?null:ie[ie.selectedIndex][Y]},Q=V=>Array.prototype.map.call(V.target.options,Y=>({displayValue:Y.textContent,exportValue:Y.value}));return this.enableScripting&&this.hasJSActions?(c.addEventListener("updatefromsandbox",V=>{this._dispatchEventFromSandbox({value(Y){const ie=Y.detail.value,re=new Set(Array.isArray(ie)?ie:[ie]);for(const _e of c.options)_e.selected=re.has(_e.value);e.setValue(r,{value:k(Y,!0)})},multipleSelection(Y){c.multiple=!0},remove(Y){const ie=c.options,re=Y.detail.remove;ie[re].selected=!1,c.remove(re),ie.length>0&&-1===Array.prototype.findIndex.call(ie,ve=>ve.selected)&&(ie[0].selected=!0),e.setValue(r,{value:k(Y,!0),items:Q(Y)})},clear(Y){for(;0!==c.length;)c.remove(0);e.setValue(r,{value:null,items:[]})},insert(Y){const{index:ie,displayValue:re,exportValue:_e}=Y.detail.insert,ve=document.createElement("option");ve.textContent=re,ve.value=_e,c.insertBefore(ve,c.children[ie]),e.setValue(r,{value:k(Y,!0),items:Q(Y)})},items(Y){const{items:ie}=Y.detail;for(;0!==c.length;)c.remove(0);for(const re of ie){const{displayValue:_e,exportValue:ve}=re,Pe=document.createElement("option");Pe.textContent=_e,Pe.value=ve,c.appendChild(Pe)}c.options.length>0&&(c.options[0].selected=!0),e.setValue(r,{value:k(Y,!0),items:Q(Y)})},indices(Y){const ie=new Set(Y.detail.indices);for(const re of Y.target.options)re.selected=ie.has(re.index);e.setValue(r,{value:k(Y,!0)})},editable(Y){Y.target.disabled=!Y.detail.editable}},V)}),c.addEventListener("input",V=>{const K=k(V,!0),Y=k(V,!1);e.setValue(r,{value:K}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:Y,changeEx:K,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],V=>V.target.checked)):c.addEventListener("input",function(V){e.setValue(r,{value:k(V,!0)})}),this._setBackgroundColor(c),this._setDefaultPropertiesFromJS(c),this.container.appendChild(c),this.container}}class t extends q{constructor(e){super(e,{isRenderable:!!(e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const o=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===o.length)return this.container;const g=new n({container:this.container,trigger:Array.from(o),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),f=this.page,c=i.Util.normalizeRect([this.data.parentRect[0],f.view[3]-this.data.parentRect[1]+f.view[1],this.data.parentRect[2],f.view[3]-this.data.parentRect[3]+f.view[1]]),k=c[0]+this.data.parentRect[2]-this.data.parentRect[0],Q=c[1];return this.container.style.transformOrigin=`${-k}px ${-Q}px`,this.container.style.left=`${k}px`,this.container.style.top=`${Q}px`,this.container.appendChild(g.render()),this.container}}class n{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){const r=document.createElement("div");r.className="popupWrapper",this.hideElement=this.hideWrapper?r:this.container,this.hideElement.hidden=!0;const o=document.createElement("div");o.className="popup";const g=this.color;g&&(o.style.backgroundColor=i.Util.makeHexColor(0|.7*(255-g[0])+g[0],0|.7*(255-g[1])+g[1],0|.7*(255-g[2])+g[2]));const f=document.createElement("h1");f.dir=this.titleObj.dir,f.textContent=this.titleObj.str,o.appendChild(f);const c=O.PDFDateString.toDateObject(this.modificationDate);if(c){const k=document.createElement("span");k.className="popupDate",k.textContent="{{date}}, {{time}}",k.dataset.l10nId="annotation_date_string",k.dataset.l10nArgs=JSON.stringify({date:c.toLocaleDateString(),time:c.toLocaleTimeString()}),o.appendChild(k)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const k=this._formatContents(this.contentsObj);o.appendChild(k)}else x.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:o}),o.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const k of this.trigger)k.addEventListener("click",this._toggle.bind(this)),k.addEventListener("mouseover",this._show.bind(this,!1)),k.addEventListener("mouseout",this._hide.bind(this,!1));return o.addEventListener("click",this._hide.bind(this,!0)),r.appendChild(o),r}_formatContents({str:e,dir:r}){const o=document.createElement("p");o.className="popupContent",o.dir=r;const g=e.split(/(?:\r\n?|\n)/);for(let f=0,c=g.length;f<c;++f)o.appendChild(document.createTextNode(g[f])),f<c-1&&o.appendChild(document.createElement("br"));return o}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(e=!1){e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(e=!0){e&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class u extends q{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class P extends q{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,{width:r,height:o}=I(e.rect),g=this.svgFactory.create(r,o),f=this.svgFactory.createElement("svg:line");return f.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),f.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),f.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),f.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),f.setAttribute("stroke-width",e.borderStyle.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),g.appendChild(f),this.container.append(g),this._createPopup(f,e),this.container}}class d extends q{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,{width:r,height:o}=I(e.rect),g=this.svgFactory.create(r,o),f=e.borderStyle.width,c=this.svgFactory.createElement("svg:rect");return c.setAttribute("x",f/2),c.setAttribute("y",f/2),c.setAttribute("width",r-f),c.setAttribute("height",o-f),c.setAttribute("stroke-width",f||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),g.appendChild(c),this.container.append(g),this._createPopup(c,e),this.container}}class b extends q{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,{width:r,height:o}=I(e.rect),g=this.svgFactory.create(r,o),f=e.borderStyle.width,c=this.svgFactory.createElement("svg:ellipse");return c.setAttribute("cx",r/2),c.setAttribute("cy",o/2),c.setAttribute("rx",r/2-f/2),c.setAttribute("ry",o/2-f/2),c.setAttribute("stroke-width",f||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),g.appendChild(c),this.container.append(g),this._createPopup(c,e),this.container}}class p extends q{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:r,height:o}=I(e.rect),g=this.svgFactory.create(r,o);let f=[];for(const k of e.vertices)f.push(k.x-e.rect[0]+","+(e.rect[3]-k.y));f=f.join(" ");const c=this.svgFactory.createElement(this.svgElementName);return c.setAttribute("points",f),c.setAttribute("stroke-width",e.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),g.appendChild(c),this.container.append(g),this._createPopup(c,e),this.container}}class h extends p{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class M extends q{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class E extends q{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:r,height:o}=I(e.rect),g=this.svgFactory.create(r,o);for(const f of e.inkLists){let c=[];for(const Q of f)c.push(`${Q.x-e.rect[0]},${e.rect[3]-Q.y}`);c=c.join(" ");const k=this.svgFactory.createElement(this.svgElementName);k.setAttribute("points",c),k.setAttribute("stroke-width",e.borderStyle.width||1),k.setAttribute("stroke","transparent"),k.setAttribute("fill","transparent"),this._createPopup(k,e),g.appendChild(k)}return this.container.append(g),this.container}}class N extends q{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class J extends q{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class te extends q{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class ne extends q{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class se extends q{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class fe extends q{constructor(e){super(e,{isRenderable:!0});const{filename:r,content:o}=this.data.file;this.filename=(0,O.getFilenameFromUrl)(r),this.content=o,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:r,content:o})}render(){this.container.className="fileAttachmentAnnotation";const e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(e,this.data),this.container.appendChild(e),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class ue{static render(e){const r=[],o=[];for(const f of e.annotations){if(!f)continue;const{width:c,height:k}=I(f.rect);if(!(c<=0||k<=0)){if(f.annotationType===i.AnnotationType.POPUP){o.push(f);continue}r.push(f)}}o.length&&r.push(...o);const g=e.div;for(const f of r){const c=W.create({data:f,layer:g,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new O.DOMSVGFactory,annotationStorage:e.annotationStorage||new R.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,mouseState:e.mouseState||{isDown:!1}});if(c.isRenderable){const k=c.render();if(f.hidden&&(k.style.visibility="hidden"),Array.isArray(k))for(const Q of k)g.appendChild(Q);else c instanceof t?g.prepend(k):g.appendChild(k)}}_classStaticPrivateMethodGet(this,ue,F).call(this,g,e.annotationCanvasMap)}static update(e){const{page:r,viewport:o,annotations:g,annotationCanvasMap:f,div:c}=e,k=o.transform,Q=`matrix(${k.join(",")})`;let V,K;for(const Y of g){const ie=c.querySelectorAll(`[data-annotation-id="${Y.id}"]`);if(ie)for(const re of ie)if(Y.hasOwnCanvas){const _e=i.Util.normalizeRect([Y.rect[0],r.view[3]-Y.rect[1]+r.view[1],Y.rect[2],r.view[3]-Y.rect[3]+r.view[1]]);if(!K){V=Math.abs(k[0]||k[1]);const Se=k.slice();for(let de=0;de<4;de++)Se[de]=Math.sign(Se[de]);K=`matrix(${Se.join(",")})`}const ve=_e[0]*V,Pe=_e[1]*V;re.style.left=`${ve}px`,re.style.top=`${Pe}px`,re.style.transformOrigin=`${-ve}px ${-Pe}px`,re.style.transform=K}else re.style.transform=Q}_classStaticPrivateMethodGet(this,ue,F).call(this,c,f),c.hidden=!1}}function F(s,e){if(e){for(const[r,o]of e){const g=s.querySelector(`[data-annotation-id="${r}"]`);if(!g)continue;const{firstChild:f}=g;"CANVAS"===f.nodeName?g.replaceChild(o,f):g.insertBefore(o,f)}e.clear()}}a.AnnotationLayer=ue},($,a)=>{function S(O){return Math.floor(255*Math.max(0,Math.min(1,O))).toString(16).padStart(2,"0")}Object.defineProperty(a,"__esModule",{value:!0}),a.ColorConverters=void 0,a.ColorConverters=class i{static CMYK_G([R,H,x,T]){return["G",1-Math.min(1,.3*R+.59*x+.11*H+T)]}static G_CMYK([R]){return["CMYK",0,0,0,1-R]}static G_RGB([R]){return["RGB",R,R,R]}static G_HTML([R]){const H=S(R);return`#${H}${H}${H}`}static RGB_G([R,H,x]){return["G",.3*R+.59*H+.11*x]}static RGB_HTML([R,H,x]){return`#${S(R)}${S(H)}${S(x)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([R,H,x,T]){return["RGB",1-Math.min(1,R+T),1-Math.min(1,x+T),1-Math.min(1,H+T)]}static CMYK_HTML(R){return this.RGB_HTML(this.CMYK_RGB(R))}static RGB_CMYK([R,H,x]){const T=1-R,y=1-H,I=1-x;return["CMYK",T,y,I,Math.min(T,y,I)]}}},($,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaLayer=void 0;var i=S(18);a.XfaLayer=class O{static setupStorage(H,x,T,y,I){const W=y.getValue(x,{value:null});switch(T.name){case"textarea":if(null!==W.value&&(H.textContent=W.value),"print"===I)break;H.addEventListener("input",q=>{y.setValue(x,{value:q.target.value})});break;case"input":if("radio"===T.attributes.type||"checkbox"===T.attributes.type){if(W.value===T.attributes.xfaOn?H.setAttribute("checked",!0):W.value===T.attributes.xfaOff&&H.removeAttribute("checked"),"print"===I)break;H.addEventListener("change",q=>{y.setValue(x,{value:q.target.getAttribute(q.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==W.value&&H.setAttribute("value",W.value),"print"===I)break;H.addEventListener("input",q=>{y.setValue(x,{value:q.target.value})})}break;case"select":if(null!==W.value)for(const q of T.children)q.attributes.value===W.value&&(q.attributes.selected=!0);H.addEventListener("input",q=>{const B=q.target.options;y.setValue(x,{value:-1===B.selectedIndex?"":B[B.selectedIndex].value})})}}static setAttributes({html:H,element:x,storage:T=null,intent:y,linkService:I}){const{attributes:W}=x,q=H instanceof HTMLAnchorElement;"radio"===W.type&&(W.name=`${W.name}-${y}`);for(const[B,G]of Object.entries(W))if(null!=G&&"dataId"!==B)if("style"!==B)if("textContent"===B)H.textContent=G;else if("class"===B)G.length&&H.setAttribute(B,G.join(" "));else{if(q&&("href"===B||"newWindow"===B))continue;H.setAttribute(B,G)}else Object.assign(H.style,G);q&&I.addLinkAttributes(H,W.href,W.newWindow),T&&W.dataId&&this.setupStorage(H,W.dataId,x,T)}static render(H){const x=H.annotationStorage,T=H.linkService,y=H.xfaHtml,I=H.intent||"display",W=document.createElement(y.name);y.attributes&&this.setAttributes({html:W,element:y,intent:I,linkService:T});const q=[[y,-1,W]],B=H.div;if(B.appendChild(W),H.viewport){const _=`matrix(${H.viewport.transform.join(",")})`;B.style.transform=_}"richText"!==I&&B.setAttribute("class","xfaLayer xfaFont");const G=[];for(;q.length>0;){const[_,l,m]=q[q.length-1];if(l+1===_.children.length){q.pop();continue}const A=_.children[++q[q.length-1][1]];if(null===A)continue;const{name:w}=A;if("#text"===w){const t=document.createTextNode(A.value);G.push(t),m.appendChild(t);continue}let v;if(v=A?.attributes?.xmlns?document.createElementNS(A.attributes.xmlns,w):document.createElement(w),m.appendChild(v),A.attributes&&this.setAttributes({html:v,element:A,storage:x,intent:I,linkService:T}),A.children&&A.children.length>0)q.push([A,-1,v]);else if(A.value){const t=document.createTextNode(A.value);i.XfaText.shouldBuildText(w)&&G.push(t),v.appendChild(t)}}for(const _ of B.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))_.setAttribute("readOnly",!0);return{textDivs:G}}static update(H){const x=`matrix(${H.viewport.transform.join(",")})`;H.div.style.transform=x,H.div.hidden=!1}}},($,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.renderTextLayer=function m(A){const w=new l({textContent:A.textContent,textContentStream:A.textContentStream,container:A.container,viewport:A.viewport,textDivs:A.textDivs,textContentItemsStr:A.textContentItemsStr,enhanceTextSelection:A.enhanceTextSelection});return w._render(A.timeout),w};var i=S(1);const O=1e5,R=30,H=.8,x=new Map,T=/^\s+$/g;function I(A,w,v,t){const n=document.createElement("span"),u=A._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==w.str,hasEOL:w.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==w.str,hasEOL:w.hasEOL};A._textDivs.push(n);const P=i.Util.transform(A._viewport.transform,w.transform);let d=Math.atan2(P[1],P[0]);const b=v[w.fontName];b.vertical&&(d+=Math.PI/2);const p=Math.hypot(P[2],P[3]),h=p*function y(A,w){const v=x.get(A);if(v)return v;w.save(),w.font=`${R}px ${A}`;const t=w.measureText("");let n=t.fontBoundingBoxAscent,u=Math.abs(t.fontBoundingBoxDescent);if(n){w.restore();const d=n/(n+u);return x.set(A,d),d}w.strokeStyle="red",w.clearRect(0,0,R,R),w.strokeText("g",0,0);let P=w.getImageData(0,0,R,R).data;u=0;for(let d=P.length-1-3;d>=0;d-=4)if(P[d]>0){u=Math.ceil(d/4/R);break}w.clearRect(0,0,R,R),w.strokeText("A",0,R),P=w.getImageData(0,0,R,R).data,n=0;for(let d=0,b=P.length;d<b;d+=4)if(P[d]>0){n=R-Math.floor(d/4/R);break}if(w.restore(),n){const d=n/(n+u);return x.set(A,d),d}return x.set(A,H),H}(b.fontFamily,t);let M,E;0===d?(M=P[4],E=P[5]-h):(M=P[4]+h*Math.sin(d),E=P[5]-h*Math.cos(d)),n.style.left=`${M}px`,n.style.top=`${E}px`,n.style.fontSize=`${p}px`,n.style.fontFamily=b.fontFamily,n.setAttribute("role","presentation"),n.textContent=w.str,n.dir=w.dir,A._fontInspectorEnabled&&(n.dataset.fontName=w.fontName),0!==d&&(u.angle=d*(180/Math.PI));let N=!1;if(w.str.length>1||A._enhanceTextSelection&&T.test(w.str))N=!0;else if(" "!==w.str&&w.transform[0]!==w.transform[3]){const J=Math.abs(w.transform[0]),te=Math.abs(w.transform[3]);J!==te&&Math.max(J,te)/Math.min(J,te)>1.5&&(N=!0)}if(N&&(u.canvasWidth=b.vertical?w.height*A._viewport.scale:w.width*A._viewport.scale),A._textDivProperties.set(n,u),A._textContentStream&&A._layoutText(n),A._enhanceTextSelection&&u.hasText){let J=1,te=0;0!==d&&(J=Math.cos(d),te=Math.sin(d));const ne=(b.vertical?w.height:w.width)*A._viewport.scale,se=p;let fe,ue;0!==d?(fe=[J,te,-te,J,M,E],ue=i.Util.getAxialAlignedBoundingBox([0,0,ne,se],fe)):ue=[M,E,M+ne,E+se],A._bounds.push({left:ue[0],top:ue[1],right:ue[2],bottom:ue[3],div:n,size:[ne,se],m:fe})}}function W(A){if(A._canceled)return;const w=A._textDivs,v=A._capability,t=w.length;if(t>O)return A._renderingDone=!0,void v.resolve();if(!A._textContentStream)for(let n=0;n<t;n++)A._layoutText(w[n]);A._renderingDone=!0,v.resolve()}function q(A,w,v){let t=0;for(let n=0;n<v;n++){const u=A[w++];u>0&&(t=t?Math.min(u,t):u)}return t}function _(A,w){w.sort(function(n,u){return n.x1-u.x1||n.index-u.index});const t=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const n of w){let u=0;for(;u<t.length&&t[u].end<=n.y1;)u++;let P=t.length-1;for(;P>=0&&t[P].start>=n.y2;)P--;let d,b,p,h,M=-1/0;for(p=u;p<=P;p++){let J;d=t[p],b=d.boundary,J=b.x2>n.x1?b.index>n.index?b.x1New:n.x1:void 0===b.x2New?(b.x2+n.x1)/2:b.x2New,J>M&&(M=J)}for(n.x1New=M,p=u;p<=P;p++)d=t[p],b=d.boundary,void 0===b.x2New?b.x2>n.x1?b.index>n.index&&(b.x2New=b.x2):b.x2New=M:b.x2New>M&&(b.x2New=Math.max(M,b.x2));const E=[];let N=null;for(p=u;p<=P;p++){d=t[p],b=d.boundary;const J=b.x2>n.x2?b:n;N===J?E[E.length-1].end=d.end:(E.push({start:d.start,end:d.end,boundary:J}),N=J)}for(t[u].start<n.y1&&(E[0].start=n.y1,E.unshift({start:t[u].start,end:n.y1,boundary:t[u].boundary})),n.y2<t[P].end&&(E[E.length-1].end=n.y2,E.push({start:n.y2,end:t[P].end,boundary:t[P].boundary})),p=u;p<=P;p++){if(d=t[p],b=d.boundary,void 0!==b.x2New)continue;let J=!1;for(h=u-1;!J&&h>=0&&t[h].start>=b.y1;h--)J=t[h].boundary===b;for(h=P+1;!J&&h<t.length&&t[h].end<=b.y2;h++)J=t[h].boundary===b;for(h=0;!J&&h<E.length;h++)J=E[h].boundary===b;J||(b.x2New=M)}Array.prototype.splice.apply(t,[u,P-u+1].concat(E))}for(const n of t){const u=n.boundary;void 0===u.x2New&&(u.x2New=Math.max(A,u.x2))}}class l{constructor({textContent:w,textContentStream:v,container:t,viewport:n,textDivs:u,textContentItemsStr:P,enhanceTextSelection:d}){this._textContent=w,this._textContentStream=v,this._container=t,this._document=t.ownerDocument,this._viewport=n,this._textDivs=u||[],this._textContentItemsStr=P||[],this._enhanceTextSelection=!!d,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,i.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(w,v){for(let t=0,n=w.length;t<n;t++)if(void 0!==w[t].str)this._textContentItemsStr.push(w[t].str),I(this,w[t],v,this._layoutTextCtx);else if("beginMarkedContentProps"===w[t].type||"beginMarkedContent"===w[t].type){const u=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==w[t].id&&this._container.setAttribute("id",`${w[t].id}`),u.appendChild(this._container)}else"endMarkedContent"===w[t].type&&(this._container=this._container.parentNode)}_layoutText(w){const v=this._textDivProperties.get(w);let t="";if(0!==v.canvasWidth&&v.hasText){const{fontSize:n,fontFamily:u}=w.style;(n!==this._layoutTextLastFontSize||u!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${n} ${u}`,this._layoutTextLastFontSize=n,this._layoutTextLastFontFamily=u);const{width:P}=this._layoutTextCtx.measureText(w.textContent);if(P>0){const d=v.canvasWidth/P;this._enhanceTextSelection&&(v.scale=d),t=`scaleX(${d})`}}if(0!==v.angle&&(t=`rotate(${v.angle}deg) ${t}`),t.length>0&&(this._enhanceTextSelection&&(v.originalTransform=t),w.style.transform=t),v.hasText&&this._container.appendChild(w),v.hasEOL){const n=document.createElement("br");n.setAttribute("role","presentation"),this._container.appendChild(n)}}_render(w=0){const v=(0,i.createPromiseCapability)();let t=Object.create(null);const n=this._document.createElement("canvas");if(n.height=n.width=R,this._layoutTextCtx=n.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),v.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const u=()=>{this._reader.read().then(({value:P,done:d})=>{d?v.resolve():(Object.assign(t,P.styles),this._processItems(P.items,t),u())},v.reject)};this._reader=this._textContentStream.getReader(),u()}}v.promise.then(()=>{t=null,w?this._renderTimer=setTimeout(()=>{W(this),this._renderTimer=null},w):W(this)},this._capability.reject)}expandTextDivs(w=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function B(A){const w=A._bounds,v=A._viewport,t=function G(A,w,v){const t=v.map(function(u,P){return{x1:u.left,y1:u.top,x2:u.right,y2:u.bottom,index:P,x1New:void 0,x2New:void 0}});_(A,t);const n=new Array(v.length);for(const u of t)n[u.index]={left:u.x1New,top:0,right:u.x2New,bottom:0};v.map(function(u,P){const d=n[P],b=t[P];b.x1=u.top,b.y1=A-d.right,b.x2=u.bottom,b.y2=A-d.left,b.index=P,b.x1New=void 0,b.x2New=void 0}),_(w,t);for(const u of t){const P=u.index;n[P].top=u.x1New,n[P].bottom=u.x2New}return n}(v.width,v.height,w);for(let n=0;n<t.length;n++){const u=w[n].div,P=A._textDivProperties.get(u);if(0===P.angle){P.paddingLeft=w[n].left-t[n].left,P.paddingTop=w[n].top-t[n].top,P.paddingRight=t[n].right-w[n].right,P.paddingBottom=t[n].bottom-w[n].bottom,A._textDivProperties.set(u,P);continue}const d=t[n],b=w[n],p=b.m,h=p[0],M=p[1],E=[[0,0],[0,b.size[1]],[b.size[0],0],b.size],N=new Float64Array(64);for(let te=0,ne=E.length;te<ne;te++){const se=i.Util.applyTransform(E[te],p);N[te+0]=h&&(d.left-se[0])/h,N[te+4]=M&&(d.top-se[1])/M,N[te+8]=h&&(d.right-se[0])/h,N[te+12]=M&&(d.bottom-se[1])/M,N[te+16]=M&&(d.left-se[0])/-M,N[te+20]=h&&(d.top-se[1])/h,N[te+24]=M&&(d.right-se[0])/-M,N[te+28]=h&&(d.bottom-se[1])/h,N[te+32]=h&&(d.left-se[0])/-h,N[te+36]=M&&(d.top-se[1])/-M,N[te+40]=h&&(d.right-se[0])/-h,N[te+44]=M&&(d.bottom-se[1])/-M,N[te+48]=M&&(d.left-se[0])/M,N[te+52]=h&&(d.top-se[1])/-h,N[te+56]=M&&(d.right-se[0])/M,N[te+60]=h&&(d.bottom-se[1])/-h}const J=1+Math.min(Math.abs(h),Math.abs(M));P.paddingLeft=q(N,32,16)/J,P.paddingTop=q(N,48,16)/J,P.paddingRight=q(N,0,16)/J,P.paddingBottom=q(N,16,16)/J,A._textDivProperties.set(u,P)}}(this),this._bounds=null);const v=[],t=[];for(let n=0,u=this._textDivs.length;n<u;n++){const P=this._textDivs[n],d=this._textDivProperties.get(P);d.hasText&&(w?(v.length=0,t.length=0,d.originalTransform&&v.push(d.originalTransform),d.paddingTop>0?(t.push(`${d.paddingTop}px`),v.push(`translateY(${-d.paddingTop}px)`)):t.push(0),t.push(d.paddingRight>0?d.paddingRight/d.scale+"px":0),t.push(d.paddingBottom>0?`${d.paddingBottom}px`:0),d.paddingLeft>0?(t.push(d.paddingLeft/d.scale+"px"),v.push(`translateX(${-d.paddingLeft/d.scale}px)`)):t.push(0),P.style.padding=t.join(" "),v.length&&(P.style.transform=v.join(" "))):(P.style.padding=null,P.style.transform=d.originalTransform))}}}},($,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SVGGraphics=void 0;var i=S(1),O=S(5),R=S(3);let H=class{constructor(){(0,i.unreachable)("Not implemented: SVGGraphics")}};a.SVGGraphics=H;{let _=function(t){let n=[];const u=[];for(const P of t)"save"!==P.fn?"restore"===P.fn?n=u.pop():n.push(P):(n.push({fnId:92,fn:"group",items:[]}),u.push(n),n=n[n.length-1].items);return n},l=function(t){if(Number.isInteger(t))return t.toString();const n=t.toFixed(10);let u=n.length-1;if("0"!==n[u])return n;do{u--}while("0"===n[u]);return n.substring(0,"."===n[u]?u:u+1)},m=function(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":`scale(${l(t[0])} ${l(t[3])})`;if(t[0]===t[3]&&t[1]===-t[2]){const n=180*Math.acos(t[0])/Math.PI;return`rotate(${l(n)})`}}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return`translate(${l(t[4])} ${l(t[5])})`;return`matrix(${l(t[0])} ${l(t[1])} ${l(t[2])} ${l(t[3])} ${l(t[4])} ${l(t[5])})`};const x={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},T="http://www.w3.org/XML/1998/namespace",y="http://www.w3.org/1999/xlink",I=["butt","round","square"],W=["miter","round","bevel"],q=function(t,n="",u=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!u)return URL.createObjectURL(new Blob([t],{type:n}));const P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let d=`data:${n};base64,`;for(let b=0,p=t.length;b<p;b+=3){const h=255&t[b],M=255&t[b+1],E=255&t[b+2];d+=P[h>>2]+P[(3&h)<<4|M>>4]+P[b+1<p?(15&M)<<2|E>>6:64]+P[b+2<p?63&E:64]}return d},B=function(){const t=new Uint8Array([137,80,78,71,13,10,26,10]),n=12,u=new Int32Array(256);for(let E=0;E<256;E++){let N=E;for(let J=0;J<8;J++)N=1&N?3988292384^N>>1&2147483647:N>>1&2147483647;u[E]=N}function d(E,N,J,te){let ne=te;const se=N.length;J[ne]=se>>24&255,J[ne+1]=se>>16&255,J[ne+2]=se>>8&255,J[ne+3]=255&se,ne+=4,J[ne]=255&E.charCodeAt(0),J[ne+1]=255&E.charCodeAt(1),J[ne+2]=255&E.charCodeAt(2),J[ne+3]=255&E.charCodeAt(3),ne+=4,J.set(N,ne),ne+=N.length;const fe=function P(E,N,J){let te=-1;for(let ne=N;ne<J;ne++)te=te>>>8^u[255&(te^E[ne])];return-1^te}(J,te+4,ne);J[ne]=fe>>24&255,J[ne+1]=fe>>16&255,J[ne+2]=fe>>8&255,J[ne+3]=255&fe}function h(E){let N=E.length;const J=65535,te=Math.ceil(N/J),ne=new Uint8Array(2+N+5*te+4);let se=0;ne[se++]=120,ne[se++]=156;let fe=0;for(;N>J;)ne[se++]=0,ne[se++]=255,ne[se++]=255,ne[se++]=0,ne[se++]=0,ne.set(E.subarray(fe,fe+J),se),se+=J,fe+=J,N-=J;ne[se++]=1,ne[se++]=255&N,ne[se++]=N>>8&255,ne[se++]=255&~N,ne[se++]=(65535&~N)>>8&255,ne.set(E.subarray(fe),se),se+=E.length-fe;const ue=function b(E,N,J){let te=1,ne=0;for(let se=N;se<J;++se)te=(te+(255&E[se]))%65521,ne=(ne+te)%65521;return ne<<16|te}(E,0,E.length);return ne[se++]=ue>>24&255,ne[se++]=ue>>16&255,ne[se++]=ue>>8&255,ne[se++]=255&ue,ne}return function(N,J,te){return function M(E,N,J,te){const ne=E.width,se=E.height;let fe,ue,F;const s=E.data;switch(N){case i.ImageKind.GRAYSCALE_1BPP:ue=0,fe=1,F=ne+7>>3;break;case i.ImageKind.RGB_24BPP:ue=2,fe=8,F=3*ne;break;case i.ImageKind.RGBA_32BPP:ue=6,fe=8,F=4*ne;break;default:throw new Error("invalid format")}const e=new Uint8Array((1+F)*se);let r=0,o=0;for(let V=0;V<se;++V)e[r++]=0,e.set(s.subarray(o,o+F),r),o+=F,r+=F;if(N===i.ImageKind.GRAYSCALE_1BPP&&te){r=0;for(let V=0;V<se;V++){r++;for(let K=0;K<F;K++)e[r++]^=255}}const g=new Uint8Array([ne>>24&255,ne>>16&255,ne>>8&255,255&ne,se>>24&255,se>>16&255,se>>8&255,255&se,fe,ue,0,0,0]),f=function p(E){if(!R.isNodeJS)return h(E);try{let N;N=parseInt(process.versions.node)>=8?E:Buffer.from(E);const J=__webpack_require__(2258).deflateSync(N,{level:9});return J instanceof Uint8Array?J:new Uint8Array(J)}catch(N){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+N)}return h(E)}(e),k=new Uint8Array(t.length+3*n+g.length+f.length);let Q=0;return k.set(t,Q),Q+=t.length,d("IHDR",g,k,Q),Q+=n+g.length,d("IDATA",f,k,Q),Q+=n+f.length,d("IEND",new Uint8Array(0),k,Q),q(k,"image/png",J)}(N,void 0===N.kind?i.ImageKind.GRAYSCALE_1BPP:N.kind,J,te)}}();class G{constructor(){this.fontSizeScale=1,this.fontWeight=x.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=x.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(n,u){this.x=n,this.y=u}}let A=0,w=0,v=0;a.SVGGraphics=H=class{constructor(t,n,u=!1){this.svgFactory=new O.DOMSVGFactory,this.current=new G,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=n,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!u,this._operatorIdMapping=[];for(const P in i.OPS)this._operatorIdMapping[i.OPS[P]]=P}save(){this.transformStack.push(this.transformMatrix);const t=this.current;this.extraStack.push(t),this.current=t.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(t){this.save(),this.executeOpTree(t),this.restore()}loadDependencies(t){const n=t.fnArray,u=t.argsArray;for(let P=0,d=n.length;P<d;P++)if(n[P]===i.OPS.dependency)for(const b of u[P]){const p=b.startsWith("g_")?this.commonObjs:this.objs,h=new Promise(M=>{p.get(b,M)});this.current.dependencies.push(h)}return Promise.all(this.current.dependencies)}transform(t,n,u,P,d,b){this.transformMatrix=i.Util.transform(this.transformMatrix,[t,n,u,P,d,b]),this.tgrp=null}getSVG(t,n){this.viewport=n;const u=this._initialize(n);return this.loadDependencies(t).then(()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(t)),u))}convertOpList(t){const n=this._operatorIdMapping,u=t.argsArray,P=t.fnArray,d=[];for(let b=0,p=P.length;b<p;b++){const h=P[b];d.push({fnId:h,fn:n[h],args:u[b]})}return _(d)}executeOpTree(t){for(const n of t){const u=n.fn,d=n.args;switch(0|n.fnId){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(d);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(d[0],d[1]);break;case i.OPS.setFont:this.setFont(d);break;case i.OPS.showText:case i.OPS.showSpacedText:this.showText(d[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(d[0],d[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(d[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(d[0]);break;case i.OPS.setHScale:this.setHScale(d[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(d[0],d[1],d[2],d[3],d[4],d[5]);break;case i.OPS.setTextRise:this.setTextRise(d[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(d[0]);break;case i.OPS.setLineWidth:this.setLineWidth(d[0]);break;case i.OPS.setLineJoin:this.setLineJoin(d[0]);break;case i.OPS.setLineCap:this.setLineCap(d[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(d[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(d[0],d[1],d[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(d[0],d[1],d[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(d);break;case i.OPS.setFillColorN:this.setFillColorN(d);break;case i.OPS.shadingFill:this.shadingFill(d[0]);break;case i.OPS.setDash:this.setDash(d[0],d[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(d[0]);break;case i.OPS.setFlatness:this.setFlatness(d[0]);break;case i.OPS.setGState:this.setGState(d[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(d[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(d[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(d[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(d[0],d[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(d[0],d[1],d[2],d[3],d[4],d[5]);break;case i.OPS.constructPath:this.constructPath(d[0],d[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(n.items);break;default:(0,i.warn)(`Unimplemented operator ${u}`)}}}setWordSpacing(t){this.current.wordSpacing=t}setCharSpacing(t){this.current.charSpacing=t}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(t,n,u,P,d,b){const p=this.current;p.textMatrix=p.lineMatrix=[t,n,u,P,d,b],p.textMatrixScale=Math.hypot(t,n),p.x=p.lineX=0,p.y=p.lineY=0,p.xcoords=[],p.ycoords=[],p.tspan=this.svgFactory.createElement("svg:tspan"),p.tspan.setAttributeNS(null,"font-family",p.fontFamily),p.tspan.setAttributeNS(null,"font-size",`${l(p.fontSize)}px`),p.tspan.setAttributeNS(null,"y",l(-p.y)),p.txtElement=this.svgFactory.createElement("svg:text"),p.txtElement.appendChild(p.tspan)}beginText(){const t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=i.IDENTITY_MATRIX,t.lineMatrix=i.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[],t.ycoords=[]}moveText(t,n){const u=this.current;u.x=u.lineX+=t,u.y=u.lineY+=n,u.xcoords=[],u.ycoords=[],u.tspan=this.svgFactory.createElement("svg:tspan"),u.tspan.setAttributeNS(null,"font-family",u.fontFamily),u.tspan.setAttributeNS(null,"font-size",`${l(u.fontSize)}px`),u.tspan.setAttributeNS(null,"y",l(-u.y))}showText(t){const n=this.current,u=n.font,P=n.fontSize;if(0===P)return;const d=n.fontSizeScale,b=n.charSpacing,p=n.wordSpacing,h=n.fontDirection,M=n.textHScale*h,E=u.vertical,N=E?1:-1,J=u.defaultVMetrics,te=P*n.fontMatrix[0];let ne=0;for(const ue of t){if(null===ue){ne+=h*p;continue}if("number"==typeof ue){ne+=N*ue*P/1e3;continue}const F=(ue.isSpace?p:0)+b,s=ue.fontChar;let e,r,g,o=ue.width;if(E){let f;const c=ue.vmetric||J;f=ue.vmetric?c[1]:.5*o,f=-f*te,o=c?-c[0]:o,e=f/d,r=(ne+c[2]*te)/d}else e=ne/d,r=0;(ue.isInFont||u.missingFile)&&(n.xcoords.push(n.x+e),E&&n.ycoords.push(-n.y+r),n.tspan.textContent+=s),g=E?o*te-F*h:o*te+F*h,ne+=g}n.tspan.setAttributeNS(null,"x",n.xcoords.map(l).join(" ")),n.tspan.setAttributeNS(null,"y",E?n.ycoords.map(l).join(" "):l(-n.y)),E?n.y-=ne:n.x+=ne*M,n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",`${l(n.fontSize)}px`),n.fontStyle!==x.fontStyle&&n.tspan.setAttributeNS(null,"font-style",n.fontStyle),n.fontWeight!==x.fontWeight&&n.tspan.setAttributeNS(null,"font-weight",n.fontWeight);const se=n.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;se===i.TextRenderingMode.FILL||se===i.TextRenderingMode.FILL_STROKE?(n.fillColor!==x.fillColor&&n.tspan.setAttributeNS(null,"fill",n.fillColor),n.fillAlpha<1&&n.tspan.setAttributeNS(null,"fill-opacity",n.fillAlpha)):n.tspan.setAttributeNS(null,"fill",n.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(se===i.TextRenderingMode.STROKE||se===i.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(n.tspan,1/(n.textMatrixScale||1));let fe=n.textMatrix;0!==n.textRise&&(fe=fe.slice(),fe[5]+=n.textRise),n.txtElement.setAttributeNS(null,"transform",`${m(fe)} scale(${l(M)}, -1)`),n.txtElement.setAttributeNS(T,"xml:space","preserve"),n.txtElement.appendChild(n.tspan),n.txtgrp.appendChild(n.txtElement),this._ensureTransformGroup().appendChild(n.txtElement)}setLeadingMoveText(t,n){this.setLeading(-n),this.moveText(t,n)}addFontStyle(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const n=q(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${t.loadedName}"; src: url(${n}); }\n`}setFont(t){const n=this.current,u=this.commonObjs.get(t[0]);let P=t[1];n.font=u,this.embedFonts&&!u.missingFile&&!this.embeddedFonts[u.loadedName]&&(this.addFontStyle(u),this.embeddedFonts[u.loadedName]=u),n.fontMatrix=u.fontMatrix||i.FONT_IDENTITY_MATRIX;let d="normal";u.black?d="900":u.bold&&(d="bold");const b=u.italic?"italic":"normal";P<0?(P=-P,n.fontDirection=-1):n.fontDirection=1,n.fontSize=P,n.fontFamily=u.loadedName,n.fontWeight=d,n.fontStyle=b,n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"y",l(-n.y)),n.xcoords=[],n.ycoords=[]}endText(){const t=this.current;t.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&t.txtElement?.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(t){t>0&&(this.current.lineWidth=t)}setLineCap(t){this.current.lineCap=I[t]}setLineJoin(t){this.current.lineJoin=W[t]}setMiterLimit(t){this.current.miterLimit=t}setStrokeAlpha(t){this.current.strokeAlpha=t}setStrokeRGBColor(t,n,u){this.current.strokeColor=i.Util.makeHexColor(t,n,u)}setFillAlpha(t){this.current.fillAlpha=t}setFillRGBColor(t,n,u){this.current.fillColor=i.Util.makeHexColor(t,n,u),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(t){this.current.strokeColor=this._makeColorN_Pattern(t)}setFillColorN(t){this.current.fillColor=this._makeColorN_Pattern(t)}shadingFill(t){const n=this.viewport.width,u=this.viewport.height,P=i.Util.inverseTransform(this.transformMatrix),d=i.Util.applyTransform([0,0],P),b=i.Util.applyTransform([0,u],P),p=i.Util.applyTransform([n,0],P),h=i.Util.applyTransform([n,u],P),M=Math.min(d[0],b[0],p[0],h[0]),E=Math.min(d[1],b[1],p[1],h[1]),N=Math.max(d[0],b[0],p[0],h[0]),J=Math.max(d[1],b[1],p[1],h[1]),te=this.svgFactory.createElement("svg:rect");te.setAttributeNS(null,"x",M),te.setAttributeNS(null,"y",E),te.setAttributeNS(null,"width",N-M),te.setAttributeNS(null,"height",J-E),te.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this.current.fillAlpha<1&&te.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(te)}_makeColorN_Pattern(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}_makeTilingPattern(t){const n=t[1],u=t[2],P=t[3]||i.IDENTITY_MATRIX,[d,b,p,h]=t[4],M=t[5],E=t[6],N=t[7],J="shading"+v++,[te,ne,se,fe]=i.Util.normalizeRect([...i.Util.applyTransform([d,b],P),...i.Util.applyTransform([p,h],P)]),[ue,F]=i.Util.singularValueDecompose2dScale(P),s=M*ue,e=E*F,r=this.svgFactory.createElement("svg:pattern");r.setAttributeNS(null,"id",J),r.setAttributeNS(null,"patternUnits","userSpaceOnUse"),r.setAttributeNS(null,"width",s),r.setAttributeNS(null,"height",e),r.setAttributeNS(null,"x",`${te}`),r.setAttributeNS(null,"y",`${ne}`);const o=this.svg,g=this.transformMatrix,f=this.current.fillColor,c=this.current.strokeColor,k=this.svgFactory.create(se-te,fe-ne);if(this.svg=k,this.transformMatrix=P,2===N){const Q=i.Util.makeHexColor(...n);this.current.fillColor=Q,this.current.strokeColor=Q}return this.executeOpTree(this.convertOpList(u)),this.svg=o,this.transformMatrix=g,this.current.fillColor=f,this.current.strokeColor=c,r.appendChild(k.childNodes[0]),this.defs.appendChild(r),`url(#${J})`}_makeShadingPattern(t){switch("string"==typeof t&&(t=this.objs.get(t)),t[0]){case"RadialAxial":const n="shading"+v++,u=t[3];let P;switch(t[1]){case"axial":const d=t[4],b=t[5];P=this.svgFactory.createElement("svg:linearGradient"),P.setAttributeNS(null,"id",n),P.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),P.setAttributeNS(null,"x1",d[0]),P.setAttributeNS(null,"y1",d[1]),P.setAttributeNS(null,"x2",b[0]),P.setAttributeNS(null,"y2",b[1]);break;case"radial":const p=t[4],h=t[5],M=t[6],E=t[7];P=this.svgFactory.createElement("svg:radialGradient"),P.setAttributeNS(null,"id",n),P.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),P.setAttributeNS(null,"cx",h[0]),P.setAttributeNS(null,"cy",h[1]),P.setAttributeNS(null,"r",E),P.setAttributeNS(null,"fx",p[0]),P.setAttributeNS(null,"fy",p[1]),P.setAttributeNS(null,"fr",M);break;default:throw new Error(`Unknown RadialAxial type: ${t[1]}`)}for(const d of u){const b=this.svgFactory.createElement("svg:stop");b.setAttributeNS(null,"offset",d[0]),b.setAttributeNS(null,"stop-color",d[1]),P.appendChild(b)}return this.defs.appendChild(P),`url(#${n})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${t[0]}`)}}setDash(t,n){this.current.dashArray=t,this.current.dashPhase=n}constructPath(t,n){const u=this.current;let P=u.x,d=u.y,b=[],p=0;for(const h of t)switch(0|h){case i.OPS.rectangle:P=n[p++],d=n[p++];const N=P+n[p++],J=d+n[p++];b.push("M",l(P),l(d),"L",l(N),l(d),"L",l(N),l(J),"L",l(P),l(J),"Z");break;case i.OPS.moveTo:P=n[p++],d=n[p++],b.push("M",l(P),l(d));break;case i.OPS.lineTo:P=n[p++],d=n[p++],b.push("L",l(P),l(d));break;case i.OPS.curveTo:P=n[p+4],d=n[p+5],b.push("C",l(n[p]),l(n[p+1]),l(n[p+2]),l(n[p+3]),l(P),l(d)),p+=6;break;case i.OPS.curveTo2:b.push("C",l(P),l(d),l(n[p]),l(n[p+1]),l(n[p+2]),l(n[p+3])),P=n[p+2],d=n[p+3],p+=4;break;case i.OPS.curveTo3:P=n[p+2],d=n[p+3],b.push("C",l(n[p]),l(n[p+1]),l(P),l(d),l(P),l(d)),p+=4;break;case i.OPS.closePath:b.push("Z")}b=b.join(" "),u.path&&t.length>0&&t[0]!==i.OPS.rectangle&&t[0]!==i.OPS.moveTo?b=u.path.getAttributeNS(null,"d")+b:(u.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(u.path)),u.path.setAttributeNS(null,"d",b),u.path.setAttributeNS(null,"fill","none"),u.element=u.path,u.setCurrentPoint(P,d)}endPath(){const t=this.current;if(t.path=null,!this.pendingClip)return;if(!t.element)return void(this.pendingClip=null);const n="clippath"+A++,u=this.svgFactory.createElement("svg:clipPath");u.setAttributeNS(null,"id",n),u.setAttributeNS(null,"transform",m(this.transformMatrix));const P=t.element.cloneNode(!0);if(P.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,u.appendChild(P),this.defs.appendChild(u),t.activeClipUrl){t.clipGroup=null;for(const d of this.extraStack)d.clipGroup=null;u.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl=`url(#${n})`,this.tgrp=null}clip(t){this.pendingClip=t}closePath(){const t=this.current;if(t.path){const n=`${t.path.getAttributeNS(null,"d")}Z`;t.path.setAttributeNS(null,"d",n)}}setLeading(t){this.current.leading=-t}setTextRise(t){this.current.textRise=t}setTextRenderingMode(t){this.current.textRenderingMode=t}setHScale(t){this.current.textHScale=t/100}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[n,u]of t)switch(n){case"LW":this.setLineWidth(u);break;case"LC":this.setLineCap(u);break;case"LJ":this.setLineJoin(u);break;case"ML":this.setMiterLimit(u);break;case"D":this.setDash(u[0],u[1]);break;case"RI":this.setRenderingIntent(u);break;case"FL":this.setFlatness(u);break;case"Font":this.setFont(u);break;case"CA":this.setStrokeAlpha(u);break;case"ca":this.setFillAlpha(u);break;default:(0,i.warn)(`Unimplemented graphic state operator ${n}`)}}fill(){const t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}stroke(){const t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(t,n=1){const u=this.current;let P=u.dashArray;1!==n&&P.length>0&&(P=P.map(function(d){return n*d})),t.setAttributeNS(null,"stroke",u.strokeColor),t.setAttributeNS(null,"stroke-opacity",u.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",l(u.miterLimit)),t.setAttributeNS(null,"stroke-linecap",u.lineCap),t.setAttributeNS(null,"stroke-linejoin",u.lineJoin),t.setAttributeNS(null,"stroke-width",l(n*u.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",P.map(l).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",l(n*u.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(t)}paintImageXObject(t){const n=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);n?this.paintInlineImageXObject(n):(0,i.warn)(`Dependent image with object ID ${t} is not ready yet`)}paintInlineImageXObject(t,n){const u=t.width,P=t.height,d=B(t,this.forceDataSchema,!!n),b=this.svgFactory.createElement("svg:rect");b.setAttributeNS(null,"x","0"),b.setAttributeNS(null,"y","0"),b.setAttributeNS(null,"width",l(u)),b.setAttributeNS(null,"height",l(P)),this.current.element=b,this.clip("nonzero");const p=this.svgFactory.createElement("svg:image");p.setAttributeNS(y,"xlink:href",d),p.setAttributeNS(null,"x","0"),p.setAttributeNS(null,"y",l(-P)),p.setAttributeNS(null,"width",l(u)+"px"),p.setAttributeNS(null,"height",l(P)+"px"),p.setAttributeNS(null,"transform",`scale(${l(1/u)} ${l(-1/P)})`),n?n.appendChild(p):this._ensureTransformGroup().appendChild(p)}paintImageMaskXObject(t){const n=this.current,u=t.width,P=t.height,d=n.fillColor;n.maskId="mask"+w++;const b=this.svgFactory.createElement("svg:mask");b.setAttributeNS(null,"id",n.maskId);const p=this.svgFactory.createElement("svg:rect");p.setAttributeNS(null,"x","0"),p.setAttributeNS(null,"y","0"),p.setAttributeNS(null,"width",l(u)),p.setAttributeNS(null,"height",l(P)),p.setAttributeNS(null,"fill",d),p.setAttributeNS(null,"mask",`url(#${n.maskId})`),this.defs.appendChild(b),this._ensureTransformGroup().appendChild(p),this.paintInlineImageXObject(t,b)}paintFormXObjectBegin(t,n){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),n){const u=n[2]-n[0],P=n[3]-n[1],d=this.svgFactory.createElement("svg:rect");d.setAttributeNS(null,"x",n[0]),d.setAttributeNS(null,"y",n[1]),d.setAttributeNS(null,"width",l(u)),d.setAttributeNS(null,"height",l(P)),this.current.element=d,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(t){const n=this.svgFactory.create(t.width,t.height),u=this.svgFactory.createElement("svg:defs");n.appendChild(u),this.defs=u;const P=this.svgFactory.createElement("svg:g");return P.setAttributeNS(null,"transform",m(t.transform)),n.appendChild(P),this.svg=P,n}_ensureClipGroup(){if(!this.current.clipGroup){const t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(t),this.current.clipGroup=t}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",m(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},($,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNodeStream=void 0;var i=S(1),O=S(26);const R=__webpack_require__(172),H=__webpack_require__(2001),x=__webpack_require__(3779),T=__webpack_require__(6558),y=/^file:\/\/\/[a-zA-Z]:\//;a.PDFNodeStream=class W{constructor(v){this.source=v,this.url=function I(w){const v=T.parse(w);return"file:"===v.protocol||v.host?v:/^[a-z]:[/\\]/i.test(w)?T.parse(`file:///${w}`):(v.host||(v.protocol="file:"),v)}(v.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&v.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new m(this):new _(this),this._fullRequestReader}getRangeReader(v,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new A(this,v,t):new l(this,v,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(v){this._fullRequestReader&&this._fullRequestReader.cancel(v);for(const t of this._rangeRequestReaders.slice(0))t.cancel(v)}};class q{constructor(v){this._url=v.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=v.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._headersCapability=(0,i.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var v=this;return _asyncToGenerator(function*(){if(yield v._readCapability.promise,v._done)return{value:void 0,done:!0};if(v._storedError)throw v._storedError;const t=v._readableStream.read();return null===t?(v._readCapability=(0,i.createPromiseCapability)(),v.read()):(v._loaded+=t.length,v.onProgress&&v.onProgress({loaded:v._loaded,total:v._contentLength}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(v){this._readableStream?this._readableStream.destroy(v):this._error(v)}_error(v){this._storedError=v,this._readCapability.resolve()}_setReadableStream(v){this._readableStream=v,v.on("readable",()=>{this._readCapability.resolve()}),v.on("end",()=>{v.destroy(),this._done=!0,this._readCapability.resolve()}),v.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class B{constructor(v){this._url=v.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!v.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var v=this;return _asyncToGenerator(function*(){if(yield v._readCapability.promise,v._done)return{value:void 0,done:!0};if(v._storedError)throw v._storedError;const t=v._readableStream.read();return null===t?(v._readCapability=(0,i.createPromiseCapability)(),v.read()):(v._loaded+=t.length,v.onProgress&&v.onProgress({loaded:v._loaded}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(v){this._readableStream?this._readableStream.destroy(v):this._error(v)}_error(v){this._storedError=v,this._readCapability.resolve()}_setReadableStream(v){this._readableStream=v,v.on("readable",()=>{this._readCapability.resolve()}),v.on("end",()=>{v.destroy(),this._done=!0,this._readCapability.resolve()}),v.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function G(w,v){return{protocol:w.protocol,auth:w.auth,host:w.hostname,port:w.port,path:w.path,method:"GET",headers:v}}class _ extends q{constructor(v){super(v);const t=n=>{if(404===n.statusCode){const b=new i.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=b,void this._headersCapability.reject(b)}this._headersCapability.resolve(),this._setReadableStream(n);const u=b=>this._readableStream.headers[b.toLowerCase()],{allowRangeRequests:P,suggestedLength:d}=(0,O.validateRangeRequestCapabilities)({getResponseHeader:u,isHttp:v.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=P,this._contentLength=d||this._contentLength,this._filename=(0,O.extractFilenameFromHeader)(u)};this._request=null,this._request="http:"===this._url.protocol?H.request(G(this._url,v.httpHeaders),t):x.request(G(this._url,v.httpHeaders),t),this._request.on("error",n=>{this._storedError=n,this._headersCapability.reject(n)}),this._request.end()}}class l extends B{constructor(v,t,n){super(v),this._httpHeaders={};for(const P in v.httpHeaders){const d=v.httpHeaders[P];typeof d>"u"||(this._httpHeaders[P]=d)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;const u=P=>{if(404!==P.statusCode)this._setReadableStream(P);else{const d=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=d}};this._request=null,this._request="http:"===this._url.protocol?H.request(G(this._url,this._httpHeaders),u):x.request(G(this._url,this._httpHeaders),u),this._request.on("error",P=>{this._storedError=P}),this._request.end()}}class m extends q{constructor(v){super(v);let t=decodeURIComponent(this._url.path);y.test(this._url.href)&&(t=t.replace(/^\//,"")),R.lstat(t,(n,u)=>{if(n)return"ENOENT"===n.code&&(n=new i.MissingPDFException(`Missing PDF "${t}".`)),this._storedError=n,void this._headersCapability.reject(n);this._contentLength=u.size,this._setReadableStream(R.createReadStream(t)),this._headersCapability.resolve()})}}class A extends B{constructor(v,t,n){super(v);let u=decodeURIComponent(this._url.path);y.test(this._url.href)&&(u=u.replace(/^\//,"")),this._setReadableStream(R.createReadStream(u,{start:t,end:n-1}))}}},($,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createResponseStatusError=function T(I,W){return 404===I||0===I&&W.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+W+'".'):new i.UnexpectedResponseException(`Unexpected server response (${I}) while retrieving PDF "${W}".`,I)},a.extractFilenameFromHeader=function x(I){const W=I("Content-Disposition");if(W){let q=(0,O.getFilenameFromContentDispositionHeader)(W);if(q.includes("%"))try{q=decodeURIComponent(q)}catch{}if((0,R.isPdfFile)(q))return q}return null},a.validateRangeRequestCapabilities=function H({getResponseHeader:I,isHttp:W,rangeChunkSize:q,disableRange:B}){const G={allowRangeRequests:!1,suggestedLength:void 0},_=parseInt(I("Content-Length"),10);return!Number.isInteger(_)||(G.suggestedLength=_,_<=2*q)||B||!W||"bytes"!==I("Accept-Ranges")||"identity"!==(I("Content-Encoding")||"identity")||(G.allowRangeRequests=!0),G},a.validateResponseStatus=function y(I){return 200===I||206===I};var i=S(1),O=S(27),R=S(5)},($,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getFilenameFromContentDispositionHeader=function O(R){let H=!0,x=T("filename\\*","i").exec(R);if(x){x=x[1];let _=q(x);return _=unescape(_),_=B(_),_=G(_),I(_)}if(x=function W(_){const l=[];let m;const A=T("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(m=A.exec(_));){let[,v,t,n]=m;if(v=parseInt(v,10),v in l){if(0===v)break}else l[v]=[t,n]}const w=[];for(let v=0;v<l.length&&v in l;++v){let[t,n]=l[v];n=q(n),t&&(n=unescape(n),0===v&&(n=B(n))),w.push(n)}return w.join("")}(R),x)return I(G(x));if(x=T("filename","i").exec(R),x){x=x[1];let _=q(x);return _=G(_),I(_)}function T(_,l){return new RegExp("(?:^|;)\\s*"+_+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',l)}function y(_,l){if(_){if(!/^[\x00-\xFF]+$/.test(l))return l;try{const m=new TextDecoder(_,{fatal:!0}),A=(0,i.stringToBytes)(l);l=m.decode(A),H=!1}catch{}}return l}function I(_){return H&&/[\x80-\xff]/.test(_)&&(_=y("utf-8",_),H&&(_=y("iso-8859-1",_))),_}function q(_){if(_.startsWith('"')){const l=_.slice(1).split('\\"');for(let m=0;m<l.length;++m){const A=l[m].indexOf('"');-1!==A&&(l[m]=l[m].slice(0,A),l.length=m+1),l[m]=l[m].replace(/\\(.)/g,"$1")}_=l.join('"')}return _}function B(_){const l=_.indexOf("'");return-1===l?_:y(_.slice(0,l),_.slice(l+1).replace(/^[^']*'/,""))}function G(_){return!_.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(_)?_:_.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(l,m,A,w){if("q"===A||"Q"===A)return y(m,w=(w=w.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(v,t){return String.fromCharCode(parseInt(t,16))}));try{w=atob(w)}catch{}return y(m,w)})}return""};var i=S(1)},($,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNetworkStream=void 0;var i=S(1),O=S(26);class T{constructor(B,G={}){this.url=B,this.isHttp=/^https?:/i.test(B),this.httpHeaders=this.isHttp&&G.httpHeaders||Object.create(null),this.withCredentials=G.withCredentials||!1,this.getXhr=G.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(B,G,_){const l={begin:B,end:G};for(const m in _)l[m]=_[m];return this.request(l)}requestFull(B){return this.request(B)}request(B){const G=this.getXhr(),_=this.currXhrId++,l=this.pendingRequests[_]={xhr:G};G.open("GET",this.url),G.withCredentials=this.withCredentials;for(const m in this.httpHeaders){const A=this.httpHeaders[m];typeof A>"u"||G.setRequestHeader(m,A)}return this.isHttp&&"begin"in B&&"end"in B?(G.setRequestHeader("Range",`bytes=${B.begin}-${B.end-1}`),l.expectedStatus=206):l.expectedStatus=200,G.responseType="arraybuffer",B.onError&&(G.onerror=function(m){B.onError(G.status)}),G.onreadystatechange=this.onStateChange.bind(this,_),G.onprogress=this.onProgress.bind(this,_),l.onHeadersReceived=B.onHeadersReceived,l.onDone=B.onDone,l.onError=B.onError,l.onProgress=B.onProgress,G.send(null),_}onProgress(B,G){const _=this.pendingRequests[B];_&&_.onProgress?.(G)}onStateChange(B,G){const _=this.pendingRequests[B];if(!_)return;const l=_.xhr;if(l.readyState>=2&&_.onHeadersReceived&&(_.onHeadersReceived(),delete _.onHeadersReceived),4!==l.readyState||!(B in this.pendingRequests))return;if(delete this.pendingRequests[B],0===l.status&&this.isHttp)return void _.onError?.(l.status);const m=l.status||200;if((200!==m||206!==_.expectedStatus)&&m!==_.expectedStatus)return void _.onError?.(l.status);const w=function x(q){const B=q.response;return"string"!=typeof B?B:(0,i.stringToBytes)(B).buffer}(l);if(206===m){const v=l.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(v);_.onDone({begin:parseInt(t[1],10),chunk:w})}else w?_.onDone({begin:0,chunk:w}):_.onError?.(l.status)}getRequestXhr(B){return this.pendingRequests[B].xhr}isPendingRequest(B){return B in this.pendingRequests}abortRequest(B){const G=this.pendingRequests[B].xhr;delete this.pendingRequests[B],G.abort()}}a.PDFNetworkStream=class y{constructor(B){this._source=B,this._manager=new T(B.url,{httpHeaders:B.httpHeaders,withCredentials:B.withCredentials}),this._rangeChunkSize=B.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(B){const G=this._rangeRequestReaders.indexOf(B);G>=0&&this._rangeRequestReaders.splice(G,1)}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new I(this._manager,this._source),this._fullRequestReader}getRangeReader(B,G){const _=new W(this._manager,B,G);return _.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(_),_}cancelAllRequests(B){this._fullRequestReader?.cancel(B);for(const G of this._rangeRequestReaders.slice(0))G.cancel(B)}};class I{constructor(B,G){this._manager=B;const _={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=G.url,this._fullRequestId=B.requestFull(_),this._headersReceivedCapability=(0,i.createPromiseCapability)(),this._disableRange=G.disableRange||!1,this._contentLength=G.length,this._rangeChunkSize=G.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const B=this._fullRequestId,G=this._manager.getRequestXhr(B),_=A=>G.getResponseHeader(A),{allowRangeRequests:l,suggestedLength:m}=(0,O.validateRangeRequestCapabilities)({getResponseHeader:_,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});l&&(this._isRangeSupported=!0),this._contentLength=m||this._contentLength,this._filename=(0,O.extractFilenameFromHeader)(_),this._isRangeSupported&&this._manager.abortRequest(B),this._headersReceivedCapability.resolve()}_onDone(B){if(B&&(this._requests.length>0?this._requests.shift().resolve({value:B.chunk,done:!1}):this._cachedChunks.push(B.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const G of this._requests)G.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(B){this._storedError=(0,O.createResponseStatusError)(B,this._url),this._headersReceivedCapability.reject(this._storedError);for(const G of this._requests)G.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(B){this.onProgress?.({loaded:B.loaded,total:B.lengthComputable?B.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var B=this;return _asyncToGenerator(function*(){if(B._storedError)throw B._storedError;if(B._cachedChunks.length>0)return{value:B._cachedChunks.shift(),done:!1};if(B._done)return{value:void 0,done:!0};const G=(0,i.createPromiseCapability)();return B._requests.push(G),G.promise})()}cancel(B){this._done=!0,this._headersReceivedCapability.reject(B);for(const G of this._requests)G.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class W{constructor(B,G,_){this._manager=B;const l={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=B.url,this._requestId=B.requestRange(G,_,l),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(B){const G=B.chunk;this._requests.length>0?this._requests.shift().resolve({value:G,done:!1}):this._queuedChunk=G,this._done=!0;for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(B){this._storedError=(0,O.createResponseStatusError)(B,this._url);for(const G of this._requests)G.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(B){this.isStreamingSupported||this.onProgress?.({loaded:B.loaded})}get isStreamingSupported(){return!1}read(){var B=this;return _asyncToGenerator(function*(){if(B._storedError)throw B._storedError;if(null!==B._queuedChunk){const _=B._queuedChunk;return B._queuedChunk=null,{value:_,done:!1}}if(B._done)return{value:void 0,done:!0};const G=(0,i.createPromiseCapability)();return B._requests.push(G),G.promise})()}cancel(B){this._done=!0;for(const G of this._requests)G.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},($,a,S)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFFetchStream=void 0;var i=S(1),O=S(26);function R(I,W,q){return{method:"GET",headers:I,signal:q?.signal,mode:"cors",credentials:W?"include":"same-origin",redirect:"follow"}}function H(I){const W=new Headers;for(const q in I){const B=I[q];typeof B>"u"||W.append(q,B)}return W}a.PDFFetchStream=class x{constructor(W){this.source=W,this.isHttp=/^https?:/i.test(W.url),this.httpHeaders=this.isHttp&&W.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new T(this),this._fullRequestReader}getRangeReader(W,q){if(q<=this._progressiveDataLength)return null;const B=new y(this,W,q);return this._rangeRequestReaders.push(B),B}cancelAllRequests(W){this._fullRequestReader&&this._fullRequestReader.cancel(W);for(const q of this._rangeRequestReaders.slice(0))q.cancel(W)}};class T{constructor(W){this._stream=W,this._reader=null,this._loaded=0,this._filename=null;const q=W.source;this._withCredentials=q.withCredentials||!1,this._contentLength=q.length,this._headersCapability=(0,i.createPromiseCapability)(),this._disableRange=q.disableRange||!1,this._rangeChunkSize=q.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!q.disableStream,this._isRangeSupported=!q.disableRange,this._headers=H(this._stream.httpHeaders);const B=q.url;fetch(B,R(this._headers,this._withCredentials,this._abortController)).then(G=>{if(!(0,O.validateResponseStatus)(G.status))throw(0,O.createResponseStatusError)(G.status,B);this._reader=G.body.getReader(),this._headersCapability.resolve();const _=A=>G.headers.get(A),{allowRangeRequests:l,suggestedLength:m}=(0,O.validateRangeRequestCapabilities)({getResponseHeader:_,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=m||this._contentLength,this._filename=(0,O.extractFilenameFromHeader)(_),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new i.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var W=this;return _asyncToGenerator(function*(){yield W._headersCapability.promise;const{value:q,done:B}=yield W._reader.read();return B?{value:q,done:B}:(W._loaded+=q.byteLength,W.onProgress&&W.onProgress({loaded:W._loaded,total:W._contentLength}),{value:new Uint8Array(q).buffer,done:!1})})()}cancel(W){this._reader&&this._reader.cancel(W),this._abortController&&this._abortController.abort()}}class y{constructor(W,q,B){this._stream=W,this._reader=null,this._loaded=0;const G=W.source;this._withCredentials=G.withCredentials||!1,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!G.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=H(this._stream.httpHeaders),this._headers.append("Range",`bytes=${q}-${B-1}`);const _=G.url;fetch(_,R(this._headers,this._withCredentials,this._abortController)).then(l=>{if(!(0,O.validateResponseStatus)(l.status))throw(0,O.createResponseStatusError)(l.status,_);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var W=this;return _asyncToGenerator(function*(){yield W._readCapability.promise;const{value:q,done:B}=yield W._reader.read();return B?{value:q,done:B}:(W._loaded+=q.byteLength,W.onProgress&&W.onProgress({loaded:W._loaded}),{value:new Uint8Array(q).buffer,done:!1})})()}cancel(W){this._reader&&this._reader.cancel(W),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__($){var a=__webpack_module_cache__[$];if(void 0!==a)return a.exports;var S=__webpack_module_cache__[$]={exports:{}};return __webpack_modules__[$](S,S.exports,__w_pdfjs_require__),S.exports}var __webpack_exports__={};return(()=>{var $=__webpack_exports__;Object.defineProperty($,"__esModule",{value:!0}),Object.defineProperty($,"AnnotationLayer",{enumerable:!0,get:function(){return O.AnnotationLayer}}),Object.defineProperty($,"AnnotationMode",{enumerable:!0,get:function(){return a.AnnotationMode}}),Object.defineProperty($,"CMapCompressionType",{enumerable:!0,get:function(){return a.CMapCompressionType}}),Object.defineProperty($,"GlobalWorkerOptions",{enumerable:!0,get:function(){return R.GlobalWorkerOptions}}),Object.defineProperty($,"InvalidPDFException",{enumerable:!0,get:function(){return a.InvalidPDFException}}),Object.defineProperty($,"LoopbackPort",{enumerable:!0,get:function(){return S.LoopbackPort}}),Object.defineProperty($,"MissingPDFException",{enumerable:!0,get:function(){return a.MissingPDFException}}),Object.defineProperty($,"OPS",{enumerable:!0,get:function(){return a.OPS}}),Object.defineProperty($,"PDFDataRangeTransport",{enumerable:!0,get:function(){return S.PDFDataRangeTransport}}),Object.defineProperty($,"PDFDateString",{enumerable:!0,get:function(){return i.PDFDateString}}),Object.defineProperty($,"PDFWorker",{enumerable:!0,get:function(){return S.PDFWorker}}),Object.defineProperty($,"PasswordResponses",{enumerable:!0,get:function(){return a.PasswordResponses}}),Object.defineProperty($,"PermissionFlag",{enumerable:!0,get:function(){return a.PermissionFlag}}),Object.defineProperty($,"PixelsPerInch",{enumerable:!0,get:function(){return i.PixelsPerInch}}),Object.defineProperty($,"RenderingCancelledException",{enumerable:!0,get:function(){return i.RenderingCancelledException}}),Object.defineProperty($,"SVGGraphics",{enumerable:!0,get:function(){return T.SVGGraphics}}),Object.defineProperty($,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return a.UNSUPPORTED_FEATURES}}),Object.defineProperty($,"UnexpectedResponseException",{enumerable:!0,get:function(){return a.UnexpectedResponseException}}),Object.defineProperty($,"Util",{enumerable:!0,get:function(){return a.Util}}),Object.defineProperty($,"VerbosityLevel",{enumerable:!0,get:function(){return a.VerbosityLevel}}),Object.defineProperty($,"XfaLayer",{enumerable:!0,get:function(){return y.XfaLayer}}),Object.defineProperty($,"build",{enumerable:!0,get:function(){return S.build}}),Object.defineProperty($,"createPromiseCapability",{enumerable:!0,get:function(){return a.createPromiseCapability}}),Object.defineProperty($,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return a.createValidAbsoluteUrl}}),Object.defineProperty($,"getDocument",{enumerable:!0,get:function(){return S.getDocument}}),Object.defineProperty($,"getFilenameFromUrl",{enumerable:!0,get:function(){return i.getFilenameFromUrl}}),Object.defineProperty($,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return i.getPdfFilenameFromUrl}}),Object.defineProperty($,"getXfaPageViewport",{enumerable:!0,get:function(){return i.getXfaPageViewport}}),Object.defineProperty($,"isPdfFile",{enumerable:!0,get:function(){return i.isPdfFile}}),Object.defineProperty($,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty($,"renderTextLayer",{enumerable:!0,get:function(){return x.renderTextLayer}}),Object.defineProperty($,"shadow",{enumerable:!0,get:function(){return a.shadow}}),Object.defineProperty($,"version",{enumerable:!0,get:function(){return S.version}});var a=__w_pdfjs_require__(1),S=__w_pdfjs_require__(4),i=__w_pdfjs_require__(5),O=__w_pdfjs_require__(20),R=__w_pdfjs_require__(13),H=__w_pdfjs_require__(3),x=__w_pdfjs_require__(23),T=__w_pdfjs_require__(24),y=__w_pdfjs_require__(22);if(H.isNodeJS){const{PDFNodeStream:q}=__w_pdfjs_require__(25);(0,S.setPDFNetworkStreamFactory)(B=>new q(B))}else{const{PDFNetworkStream:q}=__w_pdfjs_require__(28),{PDFFetchStream:B}=__w_pdfjs_require__(29);(0,S.setPDFNetworkStreamFactory)(G=>(0,i.isValidFetchUrl)(G.url)?new B(G):new q(G))}})(),__webpack_exports__})(),module.exports=S()},2813:function($,a,S){var q,i=S(5661).default,O=S(1860).default,R=S(9159).default,H=S(5764).default,x=S(4467).default,T=S(468).default,y=S(7156).default;q=()=>(()=>{"use strict";var I=[,(G,_,l)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.DefaultXfaLayerFactory=_.DefaultTextLayerFactory=_.DefaultStructTreeLayerFactory=_.DefaultAnnotationLayerFactory=void 0;var m=l(2),A=l(4),w=l(5),v=l(7),t=l(8),n=l(9);_.DefaultAnnotationLayerFactory=class u{createAnnotationLayerBuilder(h,M,E=null,N="",J=!0,te=A.NullL10n,ne=!1,se=null,fe=null,ue=null,F=null){return new m.AnnotationLayerBuilder({pageDiv:h,pdfPage:M,imageResourcesPath:N,renderForms:J,linkService:new w.SimpleLinkService,l10n:te,annotationStorage:E,enableScripting:ne,hasJSActionsPromise:se,fieldObjectsPromise:ue,mouseState:fe,annotationCanvasMap:F})}},_.DefaultStructTreeLayerFactory=class P{createStructTreeLayerBuilder(h){return new v.StructTreeLayerBuilder({pdfPage:h})}},_.DefaultTextLayerFactory=class d{createTextLayerBuilder(h,M,E,N=!1,J,te){return new t.TextLayerBuilder({textLayerDiv:h,pageIndex:M,viewport:E,enhanceTextSelection:N,eventBus:J,highlighter:te})}},_.DefaultXfaLayerFactory=class b{createXfaLayerBuilder(h,M,E=null,N=null){return new n.XfaLayerBuilder({pageDiv:h,pdfPage:M,annotationStorage:E,linkService:new w.SimpleLinkService,xfaHtml:N})}}},(G,_,l)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.AnnotationLayerBuilder=void 0;var m=l(3),A=l(4);_.AnnotationLayerBuilder=class w{constructor({pageDiv:t,pdfPage:n,linkService:u,downloadManager:P,annotationStorage:d=null,imageResourcesPath:b="",renderForms:p=!0,l10n:h=A.NullL10n,enableScripting:M=!1,hasJSActionsPromise:E=null,fieldObjectsPromise:N=null,mouseState:J=null,annotationCanvasMap:te=null}){this.pageDiv=t,this.pdfPage=n,this.linkService=u,this.downloadManager=P,this.imageResourcesPath=b,this.renderForms=p,this.l10n=h,this.annotationStorage=d,this.enableScripting=M,this._hasJSActionsPromise=E,this._fieldObjectsPromise=N,this._mouseState=J,this._annotationCanvasMap=te,this.div=null,this._cancelled=!1}render(t,n="display"){var u=this;return y(function*(){const[P,d=!1,b=null]=yield Promise.all([u.pdfPage.getAnnotations({intent:n}),u._hasJSActionsPromise,u._fieldObjectsPromise]);if(u._cancelled||0===P.length)return;const p={viewport:t.clone({dontFlip:!0}),div:u.div,annotations:P,page:u.pdfPage,imageResourcesPath:u.imageResourcesPath,renderForms:u.renderForms,linkService:u.linkService,downloadManager:u.downloadManager,annotationStorage:u.annotationStorage,enableScripting:u.enableScripting,hasJSActions:d,fieldObjects:b,mouseState:u._mouseState,annotationCanvasMap:u._annotationCanvasMap};u.div?m.AnnotationLayer.update(p):(u.div=document.createElement("div"),u.div.className="annotationLayer",u.pageDiv.appendChild(u.div),p.div=u.div,m.AnnotationLayer.render(p),u.l10n.translate(u.div))})()}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},G=>{let _;_=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:S(6036),G.exports=_},(G,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.NullL10n=void 0,_.fixupLangCode=function w(n){return A[n?.toLowerCase()]||n},_.getL10nFallback=m;const l={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function m(n,u){switch(n){case"find_match_count":n=`find_match_count[${1===u.total?"one":"other"}]`;break;case"find_match_count_limit":n=`find_match_count_limit[${1===u.limit?"one":"other"}]`}return l[n]||""}const A={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};_.NullL10n={getLanguage:()=>y(function*(){return"en-us"})(),getDirection:()=>y(function*(){return"ltr"})(),get:(n,u=null,P=m(n,u))=>y(function*(){return function v(n,u){return u?n.replace(/\{\{\s*(\w+)\s*\}\}/g,(P,d)=>d in u?u[d]:"{{"+d+"}}"):n}(P,u)})(),translate:n=>y(function*(){})()}},(G,_,l)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.SimpleLinkService=_.PDFLinkService=_.LinkTarget=void 0;var m=l(6);const A="noopener noreferrer nofollow",w={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function v(p,{url:h,target:M,rel:E,enabled:N=!0}={}){if(!h||"string"!=typeof h)throw new Error('A valid "url" parameter must provided.');const J=(0,m.removeNullCharacters)(h);N?p.href=p.title=J:(p.href="",p.title=`Disabled: ${J}`,p.onclick=()=>!1);let te="";switch(M){case w.NONE:break;case w.SELF:te="_self";break;case w.BLANK:te="_blank";break;case w.PARENT:te="_parent";break;case w.TOP:te="_top"}p.target=te,p.rel="string"==typeof E?E:A}_.LinkTarget=w;var t=new WeakMap,n=new WeakSet;class u{constructor({eventBus:h,externalLinkTarget:M=null,externalLinkRel:E=null,ignoreDestinationZoom:N=!1}={}){O(this,n),R(this,t,{writable:!0,value:new Map}),this.eventBus=h,this.externalLinkTarget=M,this.externalLinkRel=E,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=N,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(h,M=null){this.baseUrl=M,this.pdfDocument=h,T(this,t).clear()}setViewer(h){this.pdfViewer=h}setHistory(h){this.pdfHistory=h}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(h){this.pdfViewer.currentPageNumber=h}get rotation(){return this.pdfViewer.pagesRotation}set rotation(h){this.pdfViewer.pagesRotation=h}goToDestination(h){var M=this;return y(function*(){if(!M.pdfDocument)return;let E,N;"string"==typeof h?(E=h,N=yield M.pdfDocument.getDestination(h)):(E=null,N=yield h),Array.isArray(N)?x(M,n,P).call(M,h,E,N):console.error(`PDFLinkService.goToDestination: "${N}" is not a valid destination array, for dest="${h}".`)})()}goToPage(h){if(!this.pdfDocument)return;const M="string"==typeof h&&this.pdfViewer.pageLabelToPageNumber(h)||0|h;Number.isInteger(M)&&M>0&&M<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(M)),this.pdfViewer.scrollPageIntoView({pageNumber:M})):console.error(`PDFLinkService.goToPage: "${h}" is not a valid page.`)}addLinkAttributes(h,M,E=!1){v(h,{url:M,target:E?w.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(h){if("string"==typeof h){if(h.length>0)return this.getAnchorUrl("#"+escape(h))}else if(Array.isArray(h)){const M=JSON.stringify(h);if(M.length>0)return this.getAnchorUrl("#"+escape(M))}return this.getAnchorUrl("")}getAnchorUrl(h){return(this.baseUrl||"")+h}setHash(h){if(!this.pdfDocument)return;let M,E;if(h.includes("=")){const N=(0,m.parseQueryString)(h);if(N.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:N.get("search").replace(/"/g,""),phraseSearch:"true"===N.get("phrase")}),N.has("page")&&(M=0|N.get("page")||1),N.has("zoom")){const J=N.get("zoom").split(","),te=J[0],ne=parseFloat(te);te.includes("Fit")?"Fit"===te||"FitB"===te?E=[null,{name:te}]:"FitH"===te||"FitBH"===te||"FitV"===te||"FitBV"===te?E=[null,{name:te},J.length>1?0|J[1]:null]:"FitR"===te?5!==J.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):E=[null,{name:te},0|J[1],0|J[2],0|J[3],0|J[4]]:console.error(`PDFLinkService.setHash: "${te}" is not a valid zoom value.`):E=[null,{name:"XYZ"},J.length>1?0|J[1]:null,J.length>2?0|J[2]:null,ne?ne/100:te]}E?this.pdfViewer.scrollPageIntoView({pageNumber:M||this.page,destArray:E,allowNegativeOffset:!0}):M&&(this.page=M),N.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:N.get("pagemode")}),N.has("nameddest")&&this.goToDestination(N.get("nameddest"))}else{E=unescape(h);try{E=JSON.parse(E),Array.isArray(E)||(E=E.toString())}catch{}if("string"==typeof E||H(u,u,d).call(u,E))return void this.goToDestination(E);console.error(`PDFLinkService.setHash: "${unescape(h)}" is not a valid destination.`)}}executeNamedAction(h){switch(h){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:h})}cachePageRef(h,M){if(!M)return;const E=0===M.gen?`${M.num}R`:`${M.num}R${M.gen}`;T(this,t).set(E,h)}_cachedPageNumber(h){if(!h)return null;const M=0===h.gen?`${h.num}R`:`${h.num}R${h.gen}`;return T(this,t).get(M)||null}isPageVisible(h){return this.pdfViewer.isPageVisible(h)}isPageCached(h){return this.pdfViewer.isPageCached(h)}}function P(p,h=null,M){const E=M[0];let N;if("object"==typeof E&&null!==E){if(N=this._cachedPageNumber(E),!N)return void this.pdfDocument.getPageIndex(E).then(J=>{this.cachePageRef(J+1,E),x(this,n,P).call(this,p,h,M)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${E}" is not a valid page reference, for dest="${p}".`)})}else{if(!Number.isInteger(E))return void console.error(`PDFLinkService.#goToDestinationHelper: "${E}" is not a valid destination reference, for dest="${p}".`);N=E+1}!N||N<1||N>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${N}" is not a valid page number, for dest="${p}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:h,explicitDest:M,pageNumber:N})),this.pdfViewer.scrollPageIntoView({pageNumber:N,destArray:M,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function d(p){if(!Array.isArray(p))return!1;const h=p.length;if(h<2)return!1;const M=p[0];if(!("object"==typeof M&&Number.isInteger(M.num)&&Number.isInteger(M.gen)||Number.isInteger(M)&&M>=0))return!1;const E=p[1];if("object"!=typeof E||"string"!=typeof E.name)return!1;let N=!0;switch(E.name){case"XYZ":if(5!==h)return!1;break;case"Fit":case"FitB":return 2===h;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==h)return!1;break;case"FitR":if(6!==h)return!1;N=!1;break;default:return!1}for(let J=2;J<h;J++){const te=p[J];if(!("number"==typeof te||N&&null===te))return!1}return!0}_.PDFLinkService=u,_.SimpleLinkService=class b{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(h){}get rotation(){return 0}set rotation(h){}goToDestination(h){return y(function*(){})()}goToPage(h){}addLinkAttributes(h,M,E=!1){v(h,{url:M,enabled:this.externalLinkEnabled})}getDestinationHash(h){return"#"}getAnchorUrl(h){return"#"}setHash(h){}executeNamedAction(h){}cachePageRef(h,M){}isPageVisible(h){return!0}isPageCached(h){return!0}}},(G,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.animationStarted=_.VERTICAL_PADDING=_.UNKNOWN_SCALE=_.TextLayerMode=_.SpreadMode=_.SidebarView=_.ScrollMode=_.SCROLLBAR_PADDING=_.RenderingStates=_.RendererType=_.ProgressBar=_.PresentationModeState=_.OutputScale=_.MIN_SCALE=_.MAX_SCALE=_.MAX_AUTO_SCALE=_.DEFAULT_SCALE_VALUE=_.DEFAULT_SCALE_DELTA=_.DEFAULT_SCALE=_.AutoPrintRegExp=void 0,_.apiPageLayoutToViewerModes=function Ce(ce){let pe=E.VERTICAL,he=N.NONE;switch(ce){case"SinglePage":pe=E.PAGE;break;case"OneColumn":break;case"TwoPageLeft":pe=E.PAGE;case"TwoColumnLeft":he=N.ODD;break;case"TwoPageRight":pe=E.PAGE;case"TwoColumnRight":he=N.EVEN}return{scrollMode:pe,spreadMode:he}},_.apiPageModeToSidebarView=function Ae(ce){switch(ce){case"UseNone":return p.NONE;case"UseThumbs":return p.THUMBS;case"UseOutlines":return p.OUTLINE;case"UseAttachments":return p.ATTACHMENTS;case"UseOC":return p.LAYERS}return p.NONE},_.approximateFraction=function r(ce){if(Math.floor(ce)===ce)return[ce,1];const pe=1/ce;if(pe>8)return[1,8];if(Math.floor(pe)===pe)return[1,pe];const C=ce>1?pe:ce;let X,ee=0,ae=1,ye=1,ge=1;for(;;){const D=ee+ye,j=ae+ge;if(j>8)break;C<=D/j?(ye=D,ge=j):(ee=D,ae=j)}return X=C-ee/ae<ye/ge-C?C===ce?[ee,ae]:[ae,ee]:C===ce?[ye,ge]:[ge,ye],X},_.backtrackBeforeAllVisibleElements=f,_.binarySearchFirstItem=e,_.getActiveOrFocusedElement=function Ee(){let ce=document,pe=ce.activeElement||ce.querySelector(":focus");for(;pe?.shadowRoot;)ce=pe.shadowRoot,pe=ce.activeElement||ce.querySelector(":focus");return pe},_.getPageSizeInches=function g({view:ce,userUnit:pe,rotate:he}){const[C,ee,ae,ye]=ce,ge=he%180!=0,X=(ae-C)/72*pe,D=(ye-ee)/72*pe;return{width:ge?D:X,height:ge?X:D}},_.getVisibleElements=function c({scrollEl:ce,views:pe,sortByVisibility:he=!1,horizontal:C=!1,rtl:ee=!1}){const ae=ce.scrollTop,ye=ae+ce.clientHeight,ge=ce.scrollLeft,X=ge+ce.clientWidth,U=[],le=new Set,L=pe.length;let z=e(pe,C?function j(be){const xe=be.div,we=xe.offsetLeft+xe.clientLeft;return ee?we<X:we+xe.clientWidth>ge}:function D(be){const xe=be.div;return xe.offsetTop+xe.clientTop+xe.clientHeight>ae});z>0&&z<L&&!C&&(z=f(z,pe,ae));let Z=C?X:-1;for(let be=z;be<L;be++){const xe=pe[be],we=xe.div,Me=we.offsetLeft+we.clientLeft,Te=we.offsetTop+we.clientTop,ke=we.clientWidth,Le=we.clientHeight,Ne=Me+ke,Re=Te+Le;if(-1===Z)Re>=ye&&(Z=Re);else if((C?Me:Te)>Z)break;if(Re<=ae||Te>=ye||Ne<=ge||Me>=X)continue;const De=Math.max(0,ae-Te)+Math.max(0,Re-ye),Ie=(ke-(Math.max(0,ge-Me)+Math.max(0,Ne-X)))/ke;U.push({id:xe.id,x:Me,y:Te,view:xe,percent:(Le-De)/Le*Ie*100|0,widthPercent:100*Ie|0}),le.add(xe.id)}const oe=U[0],me=U[U.length-1];return he&&U.sort(function(be,xe){const we=be.percent-xe.percent;return Math.abs(we)>.001?-we:be.id-xe.id}),{first:oe,last:me,views:U,ids:le}},_.isPortraitOrientation=function re(ce){return ce.width<=ce.height},_.isValidRotation=function K(ce){return Number.isInteger(ce)&&ce%90==0},_.isValidScrollMode=function Y(ce){return Number.isInteger(ce)&&Object.values(E).includes(ce)&&ce!==E.UNKNOWN},_.isValidSpreadMode=function ie(ce){return Number.isInteger(ce)&&Object.values(N).includes(ce)&&ce!==N.UNKNOWN},_.noContextMenuHandler=function k(ce){ce.preventDefault()},_.normalizeWheelEventDelta=function V(ce){let pe=Q(ce);return 0===ce.deltaMode?pe/=900:1===ce.deltaMode&&(pe/=30),pe},_.normalizeWheelEventDirection=Q,_.parseQueryString=function fe(ce){const pe=new Map;for(const[he,C]of new URLSearchParams(ce))pe.set(he.toLowerCase(),C);return pe},_.removeNullCharacters=function s(ce,pe=!1){return"string"!=typeof ce?(console.error("The argument must be a string."),ce):(pe&&(ce=ce.replace(F," ")),ce.replace(ue,""))},_.roundToDivide=function o(ce,pe){const he=ce%pe;return 0===he?ce:Math.round(ce-he+pe)},_.scrollIntoView=function ne(ce,pe,he=!1){let C=ce.offsetParent;if(!C)return void console.error("offsetParent is not set -- cannot scroll");let ee=ce.offsetTop+ce.clientTop,ae=ce.offsetLeft+ce.clientLeft;for(;C.clientHeight===C.scrollHeight&&C.clientWidth===C.scrollWidth||he&&(C.classList.contains("markedContent")||"hidden"===getComputedStyle(C).overflow);)if(ee+=C.offsetTop,ae+=C.offsetLeft,C=C.offsetParent,!C)return;pe&&(void 0!==pe.top&&(ee+=pe.top),void 0!==pe.left&&(ae+=pe.left,C.scrollLeft=ae)),C.scrollTop=ee},_.watchScroll=function se(ce,pe){const he=function(ae){ee||(ee=window.requestAnimationFrame(function(){ee=null;const ge=ce.scrollLeft,X=C.lastX;ge!==X&&(C.right=ge>X),C.lastX=ge;const D=ce.scrollTop,j=C.lastY;D!==j&&(C.down=D>j),C.lastY=D,pe(C)}))},C={right:!0,down:!0,lastX:ce.scrollLeft,lastY:ce.scrollTop,_eventHandler:he};let ee=null;return ce.addEventListener("scroll",he,!0),C},_.DEFAULT_SCALE_VALUE="auto",_.DEFAULT_SCALE=1,_.DEFAULT_SCALE_DELTA=1.1,_.MIN_SCALE=.1,_.MAX_SCALE=10,_.UNKNOWN_SCALE=0,_.MAX_AUTO_SCALE=1.25,_.SCROLLBAR_PADDING=40,_.VERTICAL_PADDING=5,_.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},_.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const p={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};_.SidebarView=p,_.RendererType={CANVAS:"canvas",SVG:"svg"},_.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const E={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};_.ScrollMode=E;const N={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};_.SpreadMode=N,_.AutoPrintRegExp=/\bprint\s*\(/,_.OutputScale=class te{constructor(){const pe=window.devicePixelRatio||1;this.sx=pe,this.sy=pe}get scaled(){return 1!==this.sx||1!==this.sy}};const ue=/\x00/g,F=/[\x01-\x1F]/g;function e(ce,pe,he=0){let C=he,ee=ce.length-1;if(ee<0||!pe(ce[ee]))return ce.length;if(pe(ce[C]))return C;for(;C<ee;){const ae=C+ee>>1;pe(ce[ae])?ee=ae:C=ae+1}return C}function f(ce,pe,he){if(ce<2)return ce;let C=pe[ce].div,ee=C.offsetTop+C.clientTop;ee>=he&&(C=pe[ce-1].div,ee=C.offsetTop+C.clientTop);for(let ae=ce-2;ae>=0&&(C=pe[ae].div,!(C.offsetTop+C.clientTop+C.clientHeight<=ee));--ae)ce=ae;return ce}function Q(ce){let pe=Math.hypot(ce.deltaX,ce.deltaY);const he=Math.atan2(ce.deltaY,ce.deltaX);return-.25*Math.PI<he&&he<.75*Math.PI&&(pe=-pe),pe}const _e=new Promise(function(ce){window.requestAnimationFrame(ce)});_.animationStarted=_e;var Pe=new WeakSet;function de(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))}_.ProgressBar=class Se{constructor(pe){if(O(this,Pe),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(pe+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(pe){this._indeterminate=isNaN(pe),this._percent=function ve(ce,pe,he){return Math.min(Math.max(ce,pe),he)}(pe,0,100),x(this,Pe,de).call(this)}setWidth(pe){if(!pe)return;const C=pe.parentNode.offsetWidth-pe.offsetWidth;C>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${C}px`)}hide(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(G,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.StructTreeLayerBuilder=void 0;const l={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},m=/^H(\d+)$/;_.StructTreeLayerBuilder=class A{constructor({pdfPage:v}){this.pdfPage=v}render(v){return this._walk(v)}_setAttributes(v,t){void 0!==v.alt&&t.setAttribute("aria-label",v.alt),void 0!==v.id&&t.setAttribute("aria-owns",v.id),void 0!==v.lang&&t.setAttribute("lang",v.lang)}_walk(v){if(!v)return null;const t=document.createElement("span");if("role"in v){const{role:n}=v,u=n.match(m);u?(t.setAttribute("role","heading"),t.setAttribute("aria-level",u[1])):l[n]&&t.setAttribute("role",l[n])}if(this._setAttributes(v,t),v.children)if(1===v.children.length&&"id"in v.children[0])this._setAttributes(v.children[0],t);else for(const n of v.children)t.appendChild(this._walk(n));return t}}},(G,_,l)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.TextLayerBuilder=void 0;var m=l(3);_.TextLayerBuilder=class w{constructor({textLayerDiv:t,eventBus:n,pageIndex:u,viewport:P,highlighter:d=null,enhanceTextSelection:b=!1}){this.textLayerDiv=t,this.eventBus=n,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=u+1,this.viewport=P,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=d,this.enhanceTextSelection=b,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const t=document.createElement("div");t.className="endOfContent",this.textLayerDiv.appendChild(t)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(t=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const n=document.createDocumentFragment();this.textLayerRenderTask=(0,m.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:n,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:t,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(n),this._finishRendering(),this.highlighter?.enable()},function(u){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(t){this.cancel(),this.textContentStream=t}setTextContent(t){this.cancel(),this.textContent=t}_bindMouse(){const t=this.textLayerDiv;let n=null;t.addEventListener("mousedown",u=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(n&&(clearTimeout(n),n=null));const P=t.querySelector(".endOfContent");if(!P)return;let d=u.target!==t;if(d=d&&"none"!==window.getComputedStyle(P).getPropertyValue("-moz-user-select"),d){const b=t.getBoundingClientRect(),p=Math.max(0,(u.pageY-b.top)/b.height);P.style.top=(100*p).toFixed(2)+"%"}P.classList.add("active")}),t.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(n=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),n=null},300));const u=t.querySelector(".endOfContent");u&&(u.style.top="",u.classList.remove("active"))})}}},(G,_,l)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.XfaLayerBuilder=void 0;var m=l(3);_.XfaLayerBuilder=class A{constructor({pageDiv:v,pdfPage:t,annotationStorage:n=null,linkService:u,xfaHtml:P=null}){this.pageDiv=v,this.pdfPage=t,this.annotationStorage=n,this.linkService=u,this.xfaHtml=P,this.div=null,this._cancelled=!1}render(v,t="display"){if("print"===t){const n={viewport:v.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t},u=document.createElement("div");this.pageDiv.appendChild(u),n.div=u;const P=m.XfaLayer.render(n);return Promise.resolve(P)}return this.pdfPage.getXfa().then(n=>{if(this._cancelled||!n)return{textDivs:[]};const u={viewport:v.clone({dontFlip:!0}),div:this.div,xfaHtml:n,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?m.XfaLayer.update(u):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),u.div=this.div,m.XfaLayer.render(u))}).catch(n=>{console.error(n)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(G,_,l)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFViewer=_.PDFSinglePageViewer=void 0;var m=l(6),A=l(11);_.PDFViewer=class w extends A.BaseViewer{},_.PDFSinglePageViewer=class v extends A.BaseViewer{_resetView(){super._resetView(),this._scrollMode=m.ScrollMode.PAGE,this._spreadMode=m.SpreadMode.NONE}set scrollMode(n){}_updateScrollMode(){}set spreadMode(n){}_updateSpreadMode(){}}},(G,_,l)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PagesCountLimit=_.PDFPageViewBuffer=_.BaseViewer=void 0;var m=l(3),A=l(6),w=l(2),v=l(4),t=l(12),n=l(14),u=l(5),P=l(7),d=l(15),b=l(8),p=l(9);const M="enablePermissions",E={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};_.PagesCountLimit=E;var N=new WeakMap,J=new WeakMap,te=new WeakSet;class ne{constructor(C){O(this,te),R(this,N,{writable:!0,value:new Set}),R(this,J,{writable:!0,value:0}),i(this,J,C)}push(C){const ee=T(this,N);ee.has(C)&&ee.delete(C),ee.add(C),ee.size>T(this,J)&&x(this,te,se).call(this)}resize(C,ee=null){i(this,J,C);const ae=T(this,N);if(ee){const ye=ae.size;let ge=1;for(const X of ae)if(ee.has(X.id)&&(ae.delete(X),ae.add(X)),++ge>ye)break}for(;ae.size>T(this,J);)x(this,te,se).call(this)}has(C){return T(this,N).has(C)}[Symbol.iterator](){return T(this,N).keys()}}function se(){const he=T(this,N).keys().next().value;he?.destroy(),T(this,N).delete(he)}_.PDFPageViewBuffer=ne;var fe=new WeakMap,ue=new WeakMap,F=new WeakMap,s=new WeakMap,e=new WeakMap,r=new WeakMap,o=new WeakMap,g=new WeakSet,f=new WeakSet,c=new WeakSet,k=new WeakSet,Q=new WeakSet,V=new WeakSet,K=new WeakSet,Y=new WeakSet,ie=new WeakSet;class re{constructor(C){if(O(this,ie),O(this,Y),O(this,K),O(this,V),O(this,Q),O(this,k),O(this,c),O(this,f),O(this,g),R(this,fe,{writable:!0,value:null}),R(this,ue,{writable:!0,value:m.AnnotationMode.ENABLE_FORMS}),R(this,F,{writable:!0,value:null}),R(this,s,{writable:!0,value:!1}),R(this,e,{writable:!0,value:0}),R(this,r,{writable:!0,value:null}),R(this,o,{writable:!0,value:null}),this.constructor===re)throw new Error("Cannot initialize BaseViewer.");const ee="2.14.305";if(m.version!==ee)throw new Error(`The API version "${m.version}" does not match the Viewer version "${ee}".`);if(this.container=C.container,this.viewer=C.viewer||C.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=C.eventBus,this.linkService=C.linkService||new u.SimpleLinkService,this.downloadManager=C.downloadManager||null,this.findController=C.findController||null,this._scriptingManager=C.scriptingManager||null,this.removePageBorders=C.removePageBorders||!1,this.textLayerMode=C.textLayerMode??A.TextLayerMode.ENABLE,i(this,ue,C.annotationMode??m.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=C.imageResourcesPath||"",this.enablePrintAutoRotate=C.enablePrintAutoRotate||!1,this.renderer=C.renderer||A.RendererType.CANVAS,this.useOnlyCssZoom=C.useOnlyCssZoom||!1,this.maxCanvasPixels=C.maxCanvasPixels,this.l10n=C.l10n||v.NullL10n,i(this,s,C.enablePermissions||!1),this.pageColors=C.pageColors||null,C.pageColors&&(!CSS.supports("color",C.pageColors.background)||!CSS.supports("color",C.pageColors.foreground))&&((C.pageColors.background||C.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!C.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new n.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=C.renderingQueue,this._doc=document.documentElement,this.scroll=(0,A.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=A.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(C){return this._pages[C]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(C){return C?.pdfPage})}get renderForms(){return T(this,ue)===m.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(C){if(!Number.isInteger(C))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(C,!0)||console.error(`currentPageNumber: "${C}" is not a valid page.`))}_setCurrentPageNumber(C,ee=!1){if(this._currentPageNumber===C)return ee&&x(this,V,Ee).call(this),!0;if(!(0<C&&C<=this.pagesCount))return!1;const ae=this._currentPageNumber;return this._currentPageNumber=C,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:C,pageLabel:this._pageLabels?.[C-1]??null,previous:ae}),ee&&x(this,V,Ee).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(C){if(!this.pdfDocument)return;let ee=0|C;if(this._pageLabels){const ae=this._pageLabels.indexOf(C);ae>=0&&(ee=ae+1)}this._setCurrentPageNumber(ee,!0)||console.error(`currentPageLabel: "${C}" is not a valid page.`)}get currentScale(){return this._currentScale!==A.UNKNOWN_SCALE?this._currentScale:A.DEFAULT_SCALE}set currentScale(C){if(isNaN(C))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(C,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(C){this.pdfDocument&&this._setScale(C,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(C){if(!(0,A.isValidRotation)(C))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((C%=360)<0&&(C+=360),this._pagesRotation===C))return;this._pagesRotation=C;const ee=this._currentPageNumber,ae={rotation:C};for(const ye of this._pages)ye.update(ae);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:C,pageNumber:ee}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(C){var ee=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=C,!C)return;const ae=C.isPureXfa,ye=C.numPages,ge=C.getPage(1),X=C.getOptionalContentConfig(),D=T(this,s)?C.getPermissions():Promise.resolve();if(ye>E.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const j=this._scrollMode=A.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:j})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:ye})},()=>{}),this._onBeforeDraw=j=>{const U=this._pages[j.pageNumber-1];U&&T(this,fe).push(U)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=j=>{j.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:j.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,T(this,o)&&(document.removeEventListener("visibilitychange",T(this,o)),i(this,o,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([ge,D]).then(([j,U])=>{if(C!==this.pdfDocument)return;this._firstPageCapability.resolve(j),this._optionalContentConfigPromise=X,x(this,g,_e).call(this,U);const le=this._scrollMode===A.ScrollMode.PAGE?null:this.viewer,L=this.currentScale,z=j.getViewport({scale:L*m.PixelsPerInch.PDF_TO_CSS_UNITS}),Z=this.textLayerMode===A.TextLayerMode.DISABLE||ae?null:this,oe=T(this,ue)!==m.AnnotationMode.DISABLE?this:null,me=ae?this:null;for(let xe=1;xe<=ye;++xe){const we=new t.PDFPageView({container:le,eventBus:this.eventBus,id:xe,scale:L,defaultViewport:z.clone(),optionalContentConfigPromise:X,renderingQueue:this.renderingQueue,textLayerFactory:Z,textLayerMode:this.textLayerMode,annotationLayerFactory:oe,annotationMode:T(this,ue),xfaLayerFactory:me,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(we)}const be=this._pages[0];be&&(be.setPdfPage(j),this.linkService.cachePageRef(1,j.ref)),this._scrollMode===A.ScrollMode.PAGE?x(this,c,Pe).call(this):this._spreadMode!==A.SpreadMode.NONE&&this._updateSpreadMode(),x(this,f,ve).call(this).then(y(function*(){if(ee.findController&&ee.findController.setDocument(C),ee._scriptingManager&&ee._scriptingManager.setDocument(C),C.loadingParams.disableAutoFetch||ye>E.FORCE_LAZY_PAGE_INIT)return void ee._pagesCapability.resolve();let xe=ye-1;if(xe<=0)ee._pagesCapability.resolve();else for(let we=2;we<=ye;++we){const Me=C.getPage(we).then(Te=>{const ke=ee._pages[we-1];ke.pdfPage||ke.setPdfPage(Te),ee.linkService.cachePageRef(we,Te.ref),0==--xe&&ee._pagesCapability.resolve()},Te=>{console.error(`Unable to get page ${we} to initialize viewer`,Te),0==--xe&&ee._pagesCapability.resolve()});we%E.PAUSE_EAGER_PAGE_INIT==0&&(yield Me)}})),this.eventBus.dispatch("pagesinit",{source:this}),C.getMetadata().then(({info:xe})=>{C===this.pdfDocument&&xe.Language&&(this.viewer.lang=xe.Language)}),this.defaultRenderingQueue&&this.update()}).catch(j=>{console.error("Unable to initialize viewer",j),this._pagesCapability.reject(j)})}setPageLabels(C){if(this.pdfDocument){C?Array.isArray(C)&&this.pdfDocument.numPages===C.length?this._pageLabels=C:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let ee=0,ae=this._pages.length;ee<ae;ee++)this._pages[ee].setPageLabel(this._pageLabels?.[ee]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=A.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,i(this,fe,new ne(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,m.createPromiseCapability)(),this._onePageRenderedCapability=(0,m.createPromiseCapability)(),this._pagesCapability=(0,m.createPromiseCapability)(),this._scrollMode=A.ScrollMode.VERTICAL,this._previousScrollMode=A.ScrollMode.UNKNOWN,this._spreadMode=A.SpreadMode.NONE,i(this,r,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),T(this,o)&&(document.removeEventListener("visibilitychange",T(this,o)),i(this,o,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(M),null!==T(this,F)&&(i(this,ue,T(this,F)),i(this,F,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(C,ee,ae=!1,ye=!1){if(this._currentScaleValue=ee.toString(),x(this,Q,de).call(this,C))return void(ye&&this.eventBus.dispatch("scalechanging",{source:this,scale:C,presetValue:ee}));this._doc.style.setProperty("--zoom-factor",C);const ge={scale:C};for(const X of this._pages)X.update(ge);if(this._currentScale=C,!ae){let D,X=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(X=this._location.pageNumber,D=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:X,destArray:D,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:C,presetValue:ye?ee:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==A.SpreadMode.NONE&&this._scrollMode!==A.ScrollMode.HORIZONTAL?2:1}_setScale(C,ee=!1){let ae=parseFloat(C);if(ae>0)this._setScaleUpdatePages(ae,C,ee,!1);else{const ye=this._pages[this._currentPageNumber-1];if(!ye)return;let ge=A.SCROLLBAR_PADDING,X=A.VERTICAL_PADDING;this.isInPresentationMode?ge=X=4:this.removePageBorders?ge=X=0:this._scrollMode===A.ScrollMode.HORIZONTAL&&([ge,X]=[X,ge]);const D=(this.container.clientWidth-ge)/ye.width*ye.scale/this._pageWidthScaleFactor,j=(this.container.clientHeight-X)/ye.height*ye.scale;switch(C){case"page-actual":ae=1;break;case"page-width":ae=D;break;case"page-height":ae=j;break;case"page-fit":ae=Math.min(D,j);break;case"auto":const U=(0,A.isPortraitOrientation)(ye)?D:Math.min(j,D);ae=Math.min(A.MAX_AUTO_SCALE,U);break;default:return void console.error(`_setScale: "${C}" is an unknown zoom value.`)}this._setScaleUpdatePages(ae,C,ee,!0)}}pageLabelToPageNumber(C){if(!this._pageLabels)return null;const ee=this._pageLabels.indexOf(C);return ee<0?null:ee+1}scrollPageIntoView({pageNumber:C,destArray:ee=null,allowNegativeOffset:ae=!1,ignoreDestinationZoom:ye=!1}){if(!this.pdfDocument)return;const ge=Number.isInteger(C)&&this._pages[C-1];if(!ge)return void console.error(`scrollPageIntoView: "${C}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!ee)return void this._setCurrentPageNumber(C,!0);let le,L,X=0,D=0,j=0,U=0;const z=ge.rotation%180!=0,Z=(z?ge.height:ge.width)/ge.scale/m.PixelsPerInch.PDF_TO_CSS_UNITS,oe=(z?ge.width:ge.height)/ge.scale/m.PixelsPerInch.PDF_TO_CSS_UNITS;let me=0;switch(ee[1].name){case"XYZ":X=ee[2],D=ee[3],me=ee[4],X=null!==X?X:0,D=null!==D?D:oe;break;case"Fit":case"FitB":me="page-fit";break;case"FitH":case"FitBH":D=ee[2],me="page-width",null===D&&this._location?(X=this._location.left,D=this._location.top):("number"!=typeof D||D<0)&&(D=oe);break;case"FitV":case"FitBV":X=ee[2],j=Z,U=oe,me="page-height";break;case"FitR":X=ee[2],D=ee[3],j=ee[4]-X,U=ee[5]-D,le=(this.container.clientWidth-(this.removePageBorders?0:A.SCROLLBAR_PADDING))/j/m.PixelsPerInch.PDF_TO_CSS_UNITS,L=(this.container.clientHeight-(this.removePageBorders?0:A.VERTICAL_PADDING))/U/m.PixelsPerInch.PDF_TO_CSS_UNITS,me=Math.min(Math.abs(le),Math.abs(L));break;default:return void console.error(`scrollPageIntoView: "${ee[1].name}" is not a valid destination type.`)}if(ye||(me&&me!==this._currentScale?this.currentScaleValue=me:this._currentScale===A.UNKNOWN_SCALE&&(this.currentScaleValue=A.DEFAULT_SCALE_VALUE)),"page-fit"===me&&!ee[4])return void x(this,k,Se).call(this,ge);const be=[ge.viewport.convertToViewportPoint(X,D),ge.viewport.convertToViewportPoint(X+j,D+U)];let xe=Math.min(be[0][0],be[1][0]),we=Math.min(be[0][1],be[1][1]);ae||(xe=Math.max(xe,0),we=Math.max(we,0)),x(this,k,Se).call(this,ge,{left:xe,top:we})}_updateLocation(C){const ee=this._currentScale,ae=this._currentScaleValue,ye=parseFloat(ae)===ee?Math.round(1e4*ee)/100:ae,ge=C.id,D=this.container,j=this._pages[ge-1].getPagePoint(D.scrollLeft-C.x,D.scrollTop-C.y),U=Math.round(j[0]),le=Math.round(j[1]);let L=`#page=${ge}`;this.isInPresentationMode||(L+=`&zoom=${ye},${U},${le}`),this._location={pageNumber:ge,scale:ye,top:le,left:U,rotation:this._pagesRotation,pdfOpenParams:L}}update(){const C=this._getVisiblePages(),ee=C.views,ae=ee.length;if(0===ae)return;const ye=Math.max(10,2*ae+1);T(this,fe).resize(ye,C.ids),this.renderingQueue.renderHighestPriority(C);const ge=this._spreadMode===A.SpreadMode.NONE&&(this._scrollMode===A.ScrollMode.PAGE||this._scrollMode===A.ScrollMode.VERTICAL),X=this._currentPageNumber;let D=!1;for(const j of ee){if(j.percent<100)break;if(j.id===X&&ge){D=!0;break}}this._setCurrentPageNumber(D?X:ee[0].id),this._updateLocation(C.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(C){return this.container.contains(C)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===A.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===A.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const C=this._scrollMode===A.ScrollMode.PAGE?T(this,r).pages:this._pages,ee=this._scrollMode===A.ScrollMode.HORIZONTAL;return(0,A.getVisibleElements)({scrollEl:this.container,views:C,sortByVisibility:!0,horizontal:ee,rtl:ee&&this._isContainerRtl})}isPageVisible(C){return!!this.pdfDocument&&(Number.isInteger(C)&&C>0&&C<=this.pagesCount?this._getVisiblePages().ids.has(C):(console.error(`isPageVisible: "${C}" is not a valid page.`),!1))}isPageCached(C){if(!this.pdfDocument)return!1;if(!(Number.isInteger(C)&&C>0&&C<=this.pagesCount))return console.error(`isPageCached: "${C}" is not a valid page.`),!1;const ee=this._pages[C-1];return T(this,fe).has(ee)}cleanup(){for(const C of this._pages)C.renderingState!==A.RenderingStates.FINISHED&&C.reset()}_cancelRendering(){for(const C of this._pages)C.cancelRendering()}forceRendering(C){const ee=C||this._getVisiblePages(),ae=x(this,Y,ce).call(this,ee),ge=this.renderingQueue.getHighestPriority(ee,this._pages,ae,this._spreadMode!==A.SpreadMode.NONE&&this._scrollMode!==A.ScrollMode.HORIZONTAL);return x(this,ie,pe).call(this,ee.ids),!!ge&&(x(this,K,Ce).call(this,ge).then(()=>{this.renderingQueue.renderView(ge)}),!0)}createTextLayerBuilder(C,ee,ae,ye=!1,ge,X){return new b.TextLayerBuilder({textLayerDiv:C,eventBus:ge,pageIndex:ee,viewport:ae,enhanceTextSelection:!this.isInPresentationMode&&ye,highlighter:X})}createTextHighlighter(C,ee){return new d.TextHighlighter({eventBus:ee,pageIndex:C,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(C,ee,ae=null,ye="",ge=!0,X=v.NullL10n,D=null,j=null,U=null,le=null,L=null){return new w.AnnotationLayerBuilder({pageDiv:C,pdfPage:ee,annotationStorage:ae||this.pdfDocument?.annotationStorage,imageResourcesPath:ye,renderForms:ge,linkService:this.linkService,downloadManager:this.downloadManager,l10n:X,enableScripting:D??this.enableScripting,hasJSActionsPromise:j||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:le||this.pdfDocument?.getFieldObjects(),mouseState:U||this._scriptingManager?.mouseState,annotationCanvasMap:L})}createXfaLayerBuilder(C,ee,ae=null){return new p.XfaLayerBuilder({pageDiv:C,pdfPage:ee,annotationStorage:ae||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(C){return new P.StructTreeLayerBuilder({pdfPage:C})}get hasEqualPageSizes(){const C=this._pages[0];for(let ee=1,ae=this._pages.length;ee<ae;++ee){const ye=this._pages[ee];if(ye.width!==C.width||ye.height!==C.height)return!1}return!0}getPagesOverview(){return this._pages.map(C=>{const ee=C.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,A.isPortraitOrientation)(ee)?{width:ee.width,height:ee.height,rotation:ee.rotation}:{width:ee.height,height:ee.width,rotation:(ee.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(C){if(!(C instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${C}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=C;const ee={optionalContentConfigPromise:C};for(const ae of this._pages)ae.update(ee);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:C})}get scrollMode(){return this._scrollMode}set scrollMode(C){if(this._scrollMode!==C){if(!(0,A.isValidScrollMode)(C))throw new Error(`Invalid scroll mode: ${C}`);this.pagesCount>E.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=C,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:C}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(C=null){const ee=this._scrollMode,ae=this.viewer;ae.classList.toggle("scrollHorizontal",ee===A.ScrollMode.HORIZONTAL),ae.classList.toggle("scrollWrapped",ee===A.ScrollMode.WRAPPED),this.pdfDocument&&C&&(ee===A.ScrollMode.PAGE?x(this,c,Pe).call(this):this._previousScrollMode===A.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(C,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(C){if(this._spreadMode!==C){if(!(0,A.isValidSpreadMode)(C))throw new Error(`Invalid spread mode: ${C}`);this._spreadMode=C,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:C}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(C=null){if(!this.pdfDocument)return;const ee=this.viewer,ae=this._pages;if(this._scrollMode===A.ScrollMode.PAGE)x(this,c,Pe).call(this);else if(ee.textContent="",this._spreadMode===A.SpreadMode.NONE)for(const ye of this._pages)ee.appendChild(ye.div);else{const ye=this._spreadMode-1;let ge=null;for(let X=0,D=ae.length;X<D;++X)null===ge?(ge=document.createElement("div"),ge.className="spread",ee.appendChild(ge)):X%2===ye&&(ge=ge.cloneNode(!1),ee.appendChild(ge)),ge.appendChild(ae[X].div)}C&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(C,!0),this.update())}_getPageAdvance(C,ee=!1){switch(this._scrollMode){case A.ScrollMode.WRAPPED:{const{views:ae}=this._getVisiblePages(),ye=new Map;for(const{id:ge,y:X,percent:D,widthPercent:j}of ae){if(0===D||j<100)continue;let U=ye.get(X);U||ye.set(X,U||=[]),U.push(ge)}for(const ge of ye.values()){const X=ge.indexOf(C);if(-1===X)continue;const D=ge.length;if(1===D)break;if(ee)for(let j=X-1,U=0;j>=U;j--){const L=ge[j+1]-1;if(ge[j]<L)return C-L}else for(let j=X+1,U=D;j<U;j++){const L=ge[j-1]+1;if(ge[j]>L)return L-C}if(ee){const j=ge[0];if(j<C)return C-j+1}else{const j=ge[D-1];if(j>C)return j-C+1}break}break}case A.ScrollMode.HORIZONTAL:break;case A.ScrollMode.PAGE:case A.ScrollMode.VERTICAL:{if(this._spreadMode===A.SpreadMode.NONE)break;const ae=this._spreadMode-1;if(ee&&C%2!==ae)break;if(!ee&&C%2===ae)break;const{views:ye}=this._getVisiblePages(),ge=ee?C-1:C+1;for(const{id:X,percent:D,widthPercent:j}of ye)if(X===ge){if(D>0&&100===j)return 2;break}break}}return 1}nextPage(){const C=this._currentPageNumber,ee=this.pagesCount;if(C>=ee)return!1;const ae=this._getPageAdvance(C,!1)||1;return this.currentPageNumber=Math.min(C+ae,ee),!0}previousPage(){const C=this._currentPageNumber;if(C<=1)return!1;const ee=this._getPageAdvance(C,!0)||1;return this.currentPageNumber=Math.max(C-ee,1),!0}increaseScale(C=1){let ee=this._currentScale;do{ee=(ee*A.DEFAULT_SCALE_DELTA).toFixed(2),ee=Math.ceil(10*ee)/10,ee=Math.min(A.MAX_SCALE,ee)}while(--C>0&&ee<A.MAX_SCALE);this.currentScaleValue=ee}decreaseScale(C=1){let ee=this._currentScale;do{ee=(ee/A.DEFAULT_SCALE_DELTA).toFixed(2),ee=Math.floor(10*ee)/10,ee=Math.max(A.MIN_SCALE,ee)}while(--C>0&&ee>A.MIN_SCALE);this.currentScaleValue=ee}updateContainerHeightCss(){const C=this.container.clientHeight;C!==T(this,e)&&(i(this,e,C),this._doc.style.setProperty("--viewer-container-height",`${C}px`))}}function _e(he){he&&(he.includes(m.PermissionFlag.COPY)||this.viewer.classList.add(M),!he.includes(m.PermissionFlag.MODIFY_ANNOTATIONS)&&!he.includes(m.PermissionFlag.FILL_INTERACTIVE_FORMS)&&T(this,ue)===m.AnnotationMode.ENABLE_FORMS&&(i(this,F,T(this,ue)),i(this,ue,m.AnnotationMode.ENABLE)))}function ve(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const he=new Promise(C=>{i(this,o,()=>{"hidden"===document.visibilityState&&(C(),document.removeEventListener("visibilitychange",T(this,o)),i(this,o,null))}),document.addEventListener("visibilitychange",T(this,o))});return Promise.race([this._onePageRenderedCapability.promise,he])}function Pe(){if(this._scrollMode!==A.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const he=this._currentPageNumber,C=T(this,r),ee=this.viewer;if(ee.textContent="",C.pages.length=0,this._spreadMode!==A.SpreadMode.NONE||this.isInPresentationMode){const ae=new Set,ye=this._spreadMode-1;-1===ye?ae.add(he-1):he%2!==ye?(ae.add(he-1),ae.add(he)):(ae.add(he-2),ae.add(he-1));const ge=document.createElement("div");if(ge.className="spread",this.isInPresentationMode){const X=document.createElement("div");X.className="dummyPage",ge.appendChild(X)}for(const X of ae){const D=this._pages[X];D&&(ge.appendChild(D.div),C.pages.push(D))}ee.appendChild(ge)}else{const ae=this._pages[he-1];ee.appendChild(ae.div),C.pages.push(ae)}C.scrollDown=he>=C.previousPageNumber,C.previousPageNumber=he}function Se(he,C=null){const{div:ee,id:ae}=he;if(this._scrollMode===A.ScrollMode.PAGE&&(this._setCurrentPageNumber(ae),x(this,c,Pe).call(this),this.update()),!C&&!this.isInPresentationMode){const ye=ee.offsetLeft+ee.clientLeft,ge=ye+ee.clientWidth,{scrollLeft:X,clientWidth:D}=this.container;(this._scrollMode===A.ScrollMode.HORIZONTAL||ye<X||ge>X+D)&&(C={left:0,top:0})}(0,A.scrollIntoView)(ee,C)}function de(he){return he===this._currentScale||Math.abs(he-this._currentScale)<1e-15}function Ee(){const he=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),x(this,k,Se).call(this,he)}function Ce(he){return Ae.apply(this,arguments)}function Ae(){return(Ae=y(function*(he){if(he.pdfPage)return he.pdfPage;try{const C=yield this.pdfDocument.getPage(he.id);return he.pdfPage||he.setPdfPage(C),this.linkService._cachedPageNumber?.(C.ref)||this.linkService.cachePageRef(he.id,C.ref),C}catch(C){return console.error("Unable to get page for page view",C),null}})).apply(this,arguments)}function ce(he){if(1===he.first?.id)return!0;if(he.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case A.ScrollMode.PAGE:return T(this,r).scrollDown;case A.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function pe(he){for(const C of he)this._pages[C-1]?.toggleLoadingIconSpinner(!0);for(const C of T(this,fe))he.has(C.id)||C.toggleLoadingIconSpinner(!1)}_.BaseViewer=re},(G,_,l)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFPageView=void 0;var m=l(3),A=l(6),w=l(13),v=l(4);const t=w.compatibilityParams.maxCanvasPixels||16777216;var n=new WeakMap;_.PDFPageView=class u{constructor(d){R(this,n,{writable:!0,value:m.AnnotationMode.ENABLE_FORMS});const b=d.container,p=d.defaultViewport;this.id=d.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=d.scale||A.DEFAULT_SCALE,this.viewport=p,this.pdfPageRotate=p.rotation,this._optionalContentConfigPromise=d.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=d.textLayerMode??A.TextLayerMode.ENABLE,i(this,n,d.annotationMode??m.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=d.imageResourcesPath||"",this.useOnlyCssZoom=d.useOnlyCssZoom||!1,this.maxCanvasPixels=d.maxCanvasPixels||t,this.pageColors=d.pageColors||null,this.eventBus=d.eventBus,this.renderingQueue=d.renderingQueue,this.textLayerFactory=d.textLayerFactory,this.annotationLayerFactory=d.annotationLayerFactory,this.xfaLayerFactory=d.xfaLayerFactory,this.textHighlighter=d.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=d.structTreeLayerFactory,this.renderer=d.renderer||A.RendererType.CANVAS,this.l10n=d.l10n||v.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=A.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const h=document.createElement("div");h.className="page",h.style.width=Math.floor(this.viewport.width)+"px",h.style.height=Math.floor(this.viewport.height)+"px",h.setAttribute("data-page-number",this.id),h.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(M=>{h.setAttribute("aria-label",M)}),this.div=h,b?.appendChild(h)}setPdfPage(d){this.pdfPage=d,this.pdfPageRotate=d.rotate,this.viewport=d.getViewport({scale:this.scale*m.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var d=this;return y(function*(){let b=null;try{yield d.annotationLayer.render(d.viewport,"display")}catch(p){b=p}finally{d.eventBus.dispatch("annotationlayerrendered",{source:d,pageNumber:d.id,error:b})}})()}_renderXfaLayer(){var d=this;return y(function*(){let b=null;try{const p=yield d.xfaLayer.render(d.viewport,"display");d.textHighlighter&&d._buildXfaTextContentItems(p.textDivs)}catch(p){b=p}finally{d.eventBus.dispatch("xfalayerrendered",{source:d,pageNumber:d.id,error:b})}})()}_buildXfaTextContentItems(d){var b=this;return y(function*(){const p=yield b.pdfPage.getTextContent(),h=[];for(const M of p.items)h.push(M.str);b.textHighlighter.setTextMapping(d,h),b.textHighlighter.enable()})()}_resetZoomLayer(d=!1){if(!this.zoomLayer)return;const b=this.zoomLayer.firstChild;this.paintedViewportMap.delete(b),b.width=0,b.height=0,d&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:d=!1,keepAnnotationLayer:b=!1,keepXfaLayer:p=!1}={}){this.cancelRendering({keepAnnotationLayer:b,keepXfaLayer:p}),this.renderingState=A.RenderingStates.INITIAL;const h=this.div;h.style.width=Math.floor(this.viewport.width)+"px",h.style.height=Math.floor(this.viewport.height)+"px";const M=h.childNodes,E=d&&this.zoomLayer||null,N=b&&this.annotationLayer?.div||null,J=p&&this.xfaLayer?.div||null;for(let te=M.length-1;te>=0;te--){const ne=M[te];switch(ne){case E:case N:case J:continue}ne.remove()}h.removeAttribute("data-loaded"),N&&this.annotationLayer.hide(),J&&this.xfaLayer.hide(),E||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(te=>{this.loadingIconDiv?.setAttribute("aria-label",te)}),h.appendChild(this.loadingIconDiv)}update({scale:d=0,rotation:b=null,optionalContentConfigPromise:p=null}){if(this.scale=d||this.scale,"number"==typeof b&&(this.rotation=b),p instanceof Promise&&(this._optionalContentConfigPromise=p),this.viewport=this.viewport.clone({scale:this.scale*m.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:E}=document.documentElement;E.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let M=!1;if(this.canvas&&this.maxCanvasPixels>0){const E=this.outputScale;(Math.floor(this.viewport.width)*E.sx|0)*(Math.floor(this.viewport.height)*E.sy|0)>this.maxCanvasPixels&&(M=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&M)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:d=!1,keepXfaLayer:b=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!d||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!b||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:d,redrawAnnotationLayer:b=!1,redrawXfaLayer:p=!1}){const h=this.viewport.width,M=this.viewport.height,E=this.div;d.style.width=d.parentNode.style.width=E.style.width=Math.floor(h)+"px",d.style.height=d.parentNode.style.height=E.style.height=Math.floor(M)+"px";const N=this.viewport.rotation-this.paintedViewportMap.get(d).rotation,J=Math.abs(N);let te=1,ne=1;if((90===J||270===J)&&(te=M/h,ne=h/M),d.style.transform=`rotate(${N}deg) scale(${te}, ${ne})`,this.textLayer){const se=this.textLayer.viewport,ue=Math.abs(this.viewport.rotation-se.rotation);let F=h/se.width;(90===ue||270===ue)&&(F=h/se.height);const s=this.textLayer.textLayerDiv;let e,r;switch(ue){case 0:e=r=0;break;case 90:e=0,r="-"+s.style.height;break;case 180:e="-"+s.style.width,r="-"+s.style.height;break;case 270:e="-"+s.style.width,r=0;break;default:console.error("Bad rotation value.")}s.style.transform=`rotate(${ue}deg) scale(${F}) translate(${e}, ${r})`,s.style.transformOrigin="0% 0%"}b&&this.annotationLayer&&this._renderAnnotationLayer(),p&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(d,b){return this.viewport.convertToPdfPoint(d,b)}toggleLoadingIconSpinner(d=!1){this.loadingIconDiv?.classList.toggle("notVisible",!d)}draw(){var d=this;this.renderingState!==A.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:b,pdfPage:p}=this;if(!p)return this.renderingState=A.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=A.RenderingStates.RUNNING;const h=document.createElement("div");h.style.width=b.style.width,h.style.height=b.style.height,h.classList.add("canvasWrapper"),this.annotationLayer?.div?b.insertBefore(h,this.annotationLayer.div):b.appendChild(h);let M=null;if(this.textLayerMode!==A.TextLayerMode.DISABLE&&this.textLayerFactory){const ne=document.createElement("div");ne.className="textLayer",ne.style.width=h.style.width,ne.style.height=h.style.height,this.annotationLayer?.div?b.insertBefore(ne,this.annotationLayer.div):b.appendChild(ne),M=this.textLayerFactory.createTextLayerBuilder(ne,this.id-1,this.viewport,this.textLayerMode===A.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=M,T(this,n)!==m.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||=new Map,this.annotationLayer||=this.annotationLayerFactory.createAnnotationLayerBuilder(b,p,null,this.imageResourcesPath,T(this,n)===m.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap)),this.xfaLayer?.div&&b.appendChild(this.xfaLayer.div);let E=null;this.renderingQueue&&(E=ne=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=A.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=A.RenderingStates.RUNNING,ne()});ne()});const N=function(){var ne=y(function*(se=null){if(J===d.paintTask&&(d.paintTask=null),se instanceof m.RenderingCancelledException)d._renderError=null;else if(d._renderError=se,d.renderingState=A.RenderingStates.FINISHED,d.loadingIconDiv&&(d.loadingIconDiv.remove(),delete d.loadingIconDiv),d._resetZoomLayer(!0),d.eventBus.dispatch("pagerendered",{source:d,pageNumber:d.id,cssTransform:!1,timestamp:performance.now(),error:d._renderError}),se)throw se});return function(){return ne.apply(this,arguments)}}(),J=this.renderer===A.RendererType.SVG?this.paintOnSvg(h):this.paintOnCanvas(h);J.onRenderContinue=E,this.paintTask=J;const te=J.promise.then(()=>N(null).then(()=>{if(M){const ne=p.streamTextContent({includeMarkedContent:!0});M.setTextContentStream(ne),M.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(ne){return N(ne)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(b,p,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=ne=>{ne.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(se=>{if(!se||!this.canvas)return;const fe=this.structTreeLayer.render(se);fe.classList.add("structTree"),this.canvas.appendChild(fe)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(p)),b.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),te}paintOnCanvas(d){const b=(0,m.createPromiseCapability)(),p={promise:b.promise,onRenderContinue(s){s()},cancel(){F.cancel()}},h=this.viewport,M=document.createElement("canvas");M.hidden=!0;let E=!0;const N=function(){E&&(M.hidden=!1,E=!1)};d.appendChild(M),this.canvas=M;const J=M.getContext("2d",{alpha:!1}),te=this.outputScale=new A.OutputScale;if(this.useOnlyCssZoom){const s=h.clone({scale:m.PixelsPerInch.PDF_TO_CSS_UNITS});te.sx*=s.width/h.width,te.sy*=s.height/h.height}if(this.maxCanvasPixels>0){const e=Math.sqrt(this.maxCanvasPixels/(h.width*h.height));te.sx>e||te.sy>e?(te.sx=e,te.sy=e,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const ne=(0,A.approximateFraction)(te.sx),se=(0,A.approximateFraction)(te.sy);M.width=(0,A.roundToDivide)(h.width*te.sx,ne[0]),M.height=(0,A.roundToDivide)(h.height*te.sy,se[0]),M.style.width=(0,A.roundToDivide)(h.width,ne[1])+"px",M.style.height=(0,A.roundToDivide)(h.height,se[1])+"px",this.paintedViewportMap.set(M,h);const ue={canvasContext:J,transform:te.scaled?[te.sx,0,0,te.sy,0,0]:null,viewport:this.viewport,annotationMode:T(this,n),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},F=this.pdfPage.render(ue);return F.onContinue=function(s){N(),p.onRenderContinue?p.onRenderContinue(s):s()},F.promise.then(function(){N(),b.resolve()},function(s){N(),b.reject(s)}),p}paintOnSvg(d){let b=!1;const p=()=>{if(b)throw new m.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},h=this.pdfPage,M=this.viewport.clone({scale:m.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:h.getOperatorList({annotationMode:T(this,n)}).then(N=>(p(),new m.SVGGraphics(h.commonObjs,h.objs).getSVG(N,M).then(te=>{p(),this.svg=te,this.paintedViewportMap.set(te,M),te.style.width=d.style.width,te.style.height=d.style.height,this.renderingState=A.RenderingStates.FINISHED,d.appendChild(te)}))),onRenderContinue(N){N()},cancel(){b=!0}}}setPageLabel(d){this.pageLabel="string"==typeof d?d:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(G,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.compatibilityParams=_.OptionKind=_.AppOptions=void 0;const l=Object.create(null);_.compatibilityParams=l;{const t=navigator.userAgent||"",n=navigator.platform||"",u=navigator.maxTouchPoints||1,P=/Android/.test(t);(/\b(iPad|iPhone|iPod)(?=;)/.test(t)||"MacIntel"===n&&u>1||P)&&(l.maxCanvasPixels=5242880)}const m={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};_.OptionKind=m;const A={annotationMode:{value:2,kind:m.VIEWER+m.PREFERENCE},cursorToolOnLoad:{value:0,kind:m.VIEWER+m.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:m.VIEWER},defaultZoomValue:{value:"",kind:m.VIEWER+m.PREFERENCE},disableHistory:{value:!1,kind:m.VIEWER},disablePageLabels:{value:!1,kind:m.VIEWER+m.PREFERENCE},enablePermissions:{value:!1,kind:m.VIEWER+m.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:m.VIEWER+m.PREFERENCE},enableScripting:{value:!0,kind:m.VIEWER+m.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:m.VIEWER},externalLinkTarget:{value:0,kind:m.VIEWER+m.PREFERENCE},historyUpdateUrl:{value:!1,kind:m.VIEWER+m.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:m.VIEWER+m.PREFERENCE},imageResourcesPath:{value:"./images/",kind:m.VIEWER},maxCanvasPixels:{value:16777216,compatibility:l.maxCanvasPixels,kind:m.VIEWER},pageColorsBackground:{value:"Canvas",kind:m.VIEWER+m.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:m.VIEWER+m.PREFERENCE},pdfBugEnabled:{value:!1,kind:m.VIEWER+m.PREFERENCE},printResolution:{value:150,kind:m.VIEWER},renderer:{value:"canvas",kind:m.VIEWER},sidebarViewOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},scrollModeOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},spreadModeOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},textLayerMode:{value:1,kind:m.VIEWER+m.PREFERENCE},useOnlyCssZoom:{value:!1,kind:m.VIEWER+m.PREFERENCE},viewerCssTheme:{value:0,kind:m.VIEWER+m.PREFERENCE},viewOnLoad:{value:0,kind:m.VIEWER+m.PREFERENCE},cMapPacked:{value:!0,kind:m.API},cMapUrl:{value:"../web/cmaps/",kind:m.API},disableAutoFetch:{value:!1,kind:m.API+m.PREFERENCE},disableFontFace:{value:!1,kind:m.API+m.PREFERENCE},disableRange:{value:!1,kind:m.API+m.PREFERENCE},disableStream:{value:!1,kind:m.API+m.PREFERENCE},docBaseUrl:{value:"",kind:m.API},enableXfa:{value:!0,kind:m.API+m.PREFERENCE},fontExtraProperties:{value:!1,kind:m.API},isEvalSupported:{value:!0,kind:m.API},maxImageSize:{value:-1,kind:m.API},pdfBug:{value:!1,kind:m.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:m.API},verbosity:{value:1,kind:m.API},workerPort:{value:null,kind:m.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:m.WORKER}};A.disablePreferences={value:!1,kind:m.VIEWER},A.locale={value:navigator.language||"en-US",kind:m.VIEWER},A.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:m.VIEWER},A.renderer.kind+=m.PREFERENCE;const w=Object.create(null);_.AppOptions=class v{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(n){const u=w[n];if(void 0!==u)return u;const P=A[n];return void 0!==P?P.compatibility??P.value:void 0}static getAll(n=null){const u=Object.create(null);for(const P in A){const d=A[P];if(n){if(!(n&d.kind))continue;if(n===m.PREFERENCE){const p=d.value,h=typeof p;if("boolean"===h||"string"===h||"number"===h&&Number.isInteger(p)){u[P]=p;continue}throw new Error(`Invalid type for preference: ${P}`)}}const b=w[P];u[P]=void 0!==b?b:d.compatibility??d.value}return u}static set(n,u){w[n]=u}static setAll(n){for(const u in n)w[u]=n[u]}static remove(n){delete w[n]}static _hasUserOptions(){return Object.keys(w).length>0}}},(G,_,l)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFRenderingQueue=void 0;var m=l(3),A=l(6);_.PDFRenderingQueue=class v{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(n){this.pdfViewer=n}setThumbnailViewer(n){this.pdfThumbnailViewer=n}isHighestPriority(n){return this.highestPriorityPage===n.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(n){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(n)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(n,u,P,d=!1){const b=n.views,p=b.length;if(0===p)return null;for(let J=0;J<p;J++){const te=b[J].view;if(!this.isViewFinished(te))return te}const h=n.first.id,M=n.last.id;if(M-h+1>p){const J=n.ids;for(let te=1,ne=M-h;te<ne;te++){const se=P?h+te:M-te;if(J.has(se))continue;const fe=u[se-1];if(!this.isViewFinished(fe))return fe}}let E=P?M:h-2,N=u[E];return N&&!this.isViewFinished(N)||d&&(E+=P?1:-1,N=u[E],N&&!this.isViewFinished(N))?N:null}isViewFinished(n){return n.renderingState===A.RenderingStates.FINISHED}renderView(n){switch(n.renderingState){case A.RenderingStates.FINISHED:return!1;case A.RenderingStates.PAUSED:this.highestPriorityPage=n.renderingId,n.resume();break;case A.RenderingStates.RUNNING:this.highestPriorityPage=n.renderingId;break;case A.RenderingStates.INITIAL:this.highestPriorityPage=n.renderingId,n.draw().finally(()=>{this.renderHighestPriority()}).catch(u=>{u instanceof m.RenderingCancelledException||console.error(`renderView: "${u}"`)})}return!0}}},(G,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.TextHighlighter=void 0,_.TextHighlighter=class l{constructor({findController:A,eventBus:w,pageIndex:v}){this.findController=A,this.matches=[],this.eventBus=w,this.pageIdx=v,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(A,w){this.textDivs=A,this.textContentItemsStr=w}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=A=>{(A.pageIndex===this.pageIdx||-1===A.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(A,w){if(!A)return[];const{textContentItemsStr:v}=this;let t=0,n=0;const u=v.length-1,P=[];for(let d=0,b=A.length;d<b;d++){let p=A[d];for(;t!==u&&p>=n+v[t].length;)n+=v[t].length,t++;t===v.length&&console.error("Could not find a matching mapping");const h={begin:{divIdx:t,offset:p-n}};for(p+=w[d];t!==u&&p>n+v[t].length;)n+=v[t].length,t++;h.end={divIdx:t,offset:p-n},P.push(h)}return P}_renderMatches(A){if(0===A.length)return;const{findController:w,pageIdx:v}=this,{textContentItemsStr:t,textDivs:n}=this,u=v===w.selected.pageIdx,P=w.selected.matchIdx;let b=null;function h(J,te){const ne=J.divIdx;return n[ne].textContent="",M(ne,0,J.offset,te)}function M(J,te,ne,se){let fe=n[J];if(fe.nodeType===Node.TEXT_NODE){const s=document.createElement("span");fe.parentNode.insertBefore(s,fe),s.appendChild(fe),n[J]=s,fe=s}const ue=t[J].substring(te,ne),F=document.createTextNode(ue);if(se){const s=document.createElement("span");return s.className=`${se} appended`,s.appendChild(F),fe.appendChild(s),se.includes("selected")?s.offsetLeft:0}return fe.appendChild(F),0}let E=P,N=E+1;if(w.state.highlightAll)E=0,N=A.length;else if(!u)return;for(let J=E;J<N;J++){const te=A[J],ne=te.begin,se=te.end,fe=u&&J===P,ue=fe?" selected":"";let F=0;if(b&&ne.divIdx===b.divIdx?M(b.divIdx,b.offset,ne.offset):(null!==b&&M(b.divIdx,b.offset,undefined),h(ne)),ne.divIdx===se.divIdx)F=M(ne.divIdx,ne.offset,se.offset,"highlight"+ue);else{F=M(ne.divIdx,ne.offset,undefined,"highlight begin"+ue);for(let s=ne.divIdx+1,e=se.divIdx;s<e;s++)n[s].className="highlight middle"+ue;h(se,"highlight end"+ue)}b=se,fe&&w.scrollMatchIntoView({element:n[ne.divIdx],selectedLeft:F,pageIndex:v,matchIndex:P})}b&&M(b.divIdx,b.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:A,matches:w,pageIdx:v}=this,{textContentItemsStr:t,textDivs:n}=this;let u=-1;for(let b=0,p=w.length;b<p;b++){const h=w[b];for(let E=Math.max(u,h.begin.divIdx),N=h.end.divIdx;E<=N;E++){const J=n[E];J.textContent=t[E],J.className=""}u=h.end.divIdx+1}A?.highlightMatches&&(this.matches=this._convertMatches(A.pageMatches[v]||null,A.pageMatchesLength[v]||null),this._renderMatches(this.matches))}}},(G,_,l)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.DownloadManager=void 0;var m=l(3);function A(v,t){const n=document.createElement("a");if(!n.click)throw new Error('DownloadManager: "a.click()" is not supported.');n.href=v,n.target="_parent","download"in n&&(n.download=t),(document.body||document.documentElement).appendChild(n),n.click(),n.remove()}_.DownloadManager=class w{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(t,n){(0,m.createValidAbsoluteUrl)(t,"http://example.com")?A(t+"#pdfjs.action=download",n):console.error(`downloadUrl - not a valid URL: ${t}`)}downloadData(t,n,u){A(URL.createObjectURL(new Blob([t],{type:u})),n)}openOrDownloadData(t,n,u){const P=(0,m.isPdfFile)(u),d=P?"application/pdf":"";if(P){let p,b=this._openBlobUrls.get(t);b||(b=URL.createObjectURL(new Blob([n],{type:d})),this._openBlobUrls.set(t,b)),p="?file="+encodeURIComponent(b+"#"+u);try{return window.open(p),!0}catch(h){console.error(`openOrDownloadData: ${h}`),URL.revokeObjectURL(b),this._openBlobUrls.delete(t)}}return this.downloadData(n,u,d),!1}download(t,n,u,P="download"){A(URL.createObjectURL(t),u)}}},(G,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.WaitOnType=_.EventBus=_.AutomationEventBus=void 0,_.waitOnEventOrTimeout=function m({target:v,name:t,delay:n=0}){return new Promise(function(u,P){if("object"!=typeof v||!t||"string"!=typeof t||!(Number.isInteger(n)&&n>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function d(M){v instanceof A?v._off(t,b):v.removeEventListener(t,b),h&&clearTimeout(h),u(M)}const b=d.bind(null,l.EVENT);v instanceof A?v._on(t,b):v.addEventListener(t,b);const p=d.bind(null,l.TIMEOUT),h=setTimeout(p,n)})};const l={EVENT:"event",TIMEOUT:"timeout"};_.WaitOnType=l;class A{constructor(){this._listeners=Object.create(null)}on(t,n,u=null){this._on(t,n,{external:!0,once:u?.once})}off(t,n,u=null){this._off(t,n,{external:!0,once:u?.once})}dispatch(t,n){const u=this._listeners[t];if(!u||0===u.length)return;let P;for(const{listener:d,external:b,once:p}of u.slice(0))p&&this._off(t,d),b?(P||=[]).push(d):d(n);if(P){for(const d of P)d(n);P=null}}_on(t,n,u=null){(this._listeners[t]||=[]).push({listener:n,external:!0===u?.external,once:!0===u?.once})}_off(t,n,u=null){const P=this._listeners[t];if(P)for(let d=0,b=P.length;d<b;d++)if(P[d].listener===n)return void P.splice(d,1)}}_.EventBus=A,_.AutomationEventBus=class w extends A{dispatch(t,n){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(G,_,l)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.GenericL10n=void 0,l(19);var m=l(4);const A=document.webL10n;_.GenericL10n=class w{constructor(t){this._lang=t,this._ready=new Promise((n,u)=>{A.setLanguage((0,m.fixupLangCode)(t),()=>{n(A)})})}getLanguage(){var t=this;return y(function*(){return(yield t._ready).getLanguage()})()}getDirection(){var t=this;return y(function*(){return(yield t._ready).getDirection()})()}get(t,n=null,u=(0,m.getL10nFallback)(t,n)){var P=this;return y(function*(){return(yield P._ready).get(t,n,u)})()}translate(t){var n=this;return y(function*(){return(yield n._ready).translate(t)})()}}},()=>{document.webL10n=function(G,_,l){var m={},A="",w="textContent",v="",t={},n="loading",u=!0;function h(s,e,r){e=e||function(f){},r=r||function(){};var o=new XMLHttpRequest;o.open("GET",s,u),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=utf-8"),o.onreadystatechange=function(){4==o.readyState&&(200==o.status||0===o.status?e(o.responseText):r())},o.onerror=r,o.ontimeout=r;try{o.send(null)}catch{r()}}function E(s,e){s&&(s=s.toLowerCase()),e=e||function(){},function N(){m={},A="",v=""}(),v=s;var r=function P(){return _.querySelectorAll('link[type="application/l10n"]')}(),o=r.length;if(0!==o){var k,Q=0;k=function(){++Q>=o&&(e(),n="complete")};for(var K=0;K<o;K++)new V(r[K]).load(s,k)}else{var g=function d(){var s=_.querySelector('script[type="application/l10n"]');return s?JSON.parse(s.innerHTML):null}();if(g&&g.locales&&g.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(m=g.locales[s])){var f=g.default_locale.toLowerCase();for(var c in g.locales){if((c=c.toLowerCase())===s){m=g.locales[s];break}c===f&&(m=g.locales[f])}}e()}else console.log("no resource to load, early way out");n="complete"}function V(ie){var re=ie.href;this.load=function(_e,ve){!function M(s,e,r,o){var g=s.replace(/[^\/]*$/,"")||"./";function f(k){return k.lastIndexOf("\\")<0?k:k.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}h(s,function(k){A+=k,function c(k,Q){var V={},K=/^\s*|\s*$/,Y=/^\s*#|^\s*$/,ie=/^\s*\[(.*)\]\s*$/,re=/^\s*@import\s+url\((.*)\)\s*$/i,_e=/^([^=\s]*)\s*=\s*(.+)$/;function ve(Se,de,Ee){var Ce=Se.replace(K,"").split(/[\r\n]+/),Ae="*",ce=e.split("-",1)[0],pe=!1,he="";!function C(){for(;;){if(!Ce.length)return void Ee();var ee=Ce.shift();if(!Y.test(ee)){if(de){if(he=ie.exec(ee)){Ae=he[1].toLowerCase(),pe="*"!==Ae&&Ae!==e&&Ae!==ce;continue}if(pe)continue;if(he=re.exec(ee))return void Pe(g+he[1],C)}var ae=ee.match(_e);ae&&3==ae.length&&(V[ae[1]]=f(ae[2]))}}}()}function Pe(Se,de){h(Se,function(Ee){ve(Ee,!1,de)},function(){console.warn(Se+" not found."),de()})}ve(k,!0,function(){Q(V)})}(k,function(Q){for(var V in Q){var K,Y,ie=V.lastIndexOf(".");ie>0?(K=V.substring(0,ie),Y=V.substring(ie+1)):(K=V,Y=w),m[K]||(m[K]={}),m[K][Y]=Q[V]}r&&r()})},o)}(re,_e,ve,function(){console.warn(re+" not found."),console.warn('"'+_e+'" resource not found'),v="",ve()})}}}function te(s,e,r){var o=m[s];if(!o){if(console.warn("#"+s+" is undefined."),!r)return null;o=r}var g={};for(var f in o){var c=o[f];c=se(c=ne(c,e,s,f),e,s),g[f]=c}return g}function ne(s,e,r,o){var f=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(s);if(!f||!f.length)return s;var Q,c=f[1],k=f[2];return e&&k in e?Q=e[k]:k in m&&(Q=m[k]),c in t&&(s=(0,t[c])(s,Q,r,o)),s}function se(s,e,r){return s.replace(/\{\{\s*(.+?)\s*\}\}/g,function(g,f){return e&&f in e?e[f]:f in m?m[f]:(console.log("argument {{"+f+"}} for #"+r+" is undefined."),g)})}function fe(s){var e=function p(s){if(!s)return{};var e=s.getAttribute("data-l10n-id"),r=s.getAttribute("data-l10n-args"),o={};if(r)try{o=JSON.parse(r)}catch{console.warn("could not parse arguments for #"+e)}return{id:e,args:o}}(s);if(e.id){var r=te(e.id,e.args);if(!r)return void console.warn("#"+e.id+" is undefined.");if(r[w]){if(0===function ue(s){if(s.children)return s.children.length;if(typeof s.childElementCount<"u")return s.childElementCount;for(var e=0,r=0;r<s.childNodes.length;r++)e+=1===s.nodeType?1:0;return e}(s))s[w]=r[w];else{for(var o=s.childNodes,g=!1,f=0,c=o.length;f<c;f++)3===o[f].nodeType&&/\S/.test(o[f].nodeValue)&&(g?o[f].nodeValue="":(o[f].nodeValue=r[w],g=!0));if(!g){var k=_.createTextNode(r[w]);s.insertBefore(k,s.firstChild)}}delete r[w]}for(var Q in r)s[Q]=r[Q]}}return t.plural=function(s,e,r,o){var g=parseFloat(e);if(isNaN(g)||o!=w)return s;t._pluralRules||(t._pluralRules=function J(s){function r(c,k){return-1!==k.indexOf(c)}function o(c,k,Q){return k<=c&&c<=Q}var g={0:function(c){return"other"},1:function(c){return o(c%100,3,10)?"few":0===c?"zero":o(c%100,11,99)?"many":2==c?"two":1==c?"one":"other"},2:function(c){return 0!==c&&c%10==0?"many":2==c?"two":1==c?"one":"other"},3:function(c){return 1==c?"one":"other"},4:function(c){return o(c,0,1)?"one":"other"},5:function(c){return o(c,0,2)&&2!=c?"one":"other"},6:function(c){return 0===c?"zero":c%10==1&&c%100!=11?"one":"other"},7:function(c){return 2==c?"two":1==c?"one":"other"},8:function(c){return o(c,3,6)?"few":o(c,7,10)?"many":2==c?"two":1==c?"one":"other"},9:function(c){return 0===c||1!=c&&o(c%100,1,19)?"few":1==c?"one":"other"},10:function(c){return o(c%10,2,9)&&!o(c%100,11,19)?"few":c%10!=1||o(c%100,11,19)?"other":"one"},11:function(c){return o(c%10,2,4)&&!o(c%100,12,14)?"few":c%10==0||o(c%10,5,9)||o(c%100,11,14)?"many":c%10==1&&c%100!=11?"one":"other"},12:function(c){return o(c,2,4)?"few":1==c?"one":"other"},13:function(c){return o(c%10,2,4)&&!o(c%100,12,14)?"few":1!=c&&o(c%10,0,1)||o(c%10,5,9)||o(c%100,12,14)?"many":1==c?"one":"other"},14:function(c){return o(c%100,3,4)?"few":c%100==2?"two":c%100==1?"one":"other"},15:function(c){return 0===c||o(c%100,2,10)?"few":o(c%100,11,19)?"many":1==c?"one":"other"},16:function(c){return c%10==1&&11!=c?"one":"other"},17:function(c){return 3==c?"few":0===c?"zero":6==c?"many":2==c?"two":1==c?"one":"other"},18:function(c){return 0===c?"zero":o(c,0,2)&&0!==c&&2!=c?"one":"other"},19:function(c){return o(c,2,10)?"few":o(c,0,1)?"one":"other"},20:function(c){return!o(c%10,3,4)&&c%10!=9||o(c%100,10,19)||o(c%100,70,79)||o(c%100,90,99)?c%1e6==0&&0!==c?"many":c%10!=2||r(c%100,[12,72,92])?c%10!=1||r(c%100,[11,71,91])?"other":"one":"two":"few"},21:function(c){return 0===c?"zero":1==c?"one":"other"},22:function(c){return o(c,0,1)||o(c,11,99)?"one":"other"},23:function(c){return o(c%10,1,2)||c%20==0?"one":"other"},24:function(c){return o(c,3,10)||o(c,13,19)?"few":r(c,[2,12])?"two":r(c,[1,11])?"one":"other"}},f={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[s.replace(/-.*$/,"")];return f in g?g[f]:(console.warn("plural form unknown for ["+s+"]"),function(){return"other"})}(v));var f="["+t._pluralRules(g)+"]";return 0===g&&r+"[zero]"in m?s=m[r+"[zero]"][o]:1==g&&r+"[one]"in m?s=m[r+"[one]"][o]:2==g&&r+"[two]"in m?s=m[r+"[two]"][o]:r+f in m?s=m[r+f][o]:r+"[other]"in m&&(s=m[r+"[other]"][o]),s},{get:function(s,e,r){var f,o=s.lastIndexOf("."),g=w;o>0&&(g=s.substring(o+1),s=s.substring(0,o)),r&&((f={})[g]=r);var c=te(s,e,f);return c&&g in c?c[g]:"{{"+s+"}}"},getData:function(){return m},getText:function(){return A},getLanguage:function(){return v},setLanguage:function(s,e){E(s,function(){e&&e()})},getDirection:function(){var e=v.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(e)>=0?"rtl":"ltr"},translate:function F(s){for(var e=function b(s){return s?s.querySelectorAll("*[data-l10n-id]"):[]}(s=s||_.documentElement),r=e.length,o=0;o<r;o++)fe(e[o]);fe(s)},getReadyState:function(){return n},ready:function(s){s&&("complete"==n||"interactive"==n?G.setTimeout(function(){s()}):_.addEventListener&&_.addEventListener("localized",function e(){_.removeEventListener("localized",e),s()}))}}}(window,document)},(G,_,l)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFFindController=_.FindState=void 0;var m=l(6),A=l(3),w=l(21);const v={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};_.FindState=v;const t=250,P={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},d=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),b=[...d.values()].map(z=>String.fromCharCode(z)).join(""),p=/\p{M}+/gu,h=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,M=/([^\p{M}])\p{M}*$/u,E=/^\p{M}*([^\p{M}])/u;let N=null;function J(z){if(!N){const Le=Object.keys(P).join("");N=new RegExp(`([${Le}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const Z=[];let oe;for(;null!==(oe=p.exec(z));)Z.push([oe[0].length,oe.index]);let me=z.normalize("NFD");const be=[[0,0]];let xe=0,we=0,Me=0,Te=0,ke=!1;return me=me.replace(N,(Le,Ne,Re,De,Fe,Oe)=>{if(Oe-=Me,Ne){const Ie=P[Le],Ve=Ie.length;for(let Be=1;Be<Ve;Be++)be.push([Oe-we+Be,we-Be]);return we-=Ve-1,Ie}if(Re){const Ie=Re.endsWith("\n"),Ve=Ie?Re.length-2:Re.length;ke=!0;let Be=Ve;Oe+Te===Z[xe]?.[1]&&(Be-=Z[xe][0],++xe);for(let Ue=1;Ue<Be+1;Ue++)be.push([Oe-1-we+Ue,we-Ue]);return we-=Be,Me+=Be,Ie?(be.push([(Oe+=Ve-1)-we+1,1+we]),we+=1,Me+=1,Te+=1,Re.slice(0,Ve)):Re}return De?(be.push([Oe-we+1,1+we]),we+=1,Me+=1,Te+=1,De.charAt(0)):(be.push([Oe-we+1,we-1]),we-=1,Me+=1,Te+=1," ")}),be.push([me.length,we]),[me,be,ke]}function te(z,Z,oe){if(!z)return[Z,oe];const me=Z,be=Z+oe;let xe=(0,m.binarySearchFirstItem)(z,Me=>Me[0]>=me);z[xe][0]>me&&--xe;let we=(0,m.binarySearchFirstItem)(z,Me=>Me[0]>=be,xe);return z[we][0]>be&&--we,[me+z[xe][1],oe+z[we][1]-z[xe][1]]}var ne=new WeakSet,se=new WeakSet,fe=new WeakMap,ue=new WeakSet,F=new WeakSet,s=new WeakSet,e=new WeakSet,r=new WeakSet,o=new WeakSet,g=new WeakSet,f=new WeakSet,c=new WeakSet,k=new WeakSet,Q=new WeakSet,V=new WeakSet,K=new WeakSet,Y=new WeakSet,ie=new WeakSet,re=new WeakSet,_e=new WeakSet;function Pe(z){if(!z)return;const Z=this._pdfDocument,{type:oe}=z;(null===this._state||x(this,ue,Ee).call(this,z))&&(this._dirtyMatch=!0),this._state=z,"highlightallchange"!==oe&&x(this,_e,L).call(this,v.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||Z&&this._pdfDocument!==Z)return;x(this,o,he).call(this);const me=!this._highlightMatches,be=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),oe?this._dirtyMatch?x(this,c,ae).call(this):"again"===oe?(x(this,c,ae).call(this),me&&this._state.highlightAll&&x(this,f,ee).call(this)):"highlightallchange"===oe?(be?x(this,c,ae).call(this):this._highlightMatches=!0,x(this,f,ee).call(this)):x(this,c,ae).call(this):this._findTimeout=setTimeout(()=>{x(this,c,ae).call(this),this._findTimeout=null},t)})}function Se(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,A.createPromiseCapability)()}function de(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=J(this._state.query)),this._normalizedQuery}function Ee(z){if(z.query!==this._state.query)return!0;switch(z.type){case"again":const Z=this._selected.pageIdx+1,oe=this._linkService;return Z>=1&&Z<=oe.pagesCount&&Z!==oe.page&&!oe.isPageVisible(Z);case"highlightallchange":return!1}return!0}function Ce(z,Z,oe){let me=z.slice(0,Z).match(M);if(me){const be=z.charCodeAt(Z),xe=me[1].charCodeAt(0);if((0,w.getCharacterType)(be)===(0,w.getCharacterType)(xe))return!1}if(me=z.slice(Z+oe).match(E),me){const be=z.charCodeAt(Z+oe-1),xe=me[1].charCodeAt(0);if((0,w.getCharacterType)(be)===(0,w.getCharacterType)(xe))return!1}return!0}function Ae(z,Z,oe,me){const be=[],xe=[],we=this._pageDiffs[oe];let Me;for(;null!==(Me=z.exec(me));){if(Z&&!x(this,F,Ce).call(this,me,Me.index,Me[0].length))continue;const[Te,ke]=te(we,Me.index,Me[0].length);ke&&(be.push(Te),xe.push(ke))}this._pageMatches[oe]=be,this._pageMatchesLength[oe]=xe}function ce(z,Z){const{matchDiacritics:oe}=this._state;let me=!1;return(z=z.replace(h,(xe,we,Me,Te,ke,Le)=>we?`[ ]*\\${we}[ ]*`:Me?`[ ]*${Me}[ ]*`:Te?"[ ]+":oe?ke||Le:ke?d.has(ke.charCodeAt(0))?ke:"":Z?(me=!0,`${Le}\\p{M}*`):Le)).endsWith("[ ]*")&&(z=z.slice(0,z.length-"[ ]*".length)),oe&&Z&&(me=!0,z=`${z}(?=[${b}]|[^\\p{M}]|$)`),[me,z]}function pe(z){let Z=T(this,fe);if(0===Z.length)return;const{caseSensitive:oe,entireWord:me,phraseSearch:be}=this._state,xe=this._pageContents[z],we=this._hasDiacritics[z];let Me=!1;if(be)[Me,Z]=x(this,e,ce).call(this,Z,we);else{const Le=Z.match(/\S+/g);Le&&(Z=Le.sort().reverse().map(Ne=>{const[Re,De]=x(this,e,ce).call(this,Ne,we);return Me||=Re,`(${De})`}).join("|"))}Z=new RegExp(Z,`g${Me?"u":""}${oe?"":"i"}`),x(this,s,Ae).call(this,Z,me,z,xe),this._state.highlightAll&&x(this,g,C).call(this,z),this._resumePageIdx===z&&(this._resumePageIdx=null,x(this,Q,ge).call(this));const ke=this._pageMatches[z].length;ke>0&&(this._matchesCountTotal+=ke,x(this,re,le).call(this))}function he(){if(this._extractTextPromises.length>0)return;let z=Promise.resolve();for(let Z=0,oe=this._linkService.pagesCount;Z<oe;Z++){const me=(0,A.createPromiseCapability)();this._extractTextPromises[Z]=me.promise,z=z.then(()=>this._pdfDocument.getPage(Z+1).then(be=>be.getTextContent()).then(be=>{const xe=[];for(const we of be.items)xe.push(we.str),we.hasEOL&&xe.push("\n");[this._pageContents[Z],this._pageDiffs[Z],this._hasDiacritics[Z]]=J(xe.join("")),me.resolve()},be=>{console.error(`Unable to get text content for page ${Z+1}`,be),this._pageContents[Z]="",this._pageDiffs[Z]=null,this._hasDiacritics[Z]=!1,me.resolve()}))}}function C(z){this._scrollMatches&&this._selected.pageIdx===z&&(this._linkService.page=z+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:z})}function ee(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function ae(){const z=this._state.findPrevious,Z=this._linkService.page-1,oe=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=Z,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,x(this,f,ee).call(this);for(let be=0;be<oe;be++)this._pendingFindMatches.has(be)||(this._pendingFindMatches.add(be),this._extractTextPromises[be].then(()=>{this._pendingFindMatches.delete(be),x(this,r,pe).call(this,be)}))}if(""===T(this,fe))return void x(this,_e,L).call(this,v.FOUND);if(this._resumePageIdx)return;const me=this._offset;if(this._pagesToSearch=oe,null!==me.matchIdx){if(!z&&me.matchIdx+1<this._pageMatches[me.pageIdx].length||z&&me.matchIdx>0)return me.matchIdx=z?me.matchIdx-1:me.matchIdx+1,void x(this,K,D).call(this,!0);x(this,V,X).call(this,z)}x(this,Q,ge).call(this)}function ye(z){const Z=this._offset,oe=z.length,me=this._state.findPrevious;return oe?(Z.matchIdx=me?oe-1:0,x(this,K,D).call(this,!0),!0):(x(this,V,X).call(this,me),!!(Z.wrapped&&(Z.matchIdx=null,this._pagesToSearch<0))&&(x(this,K,D).call(this,!1),!0))}function ge(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let z=null;do{const Z=this._offset.pageIdx;if(z=this._pageMatches[Z],!z){this._resumePageIdx=Z;break}}while(!x(this,k,ye).call(this,z))}function X(z){const Z=this._offset,oe=this._linkService.pagesCount;Z.pageIdx=z?Z.pageIdx-1:Z.pageIdx+1,Z.matchIdx=null,this._pagesToSearch--,(Z.pageIdx>=oe||Z.pageIdx<0)&&(Z.pageIdx=z?oe-1:0,Z.wrapped=!0)}function D(z=!1){let Z=v.NOT_FOUND;const oe=this._offset.wrapped;if(this._offset.wrapped=!1,z){const me=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,Z=oe?v.WRAPPED:v.FOUND,-1!==me&&me!==this._selected.pageIdx&&x(this,g,C).call(this,me)}x(this,_e,L).call(this,Z,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,x(this,g,C).call(this,this._selected.pageIdx))}function j(z){const Z=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||Z&&this._pdfDocument!==Z||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),x(this,_e,L).call(this,v.FOUND),this._highlightMatches=!1,x(this,f,ee).call(this))})}function U(){const{pageIdx:z,matchIdx:Z}=this._selected;let oe=0,me=this._matchesCountTotal;if(-1!==Z){for(let be=0;be<z;be++)oe+=this._pageMatches[be]?.length||0;oe+=Z+1}return(oe<1||oe>me)&&(oe=me=0),{current:oe,total:me}}function le(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:x(this,ie,U).call(this)})}function L(z,Z=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:z,previous:Z,matchesCount:x(this,ie,U).call(this),rawQuery:this._state?.query??null})}_.PDFFindController=class ve{constructor({linkService:Z,eventBus:oe}){O(this,_e),O(this,re),O(this,ie),O(this,Y),O(this,K),O(this,V),O(this,Q),O(this,k),O(this,c),O(this,f),O(this,g),O(this,o),O(this,r),O(this,e),O(this,s),O(this,F),O(this,ue),R(this,fe,{get:de,set:void 0}),O(this,se),O(this,ne),this._linkService=Z,this._eventBus=oe,x(this,se,Se).call(this),oe._on("find",x(this,ne,Pe).bind(this)),oe._on("findbarclose",x(this,Y,j).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(Z){this._pdfDocument&&x(this,se,Se).call(this),Z&&(this._pdfDocument=Z,this._firstPageCapability.resolve())}scrollMatchIntoView({element:Z=null,selectedLeft:oe=0,pageIndex:me=-1,matchIndex:be=-1}){this._scrollMatches&&Z&&-1!==be&&be===this._selected.matchIdx&&-1!==me&&me===this._selected.pageIdx&&(this._scrollMatches=!1,(0,m.scrollIntoView)(Z,{top:-50,left:oe+-400},!0))}}},(G,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.CharacterType=void 0,_.getCharacterType=function p(h){return function m(h){return h<11904}(h)?function A(h){return 0==(65408&h)}(h)?function t(h){return 32===h||9===h||13===h||10===h}(h)?l.SPACE:function w(h){return h>=97&&h<=122||h>=65&&h<=90}(h)||function v(h){return h>=48&&h<=57}(h)||95===h?l.ALPHA_LETTER:l.PUNCT:function b(h){return 3584==(65408&h)}(h)?l.THAI_LETTER:160===h?l.SPACE:l.ALPHA_LETTER:function n(h){return h>=13312&&h<=40959||h>=63744&&h<=64255}(h)?l.HAN_LETTER:function u(h){return h>=12448&&h<=12543}(h)?l.KATAKANA_LETTER:function P(h){return h>=12352&&h<=12447}(h)?l.HIRAGANA_LETTER:function d(h){return h>=65376&&h<=65439}(h)?l.HALFWIDTH_KATAKANA_LETTER:l.ALPHA_LETTER};const l={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};_.CharacterType=l},(G,_,l)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFHistory=void 0,_.isDestArraysEqual=d,_.isDestHashesEqual=P;var m=l(6),A=l(17);function n(){return document.location.hash}function P(b,p){return"string"==typeof b&&"string"==typeof p&&(b===p||(0,m.parseQueryString)(b).get("nameddest")===p)}function d(b,p){function h(M,E){if(typeof M!=typeof E||Array.isArray(M)||Array.isArray(E))return!1;if(null!==M&&"object"==typeof M&&null!==E){if(Object.keys(M).length!==Object.keys(E).length)return!1;for(const N in M)if(!h(M[N],E[N]))return!1;return!0}return M===E||Number.isNaN(M)&&Number.isNaN(E)}if(!Array.isArray(b)||!Array.isArray(p)||b.length!==p.length)return!1;for(let M=0,E=b.length;M<E;M++)if(!h(b[M],p[M]))return!1;return!0}_.PDFHistory=class u{constructor({linkService:p,eventBus:h}){this.linkService=p,this.eventBus=h,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",M=>{this._isPagesLoaded=!!M.pagesCount},{once:!0})})}initialize({fingerprint:p,resetHistory:h=!1,updateUrl:M=!1}){if(!p||"string"!=typeof p)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const E=""!==this._fingerprint&&this._fingerprint!==p;this._fingerprint=p,this._updateUrl=!0===M,this._initialized=!0,this._bindEvents();const N=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=n(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(N,!0)||h){const{hash:te,page:ne,rotation:se}=this._parseCurrentHash(!0);return!te||E||h?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:te,page:ne,rotation:se},!0)}const J=N.destination;this._updateInternalState(J,N.uid,!0),void 0!==J.rotation&&(this._initialRotation=J.rotation),J.dest?(this._initialBookmark=JSON.stringify(J.dest),this._destination.page=null):J.hash?this._initialBookmark=J.hash:J.page&&(this._initialBookmark=`page=${J.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:p=null,explicitDest:h,pageNumber:M}){if(!this._initialized)return;if(p&&"string"!=typeof p)return void console.error(`PDFHistory.push: "${p}" is not a valid namedDest parameter.`);if(!Array.isArray(h))return void console.error(`PDFHistory.push: "${h}" is not a valid explicitDest parameter.`);if(!this._isValidPage(M)&&(null!==M||this._destination))return void console.error(`PDFHistory.push: "${M}" is not a valid pageNumber parameter.`);const E=p||JSON.stringify(h);if(!E)return;let N=!1;if(this._destination&&(P(this._destination.hash,E)||d(this._destination.dest,h))){if(this._destination.page)return;N=!0}this._popStateInProgress&&!N||(this._pushOrReplaceState({dest:h,hash:E,page:M,rotation:this.linkService.rotation},N),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(p){if(this._initialized){if(!this._isValidPage(p))return void console.error(`PDFHistory.pushPage: "${p}" is not a valid page number.`);this._destination?.page!==p&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${p}`,page:p,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const p=window.history.state;this._isValidState(p)&&p.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const p=window.history.state;this._isValidState(p)&&p.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(p,h=!1){const M=h||!this._destination,E={fingerprint:this._fingerprint,uid:M?this._uid:this._uid+1,destination:p};let N;if(this._updateInternalState(p,E.uid),this._updateUrl&&p?.hash){const J=document.location.href.split("#")[0];J.startsWith("file://")||(N=`${J}#${p.hash}`)}M?window.history.replaceState(E,"",N):window.history.pushState(E,"",N)}_tryPushCurrentPosition(p=!1){if(!this._position)return;let h=this._position;if(p&&(h=Object.assign(Object.create(null),this._position),h.temporary=!0),!this._destination)return void this._pushOrReplaceState(h);if(this._destination.temporary)return void this._pushOrReplaceState(h,!0);if(this._destination.hash===h.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let M=!1;if(this._destination.page>=h.first&&this._destination.page<=h.page){if(void 0!==this._destination.dest||!this._destination.first)return;M=!0}this._pushOrReplaceState(h,M)}_isValidPage(p){return Number.isInteger(p)&&p>0&&p<=this.linkService.pagesCount}_isValidState(p,h=!1){if(!p)return!1;if(p.fingerprint!==this._fingerprint){if(!h)return!1;{if("string"!=typeof p.fingerprint||p.fingerprint.length!==this._fingerprint.length)return!1;const[M]=performance.getEntriesByType("navigation");if("reload"!==M?.type)return!1}}return!(!Number.isInteger(p.uid)||p.uid<0||null===p.destination||"object"!=typeof p.destination)}_updateInternalState(p,h,M=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),M&&p?.temporary&&delete p.temporary,this._destination=p,this._uid=h,this._maxUid=Math.max(this._maxUid,h),this._numPositionUpdates=0}_parseCurrentHash(p=!1){const h=unescape(n()).substring(1),M=(0,m.parseQueryString)(h),E=M.get("nameddest")||"";let N=0|M.get("page");return(!this._isValidPage(N)||p&&E.length>0)&&(N=null),{hash:h,page:N,rotation:this.linkService.rotation}}_updateViewarea({location:p}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:p.pdfOpenParams.substring(1),page:this.linkService.page,first:p.pageNumber,rotation:p.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:p}){const h=n(),M=this._currentHash!==h;if(this._currentHash=h,!p){this._uid++;const{hash:N,page:J,rotation:te}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:N,page:J,rotation:te},!0)}if(!this._isValidState(p))return;this._popStateInProgress=!0,M&&(this._blockHashChange++,(0,A.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const E=p.destination;this._updateInternalState(E,p.uid,!0),(0,m.isValidRotation)(E.rotation)&&(this.linkService.rotation=E.rotation),E.dest?this.linkService.goToDestination(E.dest):E.hash?this.linkService.setHash(E.hash):E.page&&(this.linkService.page=E.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(G,_,l)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PDFScriptingManager=void 0;var m=l(6),A=l(3);_.PDFScriptingManager=class w{constructor({eventBus:t,sandboxBundleSrc:n=null,scriptingFactory:u=null,docPropertiesLookup:P=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=t,this._sandboxBundleSrc=n,this._scriptingFactory=u,this._docPropertiesLookup=P,this._scriptingFactory||window.addEventListener("updatefromsandbox",d=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:d.detail})})}setViewer(t){this._pdfViewer=t}setDocument(t){var n=this;return y(function*(){if(n._pdfDocument&&(yield n._destroyScripting()),n._pdfDocument=t,!t)return;const[u,P,d]=yield Promise.all([t.getFieldObjects(),t.getCalculationOrderIds(),t.getJSActions()]);if(u||d){if(t===n._pdfDocument){try{n._scripting=n._createScripting()}catch(b){return console.error(`PDFScriptingManager.setDocument: "${b?.message}".`),void(yield n._destroyScripting())}n._internalEvents.set("updatefromsandbox",b=>{b?.source===window&&n._updateFromSandbox(b.detail)}),n._internalEvents.set("dispatcheventinsandbox",b=>{n._scripting?.dispatchEventInSandbox(b.detail)}),n._internalEvents.set("pagechanging",({pageNumber:b,previous:p})=>{b!==p&&(n._dispatchPageClose(p),n._dispatchPageOpen(b))}),n._internalEvents.set("pagerendered",({pageNumber:b})=>{n._pageOpenPending.has(b)&&b===n._pdfViewer.currentPageNumber&&n._dispatchPageOpen(b)}),n._internalEvents.set("pagesdestroy",function(){var b=y(function*(p){yield n._dispatchPageClose(n._pdfViewer.currentPageNumber),yield n._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),n._closeCapability?.resolve()});return function(p){return b.apply(this,arguments)}}()),n._domEvents.set("mousedown",b=>{n._mouseState.isDown=!0}),n._domEvents.set("mouseup",b=>{n._mouseState.isDown=!1});for(const[b,p]of n._internalEvents)n._eventBus._on(b,p);for(const[b,p]of n._domEvents)window.addEventListener(b,p,!0);try{const b=yield n._getDocProperties();if(t!==n._pdfDocument)return;yield n._scripting.createSandbox({objects:u,calculationOrder:P,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...b,actions:d}}),n._eventBus.dispatch("sandboxcreated",{source:n})}catch(b){return console.error(`PDFScriptingManager.setDocument: "${b?.message}".`),void(yield n._destroyScripting())}yield n._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield n._dispatchPageOpen(n._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{t===n._pdfDocument&&(n._ready=!0)})}}else yield n._destroyScripting()})()}dispatchWillSave(t){var n=this;return y(function*(){return n._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(t){var n=this;return y(function*(){return n._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(t){var n=this;return y(function*(){return n._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(t){var n=this;return y(function*(){return n._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,A.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,A.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,A.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,A.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(t){var n=this;return y(function*(){const u=n._pdfViewer.isInPresentationMode||n._pdfViewer.isChangingPresentationMode,{id:P,siblings:d,command:b,value:p}=t;if(!P){switch(b){case"clear":console.clear();break;case"error":console.error(p);break;case"layout":if(u)return;const M=(0,m.apiPageLayoutToViewerModes)(p);n._pdfViewer.spreadMode=M.spreadMode;break;case"page-num":n._pdfViewer.currentPageNumber=p+1;break;case"print":yield n._pdfViewer.pagesPromise,n._eventBus.dispatch("print",{source:n});break;case"println":console.log(p);break;case"zoom":if(u)return;n._pdfViewer.currentScaleValue=p;break;case"SaveAs":n._eventBus.dispatch("save",{source:n});break;case"FirstPage":n._pdfViewer.currentPageNumber=1;break;case"LastPage":n._pdfViewer.currentPageNumber=n._pdfViewer.pagesCount;break;case"NextPage":n._pdfViewer.nextPage();break;case"PrevPage":n._pdfViewer.previousPage();break;case"ZoomViewIn":if(u)return;n._pdfViewer.increaseScale();break;case"ZoomViewOut":if(u)return;n._pdfViewer.decreaseScale()}return}if(u&&t.focus)return;delete t.id,delete t.siblings;const h=d?[P,...d]:[P];for(const M of h){const E=document.getElementById(M);E?E.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:t})):n._pdfDocument?.annotationStorage.setValue(M,t)}})()}_dispatchPageOpen(t,n=!1){var u=this;return y(function*(){const P=u._pdfDocument,d=u._visitedPages;if(n&&(u._closeCapability=(0,A.createPromiseCapability)()),!u._closeCapability)return;const b=u._pdfViewer.getPageView(t-1);if(b?.renderingState!==m.RenderingStates.FINISHED)return void u._pageOpenPending.add(t);u._pageOpenPending.delete(t);const p=y(function*(){const h=yield d.has(t)?null:b.pdfPage?.getJSActions();P===u._pdfDocument&&(yield u._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:t,actions:h}))})();d.set(t,p)})()}_dispatchPageClose(t){var n=this;return y(function*(){const u=n._pdfDocument,P=n._visitedPages;if(!n._closeCapability||n._pageOpenPending.has(t))return;const d=P.get(t);d&&(P.set(t,null),yield d,u===n._pdfDocument&&(yield n._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:t})))})()}_getDocProperties(){var t=this;return y(function*(){if(t._docPropertiesLookup)return t._docPropertiesLookup(t._pdfDocument);const{docPropertiesLookup:n}=l(24);return n(t._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,A.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:t}=l(24);return new t(this._sandboxBundleSrc)}_destroyScripting(){var t=this;return y(function*(){if(!t._scripting)return t._pdfDocument=null,void t._destroyCapability?.resolve();t._closeCapability&&(yield Promise.race([t._closeCapability.promise,new Promise(n=>{setTimeout(n,1e3)})]).catch(n=>{}),t._closeCapability=null),t._pdfDocument=null;try{yield t._scripting.destroySandbox()}catch{}for(const[n,u]of t._internalEvents)t._eventBus._off(n,u);t._internalEvents.clear();for(const[n,u]of t._domEvents)window.removeEventListener(n,u,!0);t._domEvents.clear(),t._pageOpenPending.clear(),t._visitedPages.clear(),t._scripting=null,delete t._mouseState.isDown,t._ready=!1,t._destroyCapability?.resolve()})()}}},(G,_,l)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.GenericScripting=void 0,_.docPropertiesLookup=function A(t){return w.apply(this,arguments)};var m=l(3);function w(){return(w=y(function*(t){const u="".split("#")[0];let{info:P,metadata:d,contentDispositionFilename:b,contentLength:p}=yield t.getMetadata();if(!p){const{length:h}=yield t.getDownloadInfo();p=h}return{...P,baseURL:u,filesize:p,filename:b||(0,m.getPdfFilenameFromUrl)(""),metadata:d?.getRaw(),authors:d?.get("dc:creator"),numPages:t.numPages,URL:""}})).apply(this,arguments)}_.GenericScripting=class v{constructor(n){this._ready=(0,m.loadScript)(n,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(n){var u=this;return y(function*(){(yield u._ready).create(n)})()}dispatchEventInSandbox(n){var u=this;return y(function*(){const P=yield u._ready;setTimeout(()=>P.dispatchEvent(n),0)})()}destroySandbox(){var n=this;return y(function*(){(yield n._ready).nukeSandbox()})()}}}],W={};function q(G){var _=W[G];if(void 0!==_)return _.exports;var l=W[G]={exports:{}};return I[G](l,l.exports,q),l.exports}var B={};return(()=>{var G=B;Object.defineProperty(G,"__esModule",{value:!0}),Object.defineProperty(G,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return w.AnnotationLayerBuilder}}),Object.defineProperty(G,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return _.DefaultAnnotationLayerFactory}}),Object.defineProperty(G,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return _.DefaultStructTreeLayerFactory}}),Object.defineProperty(G,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return _.DefaultTextLayerFactory}}),Object.defineProperty(G,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return _.DefaultXfaLayerFactory}}),Object.defineProperty(G,"DownloadManager",{enumerable:!0,get:function(){return v.DownloadManager}}),Object.defineProperty(G,"EventBus",{enumerable:!0,get:function(){return t.EventBus}}),Object.defineProperty(G,"GenericL10n",{enumerable:!0,get:function(){return n.GenericL10n}}),Object.defineProperty(G,"LinkTarget",{enumerable:!0,get:function(){return l.LinkTarget}}),Object.defineProperty(G,"NullL10n",{enumerable:!0,get:function(){return u.NullL10n}}),Object.defineProperty(G,"PDFFindController",{enumerable:!0,get:function(){return P.PDFFindController}}),Object.defineProperty(G,"PDFHistory",{enumerable:!0,get:function(){return d.PDFHistory}}),Object.defineProperty(G,"PDFLinkService",{enumerable:!0,get:function(){return l.PDFLinkService}}),Object.defineProperty(G,"PDFPageView",{enumerable:!0,get:function(){return b.PDFPageView}}),Object.defineProperty(G,"PDFScriptingManager",{enumerable:!0,get:function(){return p.PDFScriptingManager}}),Object.defineProperty(G,"PDFSinglePageViewer",{enumerable:!0,get:function(){return A.PDFSinglePageViewer}}),Object.defineProperty(G,"PDFViewer",{enumerable:!0,get:function(){return A.PDFViewer}}),Object.defineProperty(G,"ProgressBar",{enumerable:!0,get:function(){return m.ProgressBar}}),Object.defineProperty(G,"SimpleLinkService",{enumerable:!0,get:function(){return l.SimpleLinkService}}),Object.defineProperty(G,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return h.StructTreeLayerBuilder}}),Object.defineProperty(G,"TextLayerBuilder",{enumerable:!0,get:function(){return M.TextLayerBuilder}}),Object.defineProperty(G,"XfaLayerBuilder",{enumerable:!0,get:function(){return E.XfaLayerBuilder}}),Object.defineProperty(G,"parseQueryString",{enumerable:!0,get:function(){return m.parseQueryString}});var _=q(1),l=q(5),m=q(6),A=q(10),w=q(2),v=q(16),t=q(17),n=q(18),u=q(4),P=q(20),d=q(22),b=q(12),p=q(23),h=q(7),M=q(8),E=q(9)})(),B})(),$.exports=q()},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:$=>{function a(i,O,R,H,x,T,y){try{var I=i[T](y),W=I.value}catch(q){return void R(q)}I.done?O(W):Promise.resolve(W).then(H,x)}$.exports=function S(i){return function(){var O=this,R=arguments;return new Promise(function(H,x){var T=i.apply(O,R);function y(W){a(T,H,x,y,I,"next",W)}function I(W){a(T,H,x,y,I,"throw",W)}y(void 0)})}},$.exports.__esModule=!0,$.exports.default=$.exports},6521:$=>{$.exports=function a(S,i){if(i.has(S))throw new TypeError("Cannot initialize the same private elements twice on an object")},$.exports.__esModule=!0,$.exports.default=$.exports},8912:$=>{$.exports=function a(S,i){return i.get?i.get.call(S):i.value},$.exports.__esModule=!0,$.exports.default=$.exports},3448:$=>{$.exports=function a(S,i,O){if(i.set)i.set.call(S,O);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=O}},$.exports.__esModule=!0,$.exports.default=$.exports},2625:$=>{$.exports=function a(S,i){if(S!==i)throw new TypeError("Private static access of wrong provenance")},$.exports.__esModule=!0,$.exports.default=$.exports},2506:$=>{$.exports=function a(S,i){if(void 0===S)throw new TypeError("attempted to "+i+" private static field before its declaration")},$.exports.__esModule=!0,$.exports.default=$.exports},4069:$=>{$.exports=function a(S,i,O){if(!i.has(S))throw new TypeError("attempted to "+O+" private field on non-instance");return i.get(S)},$.exports.__esModule=!0,$.exports.default=$.exports},468:($,a,S)=>{var i=S(8912),O=S(4069);$.exports=function R(H,x){var T=O(H,x,"get");return i(H,T)},$.exports.__esModule=!0,$.exports.default=$.exports},9159:($,a,S)=>{var i=S(6521);$.exports=function O(R,H,x){i(R,H),H.set(R,x)},$.exports.__esModule=!0,$.exports.default=$.exports},5661:($,a,S)=>{var i=S(3448),O=S(4069);$.exports=function R(H,x,T){var y=O(H,x,"set");return i(H,y,T),T},$.exports.__esModule=!0,$.exports.default=$.exports},4467:$=>{$.exports=function a(S,i,O){if(!i.has(S))throw new TypeError("attempted to get private field on non-instance");return O},$.exports.__esModule=!0,$.exports.default=$.exports},1860:($,a,S)=>{var i=S(6521);$.exports=function O(R,H){i(R,H),H.add(R)},$.exports.__esModule=!0,$.exports.default=$.exports},1280:($,a,S)=>{var i=S(8912),O=S(2625),R=S(2506);$.exports=function H(x,T,y){return O(x,T),R(y,"get"),i(x,y)},$.exports.__esModule=!0,$.exports.default=$.exports},2306:($,a,S)=>{var i=S(3448),O=S(2625),R=S(2506);$.exports=function H(x,T,y,I){return O(x,T),R(y,"set"),i(x,y,I),I},$.exports.__esModule=!0,$.exports.default=$.exports},5764:($,a,S)=>{var i=S(2625);$.exports=function O(R,H,x){return i(R,H),x},$.exports.__esModule=!0,$.exports.default=$.exports},8416:($,a,S)=>{var i=S(4062);$.exports=function O(R,H,x){return(H=i(H))in R?Object.defineProperty(R,H,{value:x,enumerable:!0,configurable:!0,writable:!0}):R[H]=x,R},$.exports.__esModule=!0,$.exports.default=$.exports},5036:($,a,S)=>{var i=S(8698).default;$.exports=function O(R,H){if("object"!==i(R)||null===R)return R;var x=R[Symbol.toPrimitive];if(void 0!==x){var T=x.call(R,H||"default");if("object"!==i(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===H?String:Number)(R)},$.exports.__esModule=!0,$.exports.default=$.exports},4062:($,a,S)=>{var i=S(8698).default,O=S(5036);$.exports=function R(H){var x=O(H,"string");return"symbol"===i(x)?x:String(x)},$.exports.__esModule=!0,$.exports.default=$.exports},8698:$=>{function a(S){return $.exports=a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},$.exports.__esModule=!0,$.exports.default=$.exports,a(S)}$.exports=a,$.exports.__esModule=!0,$.exports.default=$.exports}}]);